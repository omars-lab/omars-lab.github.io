"use strict";(globalThis.webpackChunkbytesofpurpose_blog=globalThis.webpackChunkbytesofpurpose_blog||[]).push([[77366],{28453:(e,s,n)=>{n.d(s,{R:()=>l,x:()=>a});var i=n(96540);const t={},r=i.createContext(t);function l(e){const s=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),i.createElement(r.Provider,{value:s},e.children)}},71675:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>d});var i=n(72696),t=n(74848),r=n(28453);const l={title:"GraphRenderer Component Refactoring Plan",description:"Comprehensive plan to refactor the 3382-line GraphRenderer.tsx into smaller, composable components and utilities",status:"in-progress",inception_date:"2025-11-08",execution_date:"2025-11-17",type:"refactoring",component:"GraphRenderer",priority:"high"},a="GraphRenderer Refactoring Plan",c={authorsImageUrls:[]},d=[{value:"Execution Plan",id:"execution-plan",level:2},{value:"Overview",id:"overview",level:3},{value:"Component Organization Strategy",id:"component-organization-strategy",level:2},{value:"Subdirectory Structure with Index Files",id:"subdirectory-structure-with-index-files",level:3},{value:"Target Directory Structure",id:"target-directory-structure",level:4},{value:"Index File Pattern",id:"index-file-pattern",level:4},{value:"Story Organization",id:"story-organization",level:4},{value:"Benefits of This Structure",id:"benefits-of-this-structure",level:4},{value:"Migration Strategy",id:"migration-strategy",level:4},{value:"Current State Analysis",id:"current-state-analysis",level:2},{value:"File Size: 3382 lines",id:"file-size-3382-lines",level:3},{value:"Main Sections:",id:"main-sections",level:3},{value:"Existing Utilities (Already Extracted):",id:"existing-utilities-already-extracted",level:3},{value:"Existing Components (Already Extracted):",id:"existing-components-already-extracted",level:3},{value:"Refactoring Strategy",id:"refactoring-strategy",level:2},{value:"Phase 1: Extract Canvas Drawing Utilities (Low Risk)",id:"phase-1-extract-canvas-drawing-utilities-low-risk",level:3},{value:"1.1 Create <code>GraphCanvasDrawingUtils.ts</code>",id:"11-create-graphcanvasdrawingutilsts",level:4},{value:"1.2 Create <code>GraphEdgeDrawingUtils.ts</code>",id:"12-create-graphedgedrawingutilsts",level:4},{value:"Phase 2: Extract Dimension Calculation Logic (Low Risk)",id:"phase-2-extract-dimension-calculation-logic-low-risk",level:3},{value:"2.1 Create <code>useGraphDimensions.ts</code>",id:"21-create-usegraphdimensionsts",level:4},{value:"Phase 3: Extract Event Handlers (Medium Risk)",id:"phase-3-extract-event-handlers-medium-risk",level:3},{value:"3.1 Enhance <code>useGraphInteractions.ts</code>",id:"31-enhance-usegraphinteractionsts",level:4},{value:"3.2 Create <code>useGraphMenuHandlers.ts</code>",id:"32-create-usegraphmenuhandlersts",level:4},{value:"Phase 4: Extract Canvas Setup Logic (Medium Risk)",id:"phase-4-extract-canvas-setup-logic-medium-risk",level:3},{value:"4.1 Create <code>useGraphCanvasSetup.ts</code>",id:"41-create-usegraphcanvassetupts",level:4},{value:"Phase 5: Extract Menu Components (Low Risk)",id:"phase-5-extract-menu-components-low-risk",level:3},{value:"5.1 Create <code>GraphRightClickMenu.tsx</code>",id:"51-create-graphrightclickmenutsx",level:4},{value:"5.2 Create <code>GraphContextMenu.tsx</code>",id:"52-create-graphcontextmenutsx",level:4},{value:"Phase 6: Extract URL Fragment Handling (Low Risk)",id:"phase-6-extract-url-fragment-handling-low-risk",level:3},{value:"6.1 Create <code>useGraphUrlFragment.ts</code>",id:"61-create-usegraphurlfragmentts",level:4},{value:"Phase 7: Extract Constants (Low Risk)",id:"phase-7-extract-constants-low-risk",level:3},{value:"7.1 Create <code>graphConstants.ts</code>",id:"71-create-graphconstantsts",level:4},{value:"Phase 8: Refactor Main Component (High Risk - Do Last)",id:"phase-8-refactor-main-component-high-risk---do-last",level:3},{value:"8.1 Final GraphRendererImpl Structure",id:"81-final-graphrendererimpl-structure",level:4},{value:"Implementation Order (Risk-Based)",id:"implementation-order-risk-based",level:2},{value:"Phase 0: Reorganize Structure (Week 0 - Prerequisite)",id:"phase-0-reorganize-structure-week-0---prerequisite",level:3},{value:"Week 1: Low-Risk Extractions",id:"week-1-low-risk-extractions",level:3},{value:"Week 2: Medium-Risk Extractions",id:"week-2-medium-risk-extractions",level:3},{value:"Week 3: High-Risk Integration",id:"week-3-high-risk-integration",level:3},{value:"Testing Strategy",id:"testing-strategy",level:2},{value:"Test Directory Structure",id:"test-directory-structure",level:3},{value:"Unit Tests (Jest) - <code>test/unit/</code>",id:"unit-tests-jest---testunit",level:3},{value:"Phase 1: Utility Function Tests",id:"phase-1-utility-function-tests",level:4},{value:"Phase 2: Hook Tests",id:"phase-2-hook-tests",level:4},{value:"Test Utilities to Create/Update",id:"test-utilities-to-createupdate",level:4},{value:"End-to-End Tests (Playwright) - <code>test/e2e/</code>",id:"end-to-end-tests-playwright---teste2e",level:3},{value:"Update Strategy for E2E Tests",id:"update-strategy-for-e2e-tests",level:4},{value:"Files to Update:",id:"files-to-update",level:4},{value:"New E2E Tests to Add:",id:"new-e2e-tests-to-add",level:4},{value:"E2E Test Helpers to Update:",id:"e2e-test-helpers-to-update",level:4},{value:"Integration Tests (New Category)",id:"integration-tests-new-category",level:3},{value:"Purpose",id:"purpose",level:4},{value:"New Test Files:",id:"new-test-files",level:4},{value:"Test Update Checklist Per Phase",id:"test-update-checklist-per-phase",level:3},{value:"Phase 1: Extract Constants &amp; Drawing Utilities",id:"phase-1-extract-constants--drawing-utilities",level:4},{value:"Phase 2: Extract Dimension Calculations",id:"phase-2-extract-dimension-calculations",level:4},{value:"Phase 3: Extract Event Handlers",id:"phase-3-extract-event-handlers",level:4},{value:"Phase 4: Extract Canvas Setup",id:"phase-4-extract-canvas-setup",level:4},{value:"Phase 5: Extract Menu Components",id:"phase-5-extract-menu-components",level:4},{value:"Phase 6: Extract URL Fragment Handling",id:"phase-6-extract-url-fragment-handling",level:4},{value:"Phase 7: Extract Menu Handlers",id:"phase-7-extract-menu-handlers",level:4},{value:"Phase 8: Refactor Main Component",id:"phase-8-refactor-main-component",level:4},{value:"Test Maintenance Strategy",id:"test-maintenance-strategy",level:3},{value:"After Each Phase:",id:"after-each-phase",level:4},{value:"Test Coverage Goals:",id:"test-coverage-goals",level:4},{value:"Regression Testing",id:"regression-testing",level:3},{value:"Visual Regression Tests",id:"visual-regression-tests",level:4},{value:"Performance Regression Tests",id:"performance-regression-tests",level:4},{value:"Functional Regression Tests",id:"functional-regression-tests",level:4},{value:"Test Utilities to Create",id:"test-utilities-to-create",level:3},{value:"<code>test/utils/graphHookTestUtils.ts</code> (New)",id:"testutilsgraphhooktestutilsts-new",level:4},{value:"<code>test/utils/graphComponentTestUtils.tsx</code> (New)",id:"testutilsgraphcomponenttestutilstsx-new",level:4},{value:"E2E Test Updates",id:"e2e-test-updates",level:3},{value:"Minimal Changes Required",id:"minimal-changes-required",level:4},{value:"E2E Test Maintenance",id:"e2e-test-maintenance",level:4},{value:"Blog Post and Documentation Updates",id:"blog-post-and-documentation-updates",level:3},{value:"Files That Import Graph Components",id:"files-that-import-graph-components",level:4},{value:"Import Path Updates Required",id:"import-path-updates-required",level:4},{value:"Update Strategy for Blog Posts and Docs",id:"update-strategy-for-blog-posts-and-docs",level:4},{value:"Files to Update Checklist",id:"files-to-update-checklist",level:4},{value:"Testing Blog Posts and Docs",id:"testing-blog-posts-and-docs",level:4},{value:"Backward Compatibility Strategy",id:"backward-compatibility-strategy",level:4},{value:"Documentation Update Guidelines",id:"documentation-update-guidelines",level:4},{value:"Storybook Story Updates",id:"storybook-story-updates",level:3},{value:"Story Path Updates",id:"story-path-updates",level:4},{value:"Story Co-location Benefits",id:"story-co-location-benefits",level:4},{value:"Story Import Updates",id:"story-import-updates",level:4},{value:"Migration Checklist",id:"migration-checklist",level:2},{value:"Phase 0: Reorganization (Before Refactoring)",id:"phase-0-reorganization-before-refactoring",level:3},{value:"For Each Refactoring Phase:",id:"for-each-refactoring-phase",level:3},{value:"Success Criteria",id:"success-criteria",level:2},{value:"Notes",id:"notes",level:2},{value:"Potential Challenges",id:"potential-challenges",level:2},{value:"Future Improvements (Post-Refactoring)",id:"future-improvements-post-refactoring",level:2},{value:"Execution Results / Attempts",id:"execution-results--attempts",level:2},{value:"\u2705 Work In Progress (2025-11-08 to 2025-11-17)",id:"-work-in-progress-2025-11-08-to-2025-11-17",level:3}];function o(e){const s={code:"code",h2:"h2",h3:"h3",h4:"h4",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.h2,{id:"execution-plan",children:"Execution Plan"}),"\n",(0,t.jsxs)(s.p,{children:["Refactor the 3382-line ",(0,t.jsx)(s.code,{children:"GraphRenderer.tsx"})," into smaller, composable components and utilities while maintaining all existing functionality. This plan follows principles that a principal frontend engineer would approve."]}),"\n",(0,t.jsx)(s.h3,{id:"overview",children:"Overview"}),"\n",(0,t.jsx)(s.h2,{id:"component-organization-strategy",children:"Component Organization Strategy"}),"\n",(0,t.jsx)(s.h3,{id:"subdirectory-structure-with-index-files",children:"Subdirectory Structure with Index Files"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Goal"}),": Organize components into subdirectories with ",(0,t.jsx)(s.code,{children:"index.tsx"})," files for cleaner imports and better maintainability."]}),"\n",(0,t.jsx)(s.h4,{id:"target-directory-structure",children:"Target Directory Structure"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{children:"src/components/Graph/\n\u251c\u2500\u2500 GraphRenderer/              # Main component (stays at root for now)\n\u2502   \u251c\u2500\u2500 index.tsx              # Re-exports GraphRenderer\n\u2502   \u251c\u2500\u2500 GraphRenderer.tsx      # Main implementation\n\u2502   \u251c\u2500\u2500 GraphRenderer.module.css\n\u2502   \u2514\u2500\u2500 GraphRenderer.stories.tsx\n\u251c\u2500\u2500 GraphMenuBar/\n\u2502   \u251c\u2500\u2500 index.tsx              # Re-exports GraphMenuBar\n\u2502   \u251c\u2500\u2500 GraphMenuBar.tsx\n\u2502   \u2514\u2500\u2500 GraphMenuBar.stories.tsx\n\u251c\u2500\u2500 GraphInfoPanel/\n\u2502   \u251c\u2500\u2500 index.tsx              # Re-exports GraphInfoPanel\n\u2502   \u251c\u2500\u2500 GraphInfoPanel.tsx\n\u2502   \u2514\u2500\u2500 GraphInfoPanel.stories.tsx\n\u251c\u2500\u2500 GraphCanvas/\n\u2502   \u251c\u2500\u2500 index.tsx              # Re-exports GraphCanvas\n\u2502   \u251c\u2500\u2500 GraphCanvas.tsx\n\u2502   \u2514\u2500\u2500 GraphCanvas.stories.tsx\n\u251c\u2500\u2500 GraphRightClickMenu/        # New component (extracted)\n\u2502   \u251c\u2500\u2500 index.tsx\n\u2502   \u251c\u2500\u2500 GraphRightClickMenu.tsx\n\u2502   \u2514\u2500\u2500 GraphRightClickMenu.stories.tsx\n\u251c\u2500\u2500 GraphContextMenu/           # New component (extracted)\n\u2502   \u251c\u2500\u2500 index.tsx\n\u2502   \u251c\u2500\u2500 GraphContextMenu.tsx\n\u2502   \u2514\u2500\u2500 GraphContextMenu.stories.tsx\n\u251c\u2500\u2500 hooks/                      # Custom hooks\n\u2502   \u251c\u2500\u2500 index.ts                # Re-exports all hooks\n\u2502   \u251c\u2500\u2500 useGraphDimensions.ts\n\u2502   \u251c\u2500\u2500 useGraphState.ts\n\u2502   \u251c\u2500\u2500 useGraphData.ts\n\u2502   \u251c\u2500\u2500 useGraphInteractions.ts\n\u2502   \u251c\u2500\u2500 useGraphCanvasSetup.ts\n\u2502   \u251c\u2500\u2500 useGraphMenuHandlers.ts\n\u2502   \u2514\u2500\u2500 useGraphUrlFragment.ts\n\u251c\u2500\u2500 utils/                      # Utility functions\n\u2502   \u251c\u2500\u2500 index.ts                # Re-exports all utils\n\u2502   \u251c\u2500\u2500 graphConstants.ts\n\u2502   \u251c\u2500\u2500 GraphDataUtils.ts\n\u2502   \u251c\u2500\u2500 GraphNodeUtils.ts\n\u2502   \u251c\u2500\u2500 GraphRenderingUtils.ts\n\u2502   \u251c\u2500\u2500 GraphTextUtils.ts\n\u2502   \u251c\u2500\u2500 GraphCanvasDrawingUtils.ts\n\u2502   \u251c\u2500\u2500 GraphEdgeDrawingUtils.ts\n\u2502   \u2514\u2500\u2500 graphUtils.ts          # Backward compatibility re-exports\n\u251c\u2500\u2500 types.ts                    # Shared types\n\u2514\u2500\u2500 README.md                   # Component documentation\n"})}),"\n",(0,t.jsx)(s.h4,{id:"index-file-pattern",children:"Index File Pattern"}),"\n",(0,t.jsxs)(s.p,{children:["Each component subdirectory will have an ",(0,t.jsx)(s.code,{children:"index.tsx"})," that re-exports the component:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-typescript",children:"// GraphMenuBar/index.tsx\nexport { GraphMenuBar } from './GraphMenuBar';\nexport type { GraphMenuBarProps } from './GraphMenuBar';\n"})}),"\n",(0,t.jsx)(s.p,{children:"This allows clean imports:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-typescript",children:"// Before\nimport { GraphMenuBar } from './GraphMenuBar/GraphMenuBar';\n\n// After\nimport { GraphMenuBar } from './GraphMenuBar';\n"})}),"\n",(0,t.jsx)(s.h4,{id:"story-organization",children:"Story Organization"}),"\n",(0,t.jsx)(s.p,{children:"Stories will be co-located with components in their subdirectories:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-typescript",children:"// GraphMenuBar/GraphMenuBar.stories.tsx\nimport { Meta, StoryObj } from '@storybook/react';\nimport { GraphMenuBar } from './GraphMenuBar';\n\nconst meta: Meta<typeof GraphMenuBar> = {\n  title: 'Graph/GraphMenuBar',\n  component: GraphMenuBar,\n};\n\nexport default meta;\ntype Story = StoryObj<typeof GraphMenuBar>;\n\nexport const Default: Story = {\n  // ...\n};\n"})}),"\n",(0,t.jsx)(s.h4,{id:"benefits-of-this-structure",children:"Benefits of This Structure"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Cleaner Imports"}),": ",(0,t.jsx)(s.code,{children:"import { GraphMenuBar } from './GraphMenuBar'"})," instead of ",(0,t.jsx)(s.code,{children:"'./GraphMenuBar/GraphMenuBar'"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Co-location"}),": Component, styles, stories, and tests in one place"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Better Discoverability"}),": Easy to find all files related to a component"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Scalability"}),": Easy to add new components without cluttering root"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Maintainability"}),": Clear boundaries between components"]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"migration-strategy",children:"Migration Strategy"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Phase 0: Reorganize Existing Components"})," (Before refactoring)"]}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Create subdirectories for existing components"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"mkdir -p src/components/Graph/GraphMenuBar\nmkdir -p src/components/Graph/GraphInfoPanel\nmkdir -p src/components/Graph/GraphCanvas\n"})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Move component files"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"mv GraphMenuBar.tsx GraphMenuBar/GraphMenuBar.tsx\nmv GraphMenuBar.stories.tsx GraphMenuBar/GraphMenuBar.stories.tsx\n"})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Create index.tsx files"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-typescript",children:"// GraphMenuBar/index.tsx\nexport { GraphMenuBar } from './GraphMenuBar';\nexport type { GraphMenuBarProps } from './GraphMenuBar';\n"})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Update imports in GraphRenderer"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-typescript",children:"// Before\nimport { GraphMenuBar } from './GraphMenuBar';\n\n// After (no change needed if index.tsx is created)\nimport { GraphMenuBar } from './GraphMenuBar';\n"})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Create hooks/ subdirectory"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"mkdir -p src/components/Graph/hooks\nmv useGraphState.ts hooks/\nmv useGraphData.ts hooks/\nmv useGraphInteractions.ts hooks/\n"})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Create hooks/index.ts"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-typescript",children:"// hooks/index.ts\nexport { useGraphState } from './useGraphState';\nexport { useGraphData } from './useGraphData';\nexport { useGraphInteractions } from './useGraphInteractions';\n"})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Create utils/ subdirectory"})," (if not exists)"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"mkdir -p src/components/Graph/utils\n# Move utility files to utils/\n"})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Update all imports"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Update GraphRenderer imports"}),"\n",(0,t.jsx)(s.li,{children:"Update Storybook stories"}),"\n",(0,t.jsx)(s.li,{children:"Update tests"}),"\n",(0,t.jsx)(s.li,{children:"Update documentation"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Timing"}),": This reorganization should happen ",(0,t.jsx)(s.strong,{children:"before"})," starting the refactoring phases, as it provides a clean foundation."]}),"\n",(0,t.jsx)(s.h2,{id:"current-state-analysis",children:"Current State Analysis"}),"\n",(0,t.jsx)(s.h3,{id:"file-size-3382-lines",children:"File Size: 3382 lines"}),"\n",(0,t.jsx)(s.h3,{id:"main-sections",children:"Main Sections:"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Drawing Functions"})," (~600 lines): ",(0,t.jsx)(s.code,{children:"drawNodeCircle"}),", ",(0,t.jsx)(s.code,{children:"drawDebugSectionSeparators"}),", ",(0,t.jsx)(s.code,{children:"drawTitle"}),", ",(0,t.jsx)(s.code,{children:"drawStatusIndicator"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Edge Rendering Functions"})," (~100 lines): ",(0,t.jsx)(s.code,{children:"getEdgeWidth"}),", ",(0,t.jsx)(s.code,{children:"getEdgeCoordinates"}),", ",(0,t.jsx)(s.code,{children:"drawComparisonEdge"}),", ",(0,t.jsx)(s.code,{children:"drawEdgeLabel"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Main Component Logic"})," (~2600 lines): State, event handlers, dimension calculations, canvas setup, menus, info panel"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Constants"}),": ",(0,t.jsx)(s.code,{children:"NEO4J_COLORS"}),", ",(0,t.jsx)(s.code,{children:"DEBUG_SHOW_NODE_SECTIONS"})]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"existing-utilities-already-extracted",children:"Existing Utilities (Already Extracted):"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["\u2705 ",(0,t.jsx)(s.code,{children:"GraphDataUtils.ts"})," - Tree traversal, data cleaning"]}),"\n",(0,t.jsxs)(s.li,{children:["\u2705 ",(0,t.jsx)(s.code,{children:"GraphNodeUtils.ts"})," - Node properties, styling, validation"]}),"\n",(0,t.jsxs)(s.li,{children:["\u2705 ",(0,t.jsx)(s.code,{children:"GraphRenderingUtils.ts"})," - Rendering calculations, coordinates"]}),"\n",(0,t.jsxs)(s.li,{children:["\u2705 ",(0,t.jsx)(s.code,{children:"GraphTextUtils.ts"})," - Text processing, wrapping, font sizing"]}),"\n",(0,t.jsxs)(s.li,{children:["\u2705 ",(0,t.jsx)(s.code,{children:"NodeRenderer.ts"})," - Node rendering class"]}),"\n",(0,t.jsxs)(s.li,{children:["\u2705 ",(0,t.jsx)(s.code,{children:"useGraphData.ts"})," - Graph data hooks"]}),"\n",(0,t.jsxs)(s.li,{children:["\u2705 ",(0,t.jsx)(s.code,{children:"useGraphInteractions.ts"})," - Interaction hooks"]}),"\n",(0,t.jsxs)(s.li,{children:["\u2705 ",(0,t.jsx)(s.code,{children:"useGraphState.ts"})," - State management hooks"]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"existing-components-already-extracted",children:"Existing Components (Already Extracted):"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["\u2705 ",(0,t.jsx)(s.code,{children:"GraphCanvas.tsx"})," - Canvas wrapper"]}),"\n",(0,t.jsxs)(s.li,{children:["\u2705 ",(0,t.jsx)(s.code,{children:"GraphInfoPanel.tsx"})," - Info panel component"]}),"\n",(0,t.jsxs)(s.li,{children:["\u2705 ",(0,t.jsx)(s.code,{children:"GraphMenuBar.tsx"})," - Menu bar component"]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"refactoring-strategy",children:"Refactoring Strategy"}),"\n",(0,t.jsx)(s.h3,{id:"phase-1-extract-canvas-drawing-utilities-low-risk",children:"Phase 1: Extract Canvas Drawing Utilities (Low Risk)"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Goal"}),": Move pure drawing functions to utility files"]}),"\n",(0,t.jsxs)(s.h4,{id:"11-create-graphcanvasdrawingutilsts",children:["1.1 Create ",(0,t.jsx)(s.code,{children:"GraphCanvasDrawingUtils.ts"})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Extract:"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"drawNodeCircle"})," \u2192 ",(0,t.jsx)(s.code,{children:"drawNodeCircle"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"drawDebugSectionSeparators"})," \u2192 ",(0,t.jsx)(s.code,{children:"drawDebugSectionSeparators"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"drawStatusIndicator"})," \u2192 ",(0,t.jsx)(s.code,{children:"drawStatusIndicator"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"drawTitle"})," \u2192 ",(0,t.jsx)(s.code,{children:"drawTitle"})," (complex, ~400 lines - keep as-is but move to utils)"]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Location"}),": ",(0,t.jsx)(s.code,{children:"src/components/Graph/GraphCanvasDrawingUtils.ts"})]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Dependencies"}),":"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Canvas context"}),"\n",(0,t.jsx)(s.li,{children:"Node data"}),"\n",(0,t.jsx)(s.li,{children:"Styling parameters (colors, sizes)"}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Risk"}),": Low - Pure functions, no component state"]}),"\n",(0,t.jsxs)(s.h4,{id:"12-create-graphedgedrawingutilsts",children:["1.2 Create ",(0,t.jsx)(s.code,{children:"GraphEdgeDrawingUtils.ts"})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Extract:"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"drawComparisonEdge"})," \u2192 ",(0,t.jsx)(s.code,{children:"drawComparisonEdge"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"drawEdgeLabel"})," \u2192 ",(0,t.jsx)(s.code,{children:"drawEdgeLabel"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"getEdgeWidth"})," \u2192 ",(0,t.jsx)(s.code,{children:"getEdgeWidth"})," (already in GraphRenderingUtils? Check)"]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Location"}),": ",(0,t.jsx)(s.code,{children:"src/components/Graph/GraphEdgeDrawingUtils.ts"})]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Risk"}),": Low - Pure functions"]}),"\n",(0,t.jsx)(s.h3,{id:"phase-2-extract-dimension-calculation-logic-low-risk",children:"Phase 2: Extract Dimension Calculation Logic (Low Risk)"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Goal"}),": Move responsive dimension calculations to a custom hook"]}),"\n",(0,t.jsxs)(s.h4,{id:"21-create-usegraphdimensionsts",children:["2.1 Create ",(0,t.jsx)(s.code,{children:"useGraphDimensions.ts"})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Extract:"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Dimension calculation logic (lines ~2349-2361)"}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"baseGraphAreaHeight"}),", ",(0,t.jsx)(s.code,{children:"graphCanvasHeight"}),", ",(0,t.jsx)(s.code,{children:"graphAreaHeight"})," calculations"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"graphWidth"}),", ",(0,t.jsx)(s.code,{children:"panelWidth"})," calculations"]}),"\n",(0,t.jsx)(s.li,{children:"Container width measurement logic"}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Location"}),": ",(0,t.jsx)(s.code,{children:"src/components/Graph/useGraphDimensions.ts"})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Returns:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-typescript",children:"{\n  graphAreaHeight: number;\n  graphCanvasHeight: number;\n  graphWidth: number;\n  panelWidth: number;\n  actualContainerWidth: number;\n  isMobile: boolean;\n}\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Risk"}),": Low - Isolated logic, easy to test"]}),"\n",(0,t.jsx)(s.h3,{id:"phase-3-extract-event-handlers-medium-risk",children:"Phase 3: Extract Event Handlers (Medium Risk)"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Goal"}),": Move event handler logic to custom hooks"]}),"\n",(0,t.jsxs)(s.h4,{id:"31-enhance-usegraphinteractionsts",children:["3.1 Enhance ",(0,t.jsx)(s.code,{children:"useGraphInteractions.ts"})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Extract:"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"handleNodeClick"})," \u2192 ",(0,t.jsx)(s.code,{children:"useNodeClickHandler"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"handleNodeRightClick"})," \u2192 ",(0,t.jsx)(s.code,{children:"useNodeRightClickHandler"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"handleLinkClick"})," \u2192 ",(0,t.jsx)(s.code,{children:"useLinkClickHandler"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"handleLinkRightClick"})," \u2192 ",(0,t.jsx)(s.code,{children:"useLinkRightClickHandler"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"handleNodeDrag"})," \u2192 ",(0,t.jsx)(s.code,{children:"useNodeDragHandler"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"handleNodeDragEnd"})," \u2192 ",(0,t.jsx)(s.code,{children:"useNodeDragEndHandler"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"handleZoom"})," \u2192 ",(0,t.jsx)(s.code,{children:"useZoomHandler"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"handleWheel"})," \u2192 ",(0,t.jsx)(s.code,{children:"useWheelHandler"})]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Location"}),": ",(0,t.jsx)(s.code,{children:"src/components/Graph/useGraphInteractions.ts"})," (enhance existing)"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Risk"}),": Medium - Need to ensure all dependencies are passed correctly"]}),"\n",(0,t.jsxs)(s.h4,{id:"32-create-usegraphmenuhandlersts",children:["3.2 Create ",(0,t.jsx)(s.code,{children:"useGraphMenuHandlers.ts"})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Extract:"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"copyAnchorLink"})," \u2192 ",(0,t.jsx)(s.code,{children:"useCopyAnchorLink"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"togglePane"})," \u2192 ",(0,t.jsx)(s.code,{children:"useTogglePane"})]}),"\n",(0,t.jsx)(s.li,{children:"Context menu click outside handler"}),"\n",(0,t.jsx)(s.li,{children:"Right-click menu logic"}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Location"}),": ",(0,t.jsx)(s.code,{children:"src/components/Graph/useGraphMenuHandlers.ts"})]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Risk"}),": Low - Isolated menu logic"]}),"\n",(0,t.jsx)(s.h3,{id:"phase-4-extract-canvas-setup-logic-medium-risk",children:"Phase 4: Extract Canvas Setup Logic (Medium Risk)"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Goal"}),": Move canvas initialization and event listeners to a hook"]}),"\n",(0,t.jsxs)(s.h4,{id:"41-create-usegraphcanvassetupts",children:["4.1 Create ",(0,t.jsx)(s.code,{children:"useGraphCanvasSetup.ts"})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Extract:"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Canvas ref setup"}),"\n",(0,t.jsx)(s.li,{children:"Event listener registration (wheel, contextmenu)"}),"\n",(0,t.jsx)(s.li,{children:"Canvas cleanup"}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"nodeCanvasObject"})," and ",(0,t.jsx)(s.code,{children:"linkCanvasObject"})," creation"]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Location"}),": ",(0,t.jsx)(s.code,{children:"src/components/Graph/useGraphCanvasSetup.ts"})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Returns:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-typescript",children:"{\n  graphRef: RefObject<any>;\n  nodeCanvasObject: (node, ctx, globalScale) => void;\n  linkCanvasObject: (link, ctx, globalScale) => void;\n  linkCanvasObjectMode: (link) => string;\n}\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Risk"}),": Medium - Complex setup logic, need to ensure all dependencies"]}),"\n",(0,t.jsx)(s.h3,{id:"phase-5-extract-menu-components-low-risk",children:"Phase 5: Extract Menu Components (Low Risk)"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Goal"}),": Extract inline menu JSX to separate components"]}),"\n",(0,t.jsxs)(s.h4,{id:"51-create-graphrightclickmenutsx",children:["5.1 Create ",(0,t.jsx)(s.code,{children:"GraphRightClickMenu.tsx"})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Extract:"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Right-click menu JSX (lines ~2425-2486)"}),"\n",(0,t.jsx)(s.li,{children:"Menu item rendering logic"}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Location"}),": ",(0,t.jsx)(s.code,{children:"src/components/Graph/GraphRightClickMenu.tsx"})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Props:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-typescript",children:"{\n  menu: { nodeId: string; x: number; y: number } | null;\n  isDarkMode: boolean;\n  expandedNodes: Set<string>;\n  onToggleExpansion: (nodeId: string) => void;\n  onCopyLink: (nodeId: string) => void;\n  onClose: () => void;\n}\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Risk"}),": Low - Pure presentational component"]}),"\n",(0,t.jsxs)(s.h4,{id:"52-create-graphcontextmenutsx",children:["5.2 Create ",(0,t.jsx)(s.code,{children:"GraphContextMenu.tsx"})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Extract:"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Context menu JSX (lines ~2487-2510)"}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Location"}),": ",(0,t.jsx)(s.code,{children:"src/components/Graph/GraphContextMenu.tsx"})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Props:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-typescript",children:"{\n  menu: { x: number; y: number; nodeId?: string; edgeId?: string } | null;\n  isDarkMode: boolean;\n  onCopyLink: (nodeId?: string, edgeId?: string) => void;\n  onClose: () => void;\n}\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Risk"}),": Low - Pure presentational component"]}),"\n",(0,t.jsx)(s.h3,{id:"phase-6-extract-url-fragment-handling-low-risk",children:"Phase 6: Extract URL Fragment Handling (Low Risk)"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Goal"}),": Move URL fragment parsing and highlighting to a hook"]}),"\n",(0,t.jsxs)(s.h4,{id:"61-create-usegraphurlfragmentts",children:["6.1 Create ",(0,t.jsx)(s.code,{children:"useGraphUrlFragment.ts"})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Extract:"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"URL fragment parsing logic"}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"highlightNode"})," and ",(0,t.jsx)(s.code,{children:"highlightEdge"})," calls from URL"]}),"\n",(0,t.jsx)(s.li,{children:"Scroll to graph logic"}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Location"}),": ",(0,t.jsx)(s.code,{children:"src/components/Graph/useGraphUrlFragment.ts"})]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Risk"}),": Low - Isolated URL handling"]}),"\n",(0,t.jsx)(s.h3,{id:"phase-7-extract-constants-low-risk",children:"Phase 7: Extract Constants (Low Risk)"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Goal"}),": Move constants to a separate file"]}),"\n",(0,t.jsxs)(s.h4,{id:"71-create-graphconstantsts",children:["7.1 Create ",(0,t.jsx)(s.code,{children:"graphConstants.ts"})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Extract:"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"NEO4J_COLORS"})," \u2192 ",(0,t.jsx)(s.code,{children:"NEO4J_COLORS"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"DEBUG_SHOW_NODE_SECTIONS"})," \u2192 ",(0,t.jsx)(s.code,{children:"DEBUG_SHOW_NODE_SECTIONS"})]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Location"}),": ",(0,t.jsx)(s.code,{children:"src/components/Graph/graphConstants.ts"})]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Risk"}),": Low - Simple constants"]}),"\n",(0,t.jsx)(s.h3,{id:"phase-8-refactor-main-component-high-risk---do-last",children:"Phase 8: Refactor Main Component (High Risk - Do Last)"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Goal"}),": Simplify GraphRendererImpl to orchestrate hooks and components"]}),"\n",(0,t.jsx)(s.h4,{id:"81-final-graphrendererimpl-structure",children:"8.1 Final GraphRendererImpl Structure"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-typescript",children:"const GraphRendererImpl = ({ ... }) => {\n  // Hooks\n  const dimensions = useGraphDimensions(width, height, paneVisible, isMobile);\n  const graphState = useGraphState(initialExpandedNodes);\n  const interactions = useGraphInteractions(/* deps */);\n  const canvasSetup = useGraphCanvasSetup(/* deps */);\n  const menuHandlers = useGraphMenuHandlers(graphId);\n  const urlFragment = useGraphUrlFragment(/* deps */);\n  \n  // Memoized callbacks\n  const nodeCanvasObject = canvasSetup.nodeCanvasObject;\n  const linkCanvasObject = canvasSetup.linkCanvasObject;\n  \n  // Render\n  return (\n    <div>\n      <GraphMenuBar />\n      <div className={styles.graphArea}>\n        <GraphCanvas>\n          <ForceGraph2D {...props} />\n        </GraphCanvas>\n        {paneVisible && <GraphInfoPanel />}\n      </div>\n      <GraphRightClickMenu />\n      <GraphContextMenu />\n    </div>\n  );\n};\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Risk"}),": High - This is the integration point, need careful testing"]}),"\n",(0,t.jsx)(s.h2,{id:"implementation-order-risk-based",children:"Implementation Order (Risk-Based)"}),"\n",(0,t.jsx)(s.h3,{id:"phase-0-reorganize-structure-week-0---prerequisite",children:"Phase 0: Reorganize Structure (Week 0 - Prerequisite)"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Goal"}),": Set up subdirectory structure before refactoring"]}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsx)(s.li,{children:"\u2705 Create subdirectories for existing components"}),"\n",(0,t.jsx)(s.li,{children:"\u2705 Move components to subdirectories with index.tsx"}),"\n",(0,t.jsx)(s.li,{children:"\u2705 Move stories to component subdirectories"}),"\n",(0,t.jsx)(s.li,{children:"\u2705 Create hooks/ subdirectory and move hooks"}),"\n",(0,t.jsx)(s.li,{children:"\u2705 Create utils/ subdirectory (if needed)"}),"\n",(0,t.jsx)(s.li,{children:"\u2705 Update all imports across codebase"}),"\n",(0,t.jsx)(s.li,{children:"\u2705 Verify all tests still pass"}),"\n",(0,t.jsx)(s.li,{children:"\u2705 Verify Storybook stories still work"}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Timing"}),": Do this ",(0,t.jsx)(s.strong,{children:"before"})," starting Phase 1"]}),"\n",(0,t.jsx)(s.h3,{id:"week-1-low-risk-extractions",children:"Week 1: Low-Risk Extractions"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["\u2705 Phase 7: Extract Constants \u2192 ",(0,t.jsx)(s.code,{children:"utils/graphConstants.ts"})]}),"\n",(0,t.jsxs)(s.li,{children:["\u2705 Phase 1: Extract Canvas Drawing Utilities \u2192 ",(0,t.jsx)(s.code,{children:"utils/GraphCanvasDrawingUtils.ts"})," & ",(0,t.jsx)(s.code,{children:"utils/GraphEdgeDrawingUtils.ts"})]}),"\n",(0,t.jsxs)(s.li,{children:["\u2705 Phase 2: Extract Dimension Calculation Logic \u2192 ",(0,t.jsx)(s.code,{children:"hooks/useGraphDimensions.ts"})]}),"\n",(0,t.jsxs)(s.li,{children:["\u2705 Phase 5: Extract Menu Components \u2192 ",(0,t.jsx)(s.code,{children:"GraphRightClickMenu/"})," & ",(0,t.jsx)(s.code,{children:"GraphContextMenu/"})]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"week-2-medium-risk-extractions",children:"Week 2: Medium-Risk Extractions"}),"\n",(0,t.jsxs)(s.ol,{start:"5",children:["\n",(0,t.jsxs)(s.li,{children:["\u2705 Phase 3: Extract Event Handlers \u2192 ",(0,t.jsx)(s.code,{children:"hooks/useGraphInteractions.ts"})," (enhance)"]}),"\n",(0,t.jsxs)(s.li,{children:["\u2705 Phase 4: Extract Canvas Setup Logic \u2192 ",(0,t.jsx)(s.code,{children:"hooks/useGraphCanvasSetup.ts"})]}),"\n",(0,t.jsxs)(s.li,{children:["\u2705 Phase 6: Extract URL Fragment Handling \u2192 ",(0,t.jsx)(s.code,{children:"hooks/useGraphUrlFragment.ts"})]}),"\n",(0,t.jsxs)(s.li,{children:["\u2705 Phase 7: Extract Menu Handlers \u2192 ",(0,t.jsx)(s.code,{children:"hooks/useGraphMenuHandlers.ts"})]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"week-3-high-risk-integration",children:"Week 3: High-Risk Integration"}),"\n",(0,t.jsxs)(s.ol,{start:"9",children:["\n",(0,t.jsx)(s.li,{children:"\u2705 Phase 8: Refactor Main Component"}),"\n",(0,t.jsx)(s.li,{children:"\u2705 Comprehensive Testing"}),"\n",(0,t.jsx)(s.li,{children:"\u2705 Update Documentation"}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"testing-strategy",children:"Testing Strategy"}),"\n",(0,t.jsx)(s.h3,{id:"test-directory-structure",children:"Test Directory Structure"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{children:"test/\n\u251c\u2500\u2500 e2e/                    # End-to-end tests (Playwright)\n\u2502   \u251c\u2500\u2500 graph-renderer.spec.ts\n\u2502   \u251c\u2500\u2500 graph-selection-state.spec.ts\n\u2502   \u251c\u2500\u2500 graph-title-rendering.spec.ts\n\u2502   \u2514\u2500\u2500 helpers/\n\u2502       \u2514\u2500\u2500 canvas-utils.ts\n\u251c\u2500\u2500 unit/                   # Unit tests (Jest)\n\u2502   \u2514\u2500\u2500 GraphRenderer.title.test.ts\n\u251c\u2500\u2500 utils/                  # Test utilities\n\u2502   \u2514\u2500\u2500 canvasMock.ts\n\u2514\u2500\u2500 setup.ts               # Jest setup\n"})}),"\n",(0,t.jsxs)(s.h3,{id:"unit-tests-jest---testunit",children:["Unit Tests (Jest) - ",(0,t.jsx)(s.code,{children:"test/unit/"})]}),"\n",(0,t.jsx)(s.h4,{id:"phase-1-utility-function-tests",children:"Phase 1: Utility Function Tests"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Location"}),": ",(0,t.jsx)(s.code,{children:"test/unit/"})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"New Test Files to Create:"})}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"GraphCanvasDrawingUtils.test.ts"})})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Test ",(0,t.jsx)(s.code,{children:"drawNodeCircle"})," with various parameters"]}),"\n",(0,t.jsxs)(s.li,{children:["Test ",(0,t.jsx)(s.code,{children:"drawDebugSectionSeparators"})," (when debug enabled)"]}),"\n",(0,t.jsxs)(s.li,{children:["Test ",(0,t.jsx)(s.code,{children:"drawStatusIndicator"})," for leaf vs parent nodes"]}),"\n",(0,t.jsxs)(s.li,{children:["Test ",(0,t.jsx)(s.code,{children:"drawTitle"})," with various text lengths and zoom levels"]}),"\n",(0,t.jsxs)(s.li,{children:["Use ",(0,t.jsx)(s.code,{children:"createMockCanvasContext()"})," from ",(0,t.jsx)(s.code,{children:"test/utils/canvasMock.ts"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"GraphEdgeDrawingUtils.test.ts"})})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Test ",(0,t.jsx)(s.code,{children:"drawComparisonEdge"})," rendering"]}),"\n",(0,t.jsxs)(s.li,{children:["Test ",(0,t.jsx)(s.code,{children:"drawEdgeLabel"})," with various labels and scales"]}),"\n",(0,t.jsxs)(s.li,{children:["Test ",(0,t.jsx)(s.code,{children:"getEdgeWidth"})," calculations"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"graphConstants.test.ts"})})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Test ",(0,t.jsx)(s.code,{children:"NEO4J_COLORS"})," array structure"]}),"\n",(0,t.jsxs)(s.li,{children:["Test ",(0,t.jsx)(s.code,{children:"DEBUG_SHOW_NODE_SECTIONS"})," flag"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"useGraphDimensions.test.ts"})})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Test dimension calculations for mobile vs desktop"}),"\n",(0,t.jsx)(s.li,{children:"Test pane visibility impact on dimensions"}),"\n",(0,t.jsx)(s.li,{children:"Test container width measurement"}),"\n",(0,t.jsx)(s.li,{children:"Use React Testing Library to test hook"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Update Existing:"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"GraphRenderer.title.test.ts"})}),": Update imports if ",(0,t.jsx)(s.code,{children:"drawTitle"})," moves to utils"]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"phase-2-hook-tests",children:"Phase 2: Hook Tests"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Location"}),": ",(0,t.jsx)(s.code,{children:"test/unit/"})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"New Test Files:"})}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"useGraphMenuHandlers.test.ts"})})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Test ",(0,t.jsx)(s.code,{children:"useCopyAnchorLink"})," with clipboard API"]}),"\n",(0,t.jsxs)(s.li,{children:["Test ",(0,t.jsx)(s.code,{children:"useTogglePane"})," state changes"]}),"\n",(0,t.jsx)(s.li,{children:"Test context menu click outside handler"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"useGraphUrlFragment.test.ts"})})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Test URL fragment parsing"}),"\n",(0,t.jsxs)(s.li,{children:["Test ",(0,t.jsx)(s.code,{children:"highlightNode"})," from URL"]}),"\n",(0,t.jsxs)(s.li,{children:["Test ",(0,t.jsx)(s.code,{children:"highlightEdge"})," from URL"]}),"\n",(0,t.jsx)(s.li,{children:"Test scroll to graph behavior"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"useGraphCanvasSetup.test.ts"})})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Test canvas ref setup"}),"\n",(0,t.jsx)(s.li,{children:"Test event listener registration"}),"\n",(0,t.jsxs)(s.li,{children:["Test ",(0,t.jsx)(s.code,{children:"nodeCanvasObject"})," creation"]}),"\n",(0,t.jsxs)(s.li,{children:["Test ",(0,t.jsx)(s.code,{children:"linkCanvasObject"})," creation"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Enhance Existing:"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"useGraphInteractions.ts"})})," (if exists): Add tests for extracted handlers"]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"test-utilities-to-createupdate",children:"Test Utilities to Create/Update"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Location"}),": ",(0,t.jsx)(s.code,{children:"test/utils/"})]}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"graphHookTestUtils.ts"})})," (New)"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-typescript",children:"// Utilities for testing graph hooks\nexport function renderGraphHook<T>(hook: () => T, wrapper?: ReactWrapper)\nexport function createMockGraphRef()\nexport function createMockGraphData()\n"})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"canvasMock.ts"})})," (Update)"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Add more mock methods if needed for new drawing functions"}),"\n",(0,t.jsx)(s.li,{children:"Ensure compatibility with extracted drawing utilities"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.h3,{id:"end-to-end-tests-playwright---teste2e",children:["End-to-End Tests (Playwright) - ",(0,t.jsx)(s.code,{children:"test/e2e/"})]}),"\n",(0,t.jsx)(s.h4,{id:"update-strategy-for-e2e-tests",children:"Update Strategy for E2E Tests"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Key Principle"}),": E2E tests should remain largely unchanged since they test the public API of ",(0,t.jsx)(s.code,{children:"GraphRenderer"}),", not internal implementation details."]}),"\n",(0,t.jsx)(s.h4,{id:"files-to-update",children:"Files to Update:"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"graph-renderer.spec.ts"})})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"No changes needed"})," - Tests public API (canvas rendering, interactions)"]}),"\n",(0,t.jsx)(s.li,{children:"May need to update selectors if component structure changes slightly"}),"\n",(0,t.jsx)(s.li,{children:"Verify canvas still renders correctly after refactoring"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"graph-selection-state.spec.ts"})})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"No changes needed"})," - Tests selection behavior (public API)"]}),"\n",(0,t.jsx)(s.li,{children:"Verify node/edge selection still works after refactoring"}),"\n",(0,t.jsx)(s.li,{children:"Test URL hash behavior still works"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"graph-title-rendering.spec.ts"})})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"No changes needed"})," - Tests title rendering (visual output)"]}),"\n",(0,t.jsx)(s.li,{children:"Verify ellipsis regression test still passes"}),"\n",(0,t.jsx)(s.li,{children:"May need screenshot updates if rendering changes slightly"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"new-e2e-tests-to-add",children:"New E2E Tests to Add:"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"graph-responsive-behavior.spec.ts"})})," (New)"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-typescript",children:"// Test responsive behavior\n- Test mobile layout (pane below graph)\n- Test desktop layout (pane beside graph)\n- Test pane visibility toggle\n- Test graph area resizing\n- Test canvas overflow prevention\n"})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"graph-menu-interactions.spec.ts"})})," (New)"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-typescript",children:"// Test menu interactions\n- Test right-click menu\n- Test context menu\n- Test copy anchor link\n- Test menu positioning\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"e2e-test-helpers-to-update",children:"E2E Test Helpers to Update:"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"helpers/canvas-utils.ts"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"No changes needed"})," - Generic canvas utilities"]}),"\n",(0,t.jsx)(s.li,{children:"May add helpers for testing responsive behavior if needed"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"integration-tests-new-category",children:"Integration Tests (New Category)"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Location"}),": ",(0,t.jsx)(s.code,{children:"test/integration/"})," (Create if doesn't exist)"]}),"\n",(0,t.jsx)(s.h4,{id:"purpose",children:"Purpose"}),"\n",(0,t.jsx)(s.p,{children:"Test interactions between hooks and components in isolation from full E2E flow."}),"\n",(0,t.jsx)(s.h4,{id:"new-test-files",children:"New Test Files:"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"GraphRenderer.integration.test.tsx"})})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-typescript",children:"// Test GraphRenderer with all hooks integrated\n- Test component renders with all hooks\n- Test hook interactions (e.g., dimension changes trigger re-render)\n- Test state synchronization between hooks\n- Use React Testing Library\n"})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"GraphHooks.integration.test.tsx"})})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-typescript",children:"// Test hook interactions\n- Test useGraphDimensions + useGraphState interaction\n- Test useGraphInteractions + useGraphCanvasSetup interaction\n- Test useGraphUrlFragment + useGraphState interaction\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"test-update-checklist-per-phase",children:"Test Update Checklist Per Phase"}),"\n",(0,t.jsx)(s.h4,{id:"phase-1-extract-constants--drawing-utilities",children:"Phase 1: Extract Constants & Drawing Utilities"}),"\n",(0,t.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Create ",(0,t.jsx)(s.code,{children:"GraphCanvasDrawingUtils.test.ts"})]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Create ",(0,t.jsx)(s.code,{children:"GraphEdgeDrawingUtils.test.ts"})]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Create ",(0,t.jsx)(s.code,{children:"graphConstants.test.ts"})]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Update ",(0,t.jsx)(s.code,{children:"GraphRenderer.title.test.ts"})," imports if needed"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Run unit tests: ",(0,t.jsx)(s.code,{children:"yarn test"})]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Verify all tests pass"]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"phase-2-extract-dimension-calculations",children:"Phase 2: Extract Dimension Calculations"}),"\n",(0,t.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Create ",(0,t.jsx)(s.code,{children:"useGraphDimensions.test.ts"})]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Test mobile vs desktop calculations"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Test pane visibility impact"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Run unit tests: ",(0,t.jsx)(s.code,{children:"yarn test"})]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Run E2E tests: ",(0,t.jsx)(s.code,{children:"yarn test:e2e"})," (verify no regressions)"]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"phase-3-extract-event-handlers",children:"Phase 3: Extract Event Handlers"}),"\n",(0,t.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Enhance ",(0,t.jsx)(s.code,{children:"useGraphInteractions.test.ts"})," (if exists)"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Test all event handlers in isolation"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Run unit tests: ",(0,t.jsx)(s.code,{children:"yarn test"})]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Run E2E tests: ",(0,t.jsx)(s.code,{children:"yarn test:e2e"})," (verify interactions still work)"]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"phase-4-extract-canvas-setup",children:"Phase 4: Extract Canvas Setup"}),"\n",(0,t.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Create ",(0,t.jsx)(s.code,{children:"useGraphCanvasSetup.test.ts"})]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Test canvas ref setup"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Test event listener registration"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Run unit tests: ",(0,t.jsx)(s.code,{children:"yarn test"})]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Run E2E tests: ",(0,t.jsx)(s.code,{children:"yarn test:e2e"})," (verify canvas still renders)"]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"phase-5-extract-menu-components",children:"Phase 5: Extract Menu Components"}),"\n",(0,t.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Create ",(0,t.jsx)(s.code,{children:"GraphRightClickMenu.test.tsx"})]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Create ",(0,t.jsx)(s.code,{children:"GraphContextMenu.test.tsx"})]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Test menu rendering and interactions"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Run unit tests: ",(0,t.jsx)(s.code,{children:"yarn test"})]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Run E2E tests: ",(0,t.jsx)(s.code,{children:"yarn test:e2e"})," (verify menus still work)"]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"phase-6-extract-url-fragment-handling",children:"Phase 6: Extract URL Fragment Handling"}),"\n",(0,t.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Create ",(0,t.jsx)(s.code,{children:"useGraphUrlFragment.test.ts"})]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Test URL parsing and highlighting"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Run unit tests: ",(0,t.jsx)(s.code,{children:"yarn test"})]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Run E2E tests: ",(0,t.jsx)(s.code,{children:"yarn test:e2e"})," (verify URL hash still works)"]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"phase-7-extract-menu-handlers",children:"Phase 7: Extract Menu Handlers"}),"\n",(0,t.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Create ",(0,t.jsx)(s.code,{children:"useGraphMenuHandlers.test.ts"})]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Test clipboard API interactions"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Test pane toggle"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Run unit tests: ",(0,t.jsx)(s.code,{children:"yarn test"})]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Run E2E tests: ",(0,t.jsx)(s.code,{children:"yarn test:e2e"})," (verify menu actions still work)"]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"phase-8-refactor-main-component",children:"Phase 8: Refactor Main Component"}),"\n",(0,t.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Create ",(0,t.jsx)(s.code,{children:"GraphRenderer.integration.test.tsx"})]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Test full component with all hooks"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Run all unit tests: ",(0,t.jsx)(s.code,{children:"yarn test"})]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Run all E2E tests: ",(0,t.jsx)(s.code,{children:"yarn test:e2e"})]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Visual regression test in Storybook"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Performance test (ensure no degradation)"]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"test-maintenance-strategy",children:"Test Maintenance Strategy"}),"\n",(0,t.jsx)(s.h4,{id:"after-each-phase",children:"After Each Phase:"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Run Test Suite"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"# Unit tests\nyarn test\n\n# E2E tests\nyarn test:e2e\n\n# With coverage\nyarn test:coverage\n"})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Update Test Documentation"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Update ",(0,t.jsx)(s.code,{children:"test/README.md"})," if test structure changes"]}),"\n",(0,t.jsxs)(s.li,{children:["Update ",(0,t.jsx)(s.code,{children:"test/e2e/README.md"})," if E2E tests change"]}),"\n",(0,t.jsxs)(s.li,{children:["Update ",(0,t.jsx)(s.code,{children:"test/unit/README.md"})," if unit tests change"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Fix Broken Tests"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Update imports if code moves"}),"\n",(0,t.jsx)(s.li,{children:"Update mocks if APIs change"}),"\n",(0,t.jsx)(s.li,{children:"Update selectors if component structure changes"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Add New Tests"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Add tests for newly extracted code"}),"\n",(0,t.jsx)(s.li,{children:"Ensure coverage doesn't decrease"}),"\n",(0,t.jsx)(s.li,{children:"Add integration tests for hook interactions"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"test-coverage-goals",children:"Test Coverage Goals:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Unit Tests"}),": > 80% coverage for utility functions"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Hook Tests"}),": > 70% coverage for custom hooks"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Component Tests"}),": > 60% coverage for components"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"E2E Tests"}),": Cover all critical user flows"]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"regression-testing",children:"Regression Testing"}),"\n",(0,t.jsx)(s.h4,{id:"visual-regression-tests",children:"Visual Regression Tests"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Use Storybook for visual regression testing"}),"\n",(0,t.jsx)(s.li,{children:"Compare screenshots before/after refactoring"}),"\n",(0,t.jsx)(s.li,{children:"Test all graph states (expanded, collapsed, selected, etc.)"}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"performance-regression-tests",children:"Performance Regression Tests"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Measure render time before/after refactoring"}),"\n",(0,t.jsx)(s.li,{children:"Measure memory usage"}),"\n",(0,t.jsx)(s.li,{children:"Test with large graphs (100+ nodes)"}),"\n",(0,t.jsx)(s.li,{children:"Ensure no performance degradation"}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"functional-regression-tests",children:"Functional Regression Tests"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Run full E2E test suite after each phase"}),"\n",(0,t.jsx)(s.li,{children:"Test all user interactions"}),"\n",(0,t.jsx)(s.li,{children:"Test all responsive breakpoints"}),"\n",(0,t.jsx)(s.li,{children:"Test all pane visibility states"}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"test-utilities-to-create",children:"Test Utilities to Create"}),"\n",(0,t.jsxs)(s.h4,{id:"testutilsgraphhooktestutilsts-new",children:[(0,t.jsx)(s.code,{children:"test/utils/graphHookTestUtils.ts"})," (New)"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-typescript",children:"import { renderHook } from '@testing-library/react';\nimport { ReactNode } from 'react';\n\n/**\n * Renders a graph hook with necessary providers\n */\nexport function renderGraphHook<T>(\n  hook: () => T,\n  options?: {\n    wrapper?: ({ children }: { children: ReactNode }) => JSX.Element;\n  }\n) {\n  // Implementation\n}\n\n/**\n * Creates a mock graph ref for testing\n */\nexport function createMockGraphRef() {\n  // Implementation\n}\n\n/**\n * Creates mock graph data for testing\n */\nexport function createMockGraphData() {\n  // Implementation\n}\n"})}),"\n",(0,t.jsxs)(s.h4,{id:"testutilsgraphcomponenttestutilstsx-new",children:[(0,t.jsx)(s.code,{children:"test/utils/graphComponentTestUtils.tsx"})," (New)"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-typescript",children:"/**\n * Utilities for testing graph components\n */\nexport function renderGraphComponent(props: GraphRendererProps) {\n  // Implementation with all necessary providers\n}\n\nexport function waitForGraphToStabilize() {\n  // Helper to wait for force graph to stabilize\n}\n"})}),"\n",(0,t.jsx)(s.h3,{id:"e2e-test-updates",children:"E2E Test Updates"}),"\n",(0,t.jsx)(s.h4,{id:"minimal-changes-required",children:"Minimal Changes Required"}),"\n",(0,t.jsx)(s.p,{children:"E2E tests should require minimal changes because they test the public API. However:"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Selector Updates"})," (if component structure changes)"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Update canvas selectors if wrapper structure changes"}),"\n",(0,t.jsx)(s.li,{children:"Update menu selectors if menu components are extracted"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Wait Strategy Updates"})," (if initialization changes)"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Update wait times if hook initialization changes"}),"\n",(0,t.jsx)(s.li,{children:"Update wait conditions if component mounting changes"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Screenshot Updates"})," (if visual changes)"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Update baseline screenshots if rendering changes"}),"\n",(0,t.jsx)(s.li,{children:"Add new screenshots for new features"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"e2e-test-maintenance",children:"E2E Test Maintenance"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Keep E2E tests focused on user-facing behavior"}),"\n",(0,t.jsx)(s.li,{children:"Don't test internal implementation details"}),"\n",(0,t.jsx)(s.li,{children:"Use page objects if tests become complex"}),"\n",(0,t.jsx)(s.li,{children:"Add visual regression tests for critical UI states"}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"blog-post-and-documentation-updates",children:"Blog Post and Documentation Updates"}),"\n",(0,t.jsx)(s.h4,{id:"files-that-import-graph-components",children:"Files That Import Graph Components"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Documentation Files:"})}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"docs/6-techniques/3-blogging-techniques/1-embed-structural-components/graph.mdx"})})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Imports: ",(0,t.jsx)(s.code,{children:"GraphRenderer"}),", ",(0,t.jsx)(s.code,{children:"NodeRendererDemo"})]}),"\n",(0,t.jsx)(s.li,{children:"Usage: Component documentation and examples"}),"\n",(0,t.jsxs)(s.li,{children:["Impact: ",(0,t.jsx)(s.strong,{children:"High"})," - Main component documentation"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"docs/3-mental-models/6-understanding-the-genai-domain/2025-11-10-ai-framework-landscape.md"})})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Imports: ",(0,t.jsx)(s.code,{children:"AIFrameworkGraph"})]}),"\n",(0,t.jsx)(s.li,{children:"Usage: Displays AI framework comparison graph"}),"\n",(0,t.jsxs)(s.li,{children:["Impact: ",(0,t.jsx)(s.strong,{children:"High"})," - Live graph visualization"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Blog Posts:"})}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"blog/2025-03-07-DFS-vs-BFS.md"})})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"May reference graph concepts (needs verification)"}),"\n",(0,t.jsxs)(s.li,{children:["Impact: ",(0,t.jsx)(s.strong,{children:"Low"})," - Likely just mentions, not imports"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:(0,t.jsx)(s.code,{children:"blog/2025-09-27-my-contributions.mdx"})})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"May reference graph components (needs verification)"}),"\n",(0,t.jsxs)(s.li,{children:["Impact: ",(0,t.jsx)(s.strong,{children:"Low"})," - Likely just mentions, not imports"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"import-path-updates-required",children:"Import Path Updates Required"}),"\n",(0,t.jsx)(s.p,{children:"When components move to subdirectories, import paths in MDX files need updates:"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Before:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-mdx",children:"import GraphRenderer from '@site/src/components/Graph/GraphRenderer';\nimport NodeRendererDemo from '@site/src/components/Graph/NodeRendererDemo';\nimport AIFrameworkGraph from '@site/src/components/Graph/AIFrameworkGraph';\n"})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"After (if components move to subdirectories):"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-mdx",children:"// Option 1: If index.tsx is created, no change needed\nimport GraphRenderer from '@site/src/components/Graph/GraphRenderer';\nimport NodeRendererDemo from '@site/src/components/Graph/NodeRendererDemo';\nimport AIFrameworkGraph from '@site/src/components/Graph/AIFrameworkGraph';\n\n// Option 2: If explicit paths are preferred\nimport GraphRenderer from '@site/src/components/Graph/GraphRenderer/GraphRenderer';\nimport NodeRendererDemo from '@site/src/components/Graph/NodeRendererDemo/NodeRendererDemo';\nimport AIFrameworkGraph from '@site/src/components/Graph/AIFrameworkGraph/AIFrameworkGraph';\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Recommendation"}),": Use ",(0,t.jsx)(s.code,{children:"index.tsx"})," files so imports don't need to change."]}),"\n",(0,t.jsx)(s.h4,{id:"update-strategy-for-blog-posts-and-docs",children:"Update Strategy for Blog Posts and Docs"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Phase 0: Before Reorganization"})}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Audit all imports"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:'# Find all files importing Graph components\ngrep -r "from \'@site/src/components/Graph" blog/ docs/\n'})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Document current import paths"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"List all files that import Graph components"}),"\n",(0,t.jsx)(s.li,{children:"Note which components are imported"}),"\n",(0,t.jsx)(s.li,{children:"Create checklist for updates"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Phase 0: During Reorganization"})}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Update import paths"})," (if needed)"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["If using ",(0,t.jsx)(s.code,{children:"index.tsx"}),", imports may not need changes"]}),"\n",(0,t.jsxs)(s.li,{children:["If not using ",(0,t.jsx)(s.code,{children:"index.tsx"}),", update all import paths"]}),"\n",(0,t.jsx)(s.li,{children:"Test each file after updating"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Verify components still work"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Build Docusaurus site: ",(0,t.jsx)(s.code,{children:"make build"})]}),"\n",(0,t.jsx)(s.li,{children:"Check each page that uses Graph components"}),"\n",(0,t.jsx)(s.li,{children:"Verify graphs render correctly"}),"\n",(0,t.jsx)(s.li,{children:"Test interactive features (clicking, zooming, etc.)"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"After Each Refactoring Phase"})}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Test affected pages"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Rebuild Docusaurus: ",(0,t.jsx)(s.code,{children:"make build"})]}),"\n",(0,t.jsx)(s.li,{children:"Check pages that use Graph components"}),"\n",(0,t.jsx)(s.li,{children:"Verify no regressions"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Update documentation if needed"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Update component documentation if APIs change"}),"\n",(0,t.jsx)(s.li,{children:"Update examples if usage patterns change"}),"\n",(0,t.jsx)(s.li,{children:"Update README files if structure changes"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"files-to-update-checklist",children:"Files to Update Checklist"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Documentation:"})}),"\n",(0,t.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ",(0,t.jsx)(s.code,{children:"docs/6-techniques/3-blogging-techniques/1-embed-structural-components/graph.mdx"})]}),"\n",(0,t.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Update ",(0,t.jsx)(s.code,{children:"GraphRenderer"})," import if path changes"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Update ",(0,t.jsx)(s.code,{children:"NodeRendererDemo"})," import if path changes"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Verify examples still work"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Update documentation if component API changes"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ",(0,t.jsx)(s.code,{children:"docs/3-mental-models/6-understanding-the-genai-domain/2025-11-10-ai-framework-landscape.md"})]}),"\n",(0,t.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Update ",(0,t.jsx)(s.code,{children:"AIFrameworkGraph"})," import if path changes"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Verify graph renders correctly"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Test interactive features"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Blog Posts:"})}),"\n",(0,t.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ",(0,t.jsx)(s.code,{children:"blog/2025-03-07-DFS-vs-BFS.md"})]}),"\n",(0,t.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Check if it actually imports components (may just mention)"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Update if needed"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ",(0,t.jsx)(s.code,{children:"blog/2025-09-27-my-contributions.mdx"})]}),"\n",(0,t.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Check if it actually imports components (may just mention)"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Update if needed"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Other Documentation:"})}),"\n",(0,t.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Check all files in ",(0,t.jsx)(s.code,{children:"docs/"}),' that mention "graph" or "Graph"',"\n",(0,t.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Update import paths if needed"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Update examples if component API changes"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Update code snippets if usage patterns change"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"testing-blog-posts-and-docs",children:"Testing Blog Posts and Docs"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"After Each Phase:"})}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Build Docusaurus"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"cd bytesofpurpose-blog\nyarn build\n"})}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Check for Build Errors"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Look for import errors"}),"\n",(0,t.jsx)(s.li,{children:"Look for component not found errors"}),"\n",(0,t.jsx)(s.li,{children:"Fix any broken imports"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Visual Verification"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Start dev server: ",(0,t.jsx)(s.code,{children:"yarn start"})]}),"\n",(0,t.jsx)(s.li,{children:"Navigate to each page that uses Graph components"}),"\n",(0,t.jsx)(s.li,{children:"Verify graphs render correctly"}),"\n",(0,t.jsx)(s.li,{children:"Test interactive features"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Anchor Link Testing"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Test URL hash navigation (e.g., ",(0,t.jsx)(s.code,{children:"#graph-node-123"}),")"]}),"\n",(0,t.jsx)(s.li,{children:"Verify nodes/edges highlight correctly"}),"\n",(0,t.jsx)(s.li,{children:"Verify scrolling to graph works"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"backward-compatibility-strategy",children:"Backward Compatibility Strategy"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Goal"}),": Ensure existing blog posts and docs continue to work without changes."]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Strategy"}),":"]}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Use index.tsx files"})," - Allows imports to remain unchanged"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Maintain public API"})," - Don't change component props or behavior"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Re-export from root"})," - Consider re-exporting from ",(0,t.jsx)(s.code,{children:"Graph/index.ts"})," for convenience"]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Example re-export file:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-typescript",children:"// src/components/Graph/index.ts\n// Re-export all public components for convenience\nexport { GraphRenderer } from './GraphRenderer';\nexport { AIFrameworkGraph } from './AIFrameworkGraph';\nexport { NodeRendererDemo } from './NodeRendererDemo';\nexport type { GraphRendererProps } from './GraphRenderer';\n"})}),"\n",(0,t.jsx)(s.p,{children:"This allows imports like:"}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-mdx",children:"import { GraphRenderer, AIFrameworkGraph } from '@site/src/components/Graph';\n"})}),"\n",(0,t.jsx)(s.h4,{id:"documentation-update-guidelines",children:"Documentation Update Guidelines"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"When to Update Documentation:"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"\u2705 Component moves to subdirectory (update import paths)"}),"\n",(0,t.jsx)(s.li,{children:"\u2705 Component API changes (update examples)"}),"\n",(0,t.jsx)(s.li,{children:"\u2705 New features added (document new features)"}),"\n",(0,t.jsx)(s.li,{children:"\u2705 Breaking changes (document migration path)"}),"\n",(0,t.jsx)(s.li,{children:"\u274c Internal refactoring only (no doc updates needed if public API unchanged)"}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"What to Update:"})}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Import statements"})," - If paths change"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Code examples"})," - If API changes"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Usage patterns"})," - If best practices change"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Component documentation"})," - If features change"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"README files"})," - If structure changes"]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"What NOT to Update:"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Internal implementation details (unless relevant to users)"}),"\n",(0,t.jsx)(s.li,{children:"File structure (unless it affects imports)"}),"\n",(0,t.jsx)(s.li,{children:"Utility functions (unless they're part of public API)"}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"storybook-story-updates",children:"Storybook Story Updates"}),"\n",(0,t.jsx)(s.h4,{id:"story-path-updates",children:"Story Path Updates"}),"\n",(0,t.jsx)(s.p,{children:"When components move to subdirectories, Storybook story paths may need updates:"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Before:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-typescript",children:"// GraphMenuBar.stories.tsx (at root)\nimport { Meta } from '@storybook/addon-docs/blocks';\n<Meta title=\"Graph/GraphMenuBar\" />\n"})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"After:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-typescript",children:"// GraphMenuBar/GraphMenuBar.stories.tsx\nimport { Meta } from '@storybook/addon-docs/blocks';\n<Meta title=\"Graph/GraphMenuBar\" />\n// Path stays the same - Storybook uses title, not file path\n"})}),"\n",(0,t.jsx)(s.h4,{id:"story-co-location-benefits",children:"Story Co-location Benefits"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Stories live next to components"}),"\n",(0,t.jsx)(s.li,{children:"Easy to find component documentation"}),"\n",(0,t.jsxs)(s.li,{children:["Stories can import from ",(0,t.jsx)(s.code,{children:"./ComponentName"})," (same directory)"]}),"\n",(0,t.jsx)(s.li,{children:"Better organization in Storybook sidebar"}),"\n"]}),"\n",(0,t.jsx)(s.h4,{id:"story-import-updates",children:"Story Import Updates"}),"\n",(0,t.jsx)(s.p,{children:"When components move to subdirectories:"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Before:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-typescript",children:"// GraphMenuBar.stories.tsx\nimport { GraphMenuBar } from './GraphMenuBar';\n"})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"After:"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-typescript",children:"// GraphMenuBar/GraphMenuBar.stories.tsx\nimport { GraphMenuBar } from './GraphMenuBar'; // Same directory\n// OR\nimport { GraphMenuBar } from '.'; // From index.tsx\n"})}),"\n",(0,t.jsx)(s.h2,{id:"migration-checklist",children:"Migration Checklist"}),"\n",(0,t.jsx)(s.h3,{id:"phase-0-reorganization-before-refactoring",children:"Phase 0: Reorganization (Before Refactoring)"}),"\n",(0,t.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Create subdirectories for existing components"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Move component files to subdirectories"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Create index.tsx files for each component"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Move stories to component subdirectories"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Create hooks/ subdirectory"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Move hooks to hooks/ subdirectory"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Create hooks/index.ts"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Create utils/ subdirectory (if needed)"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Update all imports in GraphRenderer"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Update all imports in stories"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Update all imports in tests"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ",(0,t.jsx)(s.strong,{children:"Audit blog posts and docs for Graph component imports"})]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ",(0,t.jsx)(s.strong,{children:"Update import paths in blog posts and docs (if needed)"})]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ",(0,t.jsxs)(s.strong,{children:["Build Docusaurus: ",(0,t.jsx)(s.code,{children:"make build"})]})]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ",(0,t.jsx)(s.strong,{children:"Verify all pages with Graph components render correctly"})]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ",(0,t.jsx)(s.strong,{children:"Test interactive features in blog posts/docs"})]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Run tests: ",(0,t.jsx)(s.code,{children:"yarn test"})]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Run E2E tests: ",(0,t.jsx)(s.code,{children:"yarn test:e2e"})]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Verify Storybook stories work"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Update Storybook story paths if needed"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Test in Docusaurus"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Code review"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Merge"]}),"\n"]}),"\n",(0,t.jsx)(s.h3,{id:"for-each-refactoring-phase",children:"For Each Refactoring Phase:"}),"\n",(0,t.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Create new file(s) in appropriate subdirectory"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Move code to new file(s)"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Create index.tsx if new component"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Create stories in component subdirectory"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Update imports in GraphRenderer"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Update imports in stories"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Update imports in tests"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ",(0,t.jsxs)(s.strong,{children:["Build Docusaurus: ",(0,t.jsx)(s.code,{children:"make build"})]})]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ",(0,t.jsx)(s.strong,{children:"Verify blog posts/docs with Graph components still work"})]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ",(0,t.jsx)(s.strong,{children:"Test interactive features in blog posts/docs"})]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Run tests"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Check Storybook stories"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Test in Docusaurus"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Update documentation (if API changes)"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Code review"]}),"\n",(0,t.jsxs)(s.li,{className:"task-list-item",children:[(0,t.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Merge"]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"success-criteria",children:"Success Criteria"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsx)(s.li,{children:"\u2705 GraphRenderer.tsx reduced to < 500 lines"}),"\n",(0,t.jsx)(s.li,{children:"\u2705 All existing functionality preserved"}),"\n",(0,t.jsx)(s.li,{children:"\u2705 No performance degradation"}),"\n",(0,t.jsx)(s.li,{children:"\u2705 All tests passing"}),"\n",(0,t.jsx)(s.li,{children:"\u2705 Storybook stories working"}),"\n",(0,t.jsx)(s.li,{children:"\u2705 Docusaurus integration working"}),"\n",(0,t.jsx)(s.li,{children:"\u2705 Code review approved"}),"\n",(0,t.jsx)(s.li,{children:"\u2705 Documentation updated"}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"notes",children:"Notes"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Incremental Approach"}),": Each phase is independent and can be merged separately"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Backward Compatibility"}),": Maintain existing public API"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Type Safety"}),": Ensure all extracted code is properly typed"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Performance"}),": Monitor for any performance regressions"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Documentation"}),": Update JSDoc comments as code moves"]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"potential-challenges",children:"Potential Challenges"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Circular Dependencies"}),": Watch for circular imports between utilities"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Hook Dependencies"}),": Ensure all hook dependencies are correctly passed"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Ref Management"}),": Graph ref needs careful handling across hooks"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"State Synchronization"}),": Ensure state updates don't cause infinite loops"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"Event Handler Context"}),": Ensure event handlers have correct context"]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"future-improvements-post-refactoring",children:"Future Improvements (Post-Refactoring)"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsx)(s.li,{children:"Consider extracting ForceGraph2D wrapper to separate component"}),"\n",(0,t.jsx)(s.li,{children:"Consider using React Context for graph state (if needed)"}),"\n",(0,t.jsx)(s.li,{children:"Consider memoization optimizations"}),"\n",(0,t.jsx)(s.li,{children:"Consider TypeScript strict mode improvements"}),"\n",(0,t.jsx)(s.li,{children:"Consider adding more comprehensive error boundaries"}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"execution-results--attempts",children:"Execution Results / Attempts"}),"\n",(0,t.jsx)(s.h3,{id:"-work-in-progress-2025-11-08-to-2025-11-17",children:"\u2705 Work In Progress (2025-11-08 to 2025-11-17)"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Work Period:"})," November 8, 2025 to November 17, 2025"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Commits:"})," 10 commits related to graph component refactoring"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Key Accomplishments:"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Initial graph component implementation"}),"\n",(0,t.jsx)(s.li,{children:"Added menu bar to graph component"}),"\n",(0,t.jsx)(s.li,{children:"Made graph component reactive/responsive"}),"\n",(0,t.jsx)(s.li,{children:"Added anchor links to specific nodes in graphs"}),"\n",(0,t.jsx)(s.li,{children:"Added integration and E2E tests for graph component"}),"\n",(0,t.jsx)(s.li,{children:"Checkpointed graph renderer refactoring work"}),"\n",(0,t.jsx)(s.li,{children:"Finalized graph component as part of blog structure overhaul"}),"\n",(0,t.jsx)(s.li,{children:"Revamped graph component with modularization"}),"\n",(0,t.jsx)(s.li,{children:"Added Storybook tab to document components"}),"\n",(0,t.jsx)(s.li,{children:"Improved graph rendering on mobile devices"}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Notable Commits:"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"a64d629e"})," (2025-11-08): Updating authors and adding graph component plus stats structures and algos"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"7333d884"})," (2025-11-08): Making graph component reactive"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"d2e8bf6d"})," (2025-11-08): Adding menu bar to graph component"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"92e82a04"})," (2025-11-08): Added ability to have anchor links to specific nodes in specific graphs"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"f57ee652"})," (2025-11-10): Adding integ and e2e tests for graph component"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"b5c58a8a"})," (2025-11-10): Checkpointing graph renderer"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"cca8ae25"})," (2025-11-12): Big blog structure overhaul + finalization of graph component"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"e657ebde"})," (2025-11-12): Revamp to readmes plus fix for graph"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"7634d68b"})," (2025-11-16): Revamping graph component, modularizing it, etc. Also added storybook tab to document components"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"6ec4aaac"})," (2025-11-17): Revamp component setup, story book stories, graph render on mobile, etc"]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Status:"})," Work is in progress. The graph component has been significantly refactored and modularized, with Storybook integration added for documentation. Mobile responsiveness has been improved. Further refactoring work continues based on the comprehensive plan outlined above."]})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},72696:e=>{e.exports=JSON.parse('{"permalink":"/changelog/development/2025-XX-XX-component-refactoring-graph-renderer","editUrl":"https://github.com/omars-lab/omars-lab.github.io/edit/master/bytesofpurpose-blog/changelog/changelog/development/2025-XX-XX-component-refactoring-graph-renderer.md","source":"@site/changelog/development/2025-XX-XX-component-refactoring-graph-renderer.md","title":"GraphRenderer Component Refactoring Plan","description":"Comprehensive plan to refactor the 3382-line GraphRenderer.tsx into smaller, composable components and utilities","date":"2025-11-18T03:12:29.000Z","tags":[],"readingTime":20.1,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"GraphRenderer Component Refactoring Plan","description":"Comprehensive plan to refactor the 3382-line GraphRenderer.tsx into smaller, composable components and utilities","status":"in-progress","inception_date":"2025-11-08","execution_date":"2025-11-17","type":"refactoring","component":"GraphRenderer","priority":"high"},"unlisted":false,"prevItem":{"title":"Changelog Directory Structure","permalink":"/changelog/README"},"nextItem":{"title":"Graph Component Refactoring Summary","permalink":"/changelog/2025/11/17/development/component-refactoring-graph-component"}}')}}]);