"use strict";(globalThis.webpackChunkbytesofpurpose_blog=globalThis.webpackChunkbytesofpurpose_blog||[]).push([[34013],{26082:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>h,contentTitle:()=>c,default:()=>p,frontMatter:()=>d,metadata:()=>i,toc:()=>u});const i=JSON.parse('{"id":"techniques/blogging-techniques/embed-structural-components/graph","title":"Graph Renderer Component","description":"Interactive force-directed graph component with hierarchical nodes, zoom controls, and anchor link support.","source":"@site/docs/6-techniques/3-blogging-techniques/1-embed-structural-components/graph.mdx","sourceDirName":"6-techniques/3-blogging-techniques/1-embed-structural-components","slug":"/techniques/blogging-techniques/embed-structural-components/graph","permalink":"/docs/techniques/blogging-techniques/embed-structural-components/graph","draft":false,"unlisted":false,"editUrl":"https://github.com/omars-lab/omars-lab.github.io/edit/master/bytesofpurpose-blog/docs/6-techniques/3-blogging-techniques/1-embed-structural-components/graph.mdx","tags":[{"inline":true,"label":"docusaurus","permalink":"/docs/tags/docusaurus"},{"inline":true,"label":"react","permalink":"/docs/tags/react"},{"inline":true,"label":"components","permalink":"/docs/tags/components"},{"inline":true,"label":"graph","permalink":"/docs/tags/graph"},{"inline":true,"label":"visualization","permalink":"/docs/tags/visualization"}],"version":"current","frontMatter":{"slug":"graph","title":"Graph Renderer Component","description":"Interactive force-directed graph component with hierarchical nodes, zoom controls, and anchor link support.","authors":["oeid"],"tags":["docusaurus","react","components","graph","visualization"],"draft":false},"sidebar":"tutorialSidebar","previous":{"title":"Footer","permalink":"/docs/techniques/blogging-techniques/embed-structural-components/footer"},"next":{"title":"Highlight","permalink":"/docs/techniques/blogging-techniques/embed-structural-components/highlight"}}');var r=n(74848),l=n(28453),o=(n(96540),n(78478));const s=e=>(0,r.jsx)(o.A,{fallback:(0,r.jsx)("div",{children:"Loading graph..."}),children:()=>{const t=n(45846).A;return(0,r.jsx)(t,{...e})}}),a=e=>(0,r.jsx)(o.A,{fallback:(0,r.jsx)("div",{children:"Loading demo..."}),children:()=>{const t=n(71051).A;return(0,r.jsx)(t,{...e})}});n(38758),n(36026);const d={slug:"graph",title:"Graph Renderer Component",description:"Interactive force-directed graph component with hierarchical nodes, zoom controls, and anchor link support.",authors:["oeid"],tags:["docusaurus","react","components","graph","visualization"],draft:!1},c="Graph Renderer Component",h={},u=[{value:"NodeRenderer: Title Display Examples",id:"noderenderer-title-display-examples",level:2},{value:"Short Titles (\u226420 characters)",id:"short-titles-20-characters",level:3},{value:"Medium Titles (21-40 characters)",id:"medium-titles-21-40-characters",level:3},{value:"Long Titles (&gt;40 characters)",id:"long-titles-40-characters",level:3},{value:"Zoom Level Effects",id:"zoom-level-effects",level:3},{value:"Short Title at Different Zoom Levels",id:"short-title-at-different-zoom-levels",level:4},{value:"Medium Title at Different Zoom Levels",id:"medium-title-at-different-zoom-levels",level:4},{value:"Long Title at Different Zoom Levels",id:"long-title-at-different-zoom-levels",level:4},{value:"Parent vs Leaf Nodes",id:"parent-vs-leaf-nodes",level:3},{value:"Key Features Demonstrated",id:"key-features-demonstrated",level:3},{value:"Features",id:"features",level:2},{value:"Basic Usage",id:"basic-usage",level:2},{value:"Simple Graph",id:"simple-graph",level:3},{value:"Component API",id:"component-api",level:2},{value:"Props",id:"props",level:3},{value:"Data Structure",id:"data-structure",level:3},{value:"Node",id:"node",level:4},{value:"Link",id:"link",level:4},{value:"Feature Examples",id:"feature-examples",level:2},{value:"Hierarchical Nodes with Expand/Collapse",id:"hierarchical-nodes-with-expandcollapse",level:3},{value:"Title Display",id:"title-display",level:3},{value:"Anchor Links and Node Highlighting",id:"anchor-links-and-node-highlighting",level:3},{value:"Edge Labels",id:"edge-labels",level:3},{value:"Custom Colors",id:"custom-colors",level:3},{value:"Node Descriptions",id:"node-descriptions",level:3},{value:"Interactive Controls",id:"interactive-controls",level:2},{value:"Menu Bar",id:"menu-bar",level:3},{value:"Mouse Interactions",id:"mouse-interactions",level:3},{value:"Zoom Behavior",id:"zoom-behavior",level:3},{value:"Advanced Example",id:"advanced-example",level:2},{value:"Technical Details",id:"technical-details",level:2},{value:"Title Display Logic",id:"title-display-logic",level:3},{value:"Node Sizing",id:"node-sizing",level:3},{value:"Color Palette",id:"color-palette",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Text not displaying",id:"text-not-displaying",level:3},{value:"Nodes not expanding",id:"nodes-not-expanding",level:3},{value:"Anchor links not working",id:"anchor-links-not-working",level:3},{value:"Zoom not working",id:"zoom-not-working",level:3}];function x(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"graph-renderer-component",children:"Graph Renderer Component"})}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.code,{children:"GraphRenderer"})," component is an interactive, force-directed graph visualization built on top of D3.js force simulation. It supports hierarchical node structures, dynamic expansion/collapse, zoom controls, anchor links, and dark mode."]}),"\n",(0,r.jsx)(t.h2,{id:"noderenderer-title-display-examples",children:"NodeRenderer: Title Display Examples"}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.code,{children:"NodeRenderer"})," class handles all node rendering, including sophisticated title display with automatic truncation and ellipsis handling. Below are examples showcasing how titles are rendered at different lengths and zoom levels."]}),"\n",(0,r.jsx)(t.h3,{id:"short-titles-20-characters",children:"Short Titles (\u226420 characters)"}),"\n",(0,r.jsx)(t.p,{children:"Short titles are displayed in full without truncation:"}),"\n",(0,r.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",margin:"20px 0"},children:[(0,r.jsx)(a,{title:"Short",zoomLevel:1}),(0,r.jsx)(a,{title:"Short Title",zoomLevel:1}),(0,r.jsx)(a,{title:"A Short Node Title",zoomLevel:1})]}),"\n",(0,r.jsx)(t.h3,{id:"medium-titles-21-40-characters",children:"Medium Titles (21-40 characters)"}),"\n",(0,r.jsx)(t.p,{children:"Medium titles may be truncated or wrapped across multiple lines:"}),"\n",(0,r.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",margin:"20px 0"},children:[(0,r.jsx)(a,{title:"This is a medium length title",zoomLevel:1}),(0,r.jsx)(a,{title:"A Medium Length Node Title Here",zoomLevel:1}),(0,r.jsx)(a,{title:"Medium Title That Needs Wrapping",zoomLevel:1})]}),"\n",(0,r.jsx)(t.h3,{id:"long-titles-40-characters",children:"Long Titles (>40 characters)"}),"\n",(0,r.jsx)(t.p,{children:"Long titles are truncated to ensure at least 20 characters are shown before the ellipsis:"}),"\n",(0,r.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",margin:"20px 0"},children:[(0,r.jsx)(a,{title:"This is a very long title that exceeds the maximum character limit",zoomLevel:1}),(0,r.jsx)(a,{title:"A Very Long Node Title That Will Definitely Be Truncated With Ellipsis",zoomLevel:1}),(0,r.jsx)(a,{title:"Extremely Long Title That Demonstrates The Ellipsis Mechanism Perfectly",zoomLevel:1})]}),"\n",(0,r.jsx)(t.h3,{id:"zoom-level-effects",children:"Zoom Level Effects"}),"\n",(0,r.jsx)(t.p,{children:"The same title at different zoom levels. Notice how the text scales reactively while maintaining the 20-character minimum before ellipsis:"}),"\n",(0,r.jsx)(t.h4,{id:"short-title-at-different-zoom-levels",children:"Short Title at Different Zoom Levels"}),"\n",(0,r.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",margin:"20px 0"},children:[(0,r.jsx)(a,{title:"Short Title",zoomLevel:.5}),(0,r.jsx)(a,{title:"Short Title",zoomLevel:1}),(0,r.jsx)(a,{title:"Short Title",zoomLevel:1.5}),(0,r.jsx)(a,{title:"Short Title",zoomLevel:2})]}),"\n",(0,r.jsx)(t.h4,{id:"medium-title-at-different-zoom-levels",children:"Medium Title at Different Zoom Levels"}),"\n",(0,r.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",margin:"20px 0"},children:[(0,r.jsx)(a,{title:"This is a medium length title",zoomLevel:.5}),(0,r.jsx)(a,{title:"This is a medium length title",zoomLevel:1}),(0,r.jsx)(a,{title:"This is a medium length title",zoomLevel:1.5}),(0,r.jsx)(a,{title:"This is a medium length title",zoomLevel:2})]}),"\n",(0,r.jsx)(t.h4,{id:"long-title-at-different-zoom-levels",children:"Long Title at Different Zoom Levels"}),"\n",(0,r.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",margin:"20px 0"},children:[(0,r.jsx)(a,{title:"This is a very long title that exceeds the maximum character limit",zoomLevel:.5}),(0,r.jsx)(a,{title:"This is a very long title that exceeds the maximum character limit",zoomLevel:1}),(0,r.jsx)(a,{title:"This is a very long title that exceeds the maximum character limit",zoomLevel:1.5}),(0,r.jsx)(a,{title:"This is a very long title that exceeds the maximum character limit",zoomLevel:2})]}),"\n",(0,r.jsx)(t.h3,{id:"parent-vs-leaf-nodes",children:"Parent vs Leaf Nodes"}),"\n",(0,r.jsx)(t.p,{children:"Parent nodes (with children) are larger and show expansion arrows, while leaf nodes are smaller and show a leaf emoji:"}),"\n",(0,r.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",margin:"20px 0"},children:[(0,r.jsx)(a,{title:"Parent Node",zoomLevel:1,isParent:!0}),(0,r.jsx)(a,{title:"Leaf Node",zoomLevel:1,isParent:!1}),(0,r.jsx)(a,{title:"Long Parent Node Title",zoomLevel:1,isParent:!0}),(0,r.jsx)(a,{title:"Long Leaf Node Title",zoomLevel:1,isParent:!1})]}),"\n",(0,r.jsx)(t.h3,{id:"key-features-demonstrated",children:"Key Features Demonstrated"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"20-Character Minimum"}),": When ellipsis is shown, at least 20 characters of text are displayed before it"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Reactive Scaling"}),": Text scales with zoom level while staying within node boundaries"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Multi-line Support"}),": Long titles are distributed across up to 3 lines"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Canvas Clipping"}),": Text never protrudes outside the circular node shape"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Smart Truncation"}),": Ellipsis only appears when necessary, never alone"]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"features",children:"Features"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Hierarchical Nodes"}),": Support for nested node structures with expand/collapse functionality"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Interactive Navigation"}),": Click to expand/collapse, zoom with mouse wheel, pan by dragging"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Anchor Links"}),": Deep linking to specific nodes via URL hashes"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Node Highlighting"}),": Visual highlighting with golden glow for selected nodes"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Smart Title Display"}),": Automatic text truncation (20 chars) with ellipsis, distributed across 3 lines"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Dark Mode Support"}),": Automatically adapts to Docusaurus theme"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Context Menu"}),": Right-click nodes/edges to copy anchor links"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Side Panel"}),": View node/edge details on hover or click"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Edge Labels"}),": Display labels on graph edges"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Status Indicators"}),": Visual indicators for leaf nodes (\ud83c\udf3f) and expandable nodes (\u25b6/\u25bc)"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Zoom Limits"}),": Intelligent zoom constraints to prevent over-zooming"]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"basic-usage",children:"Basic Usage"}),"\n",(0,r.jsx)(t.h3,{id:"simple-graph",children:"Simple Graph"}),"\n",(0,r.jsx)(t.p,{children:"A basic graph with two nodes and a link:"}),"\n",(0,r.jsx)(s,{data:{nodes:[{id:"1",label:"Node A",title:"Node A Title"},{id:"2",label:"Node B",title:"Node B Title"}],links:[{source:"1",target:"2"}]}}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-jsx",children:"<GraphRenderer data={{\n  nodes: [\n    { id: '1', label: 'Node A', title: 'Node A Title' },\n    { id: '2', label: 'Node B', title: 'Node B Title' }\n  ],\n  links: [\n    { source: '1', target: '2' }\n  ]\n}} />\n"})}),"\n",(0,r.jsx)(t.h2,{id:"component-api",children:"Component API"}),"\n",(0,r.jsx)(t.h3,{id:"props",children:"Props"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Prop"}),(0,r.jsx)(t.th,{children:"Type"}),(0,r.jsx)(t.th,{children:"Default"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"data"})}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"GraphData"})}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.strong,{children:"required"})}),(0,r.jsx)(t.td,{children:"Graph data containing nodes and links"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"width"})}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"number"})}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"800"})}),(0,r.jsx)(t.td,{children:"Graph width in pixels"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"height"})}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"number"})}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"600"})}),(0,r.jsx)(t.td,{children:"Graph height in pixels"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"graphId"})}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"string"})}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"'graph'"})}),(0,r.jsx)(t.td,{children:"Unique ID for anchor link support"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"highlightNodeId"})}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"string"})}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"undefined"})}),(0,r.jsx)(t.td,{children:"Node ID to highlight programmatically"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"highlightEdgeId"})}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"string"})}),(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"undefined"})}),(0,r.jsx)(t.td,{children:"Edge ID to highlight programmatically"})]})]})]}),"\n",(0,r.jsx)(t.h3,{id:"data-structure",children:"Data Structure"}),"\n",(0,r.jsx)(t.h4,{id:"node",children:"Node"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typescript",children:"interface Node {\n  id: string;              // Unique identifier (required)\n  label: string;           // Display label (required)\n  title?: string;          // Title text (displayed in node, max 20 chars)\n  description?: string;    // Description (shown in side panel)\n  color?: string;          // Node color (hex format)\n  group?: number;          // Group number (for color assignment)\n  children?: Node[];       // Child nodes (for hierarchical structure)\n}\n"})}),"\n",(0,r.jsx)(t.h4,{id:"link",children:"Link"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-typescript",children:"interface Link {\n  source: string;          // Source node ID (required)\n  target: string;          // Target node ID (required)\n  value?: number;          // Link weight (affects thickness)\n  label?: string;          // Edge label text\n  id?: string;             // Unique edge ID (for highlighting)\n}\n"})}),"\n",(0,r.jsx)(t.h2,{id:"feature-examples",children:"Feature Examples"}),"\n",(0,r.jsx)(t.h3,{id:"hierarchical-nodes-with-expandcollapse",children:"Hierarchical Nodes with Expand/Collapse"}),"\n",(0,r.jsx)(t.p,{children:"Nodes can have children that are hidden by default. Click on a parent node to expand and reveal its children. Click again to collapse."}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"Visual Indicators:"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Parent nodes"})," (with children): Larger size (12px radius), show ",(0,r.jsx)(t.code,{children:"\u25b6"})," when collapsed, ",(0,r.jsx)(t.code,{children:"\u25bc"})," when expanded"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Leaf nodes"})," (no children): Smaller size (8px radius), show ",(0,r.jsx)(t.code,{children:"\ud83c\udf3f"})," emoji"]}),"\n"]}),"\n",(0,r.jsx)(s,{graphId:"hierarchical-example",data:{nodes:[{id:"root",label:"Root",title:"Root Node",color:"#68BDF6",children:[{id:"level1-a",label:"Level 1-A",title:"First Level Node A",color:"#60BE86",children:[{id:"level2-a1",label:"Level 2-A1",title:"Second Level Node A1",color:"#FF6B6B",children:[{id:"level3-a1a",label:"Level 3-A1a",title:"Third Level Node A1a",color:"#FFD93D"},{id:"level3-a1b",label:"Level 3-A1b",title:"Third Level Node A1b",color:"#FFD93D"}]},{id:"level2-a2",label:"Level 2-A2",title:"Second Level Node A2",color:"#FF6B6B"}]},{id:"level1-b",label:"Level 1-B",title:"First Level Node B",color:"#60BE86",children:[{id:"level2-b1",label:"Level 2-B1",title:"Second Level Node B1",color:"#FF6B6B"},{id:"level2-b2",label:"Level 2-B2",title:"Second Level Node B2",color:"#FF6B6B"}]},{id:"level1-c",label:"Level 1-C",title:"First Level Node C (No Children)",color:"#60BE86"}]}],links:[]}}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"Try it:"})}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsx)(t.li,{children:'Click on "Root" to expand and see Level 1 nodes'}),"\n",(0,r.jsx)(t.li,{children:'Click on "Level 1-A" to expand and see Level 2 nodes'}),"\n",(0,r.jsx)(t.li,{children:'Click on "Level 2-A1" to expand and see Level 3 nodes'}),"\n",(0,r.jsx)(t.li,{children:"Click again on any expanded node to collapse it"}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"title-display",children:"Title Display"}),"\n",(0,r.jsx)(t.p,{children:"Node titles are automatically:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Truncated to 20 characters"})," with ellipsis (",(0,r.jsx)(t.code,{children:"..."}),") if longer"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Distributed across up to 3 lines"})," within the node"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Scaled reactively"})," with zoom level to always fit within node boundaries"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Never protrude"})," outside the circular node shape"]}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"Examples:"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:'Short title: "Root Node" \u2192 displayed as-is'}),"\n",(0,r.jsx)(t.li,{children:'Medium title: "First Level Node A" \u2192 displayed as-is (18 chars)'}),"\n",(0,r.jsx)(t.li,{children:'Long title: "First Level Node C (No Children)" \u2192 truncated to "First Level Node ..." (20 chars)'}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"anchor-links-and-node-highlighting",children:"Anchor Links and Node Highlighting"}),"\n",(0,r.jsx)(t.p,{children:"Create deep links to specific nodes using URL hashes. When a link is clicked, the graph will:"}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Automatically expand"})," all parent nodes to make the target visible"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Highlight"})," the target node with a golden glow and border"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Center and zoom"})," the view on the highlighted node"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Update the URL"})," hash for shareable links"]}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Link Format:"})," ",(0,r.jsx)(t.code,{children:"#graphId-node-{nodeId}"})]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"Example Links:"})}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"#hierarchical-example-node-level2-a1",children:"Highlight Level 2-A1"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"#hierarchical-example-node-level3-a1a",children:"Highlight Level 3-A1a"})}),"\n",(0,r.jsx)(t.li,{children:(0,r.jsx)(t.a,{href:"#hierarchical-example-node-level1-c",children:"Highlight Level 1-C"})}),"\n"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-jsx",children:'// In your MDX file, create links like this:\n[Highlight Node](#hierarchical-example-node-level2-a1)\n\n// Or programmatically:\n<GraphRenderer \n  graphId="my-graph"\n  highlightNodeId="level2-a1"\n  data={...}\n/>\n'})}),"\n",(0,r.jsx)(t.h3,{id:"edge-labels",children:"Edge Labels"}),"\n",(0,r.jsx)(t.p,{children:"Edges can have labels displayed at their midpoint:"}),"\n",(0,r.jsx)(s,{data:{nodes:[{id:"a",label:"Node A",title:"Source"},{id:"b",label:"Node B",title:"Target"},{id:"c",label:"Node C",title:"Another"}],links:[{source:"a",target:"b",label:"connects to",id:"link-ab"},{source:"b",target:"c",label:"related to",id:"link-bc"}]}}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-jsx",children:"links: [\n  { \n    source: 'a', \n    target: 'b', \n    label: 'connects to',\n    id: 'link-ab'  // Optional: for highlighting\n  }\n]\n"})}),"\n",(0,r.jsx)(t.h3,{id:"custom-colors",children:"Custom Colors"}),"\n",(0,r.jsx)(t.p,{children:"Assign custom colors to nodes:"}),"\n",(0,r.jsx)(s,{data:{nodes:[{id:"1",label:"Blue Node",title:"Blue",color:"#68BDF6"},{id:"2",label:"Green Node",title:"Green",color:"#60BE86"},{id:"3",label:"Red Node",title:"Red",color:"#FF6B6B"},{id:"4",label:"Purple Node",title:"Purple",color:"#A78BFA"}],links:[{source:"1",target:"2"},{source:"2",target:"3"},{source:"3",target:"4"}]}}),"\n",(0,r.jsx)(t.p,{children:"If no color is specified, nodes use a default Neo4j-inspired color palette."}),"\n",(0,r.jsx)(t.h3,{id:"node-descriptions",children:"Node Descriptions"}),"\n",(0,r.jsx)(t.p,{children:"Add descriptions that appear in the side panel when hovering or clicking a node:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-jsx",children:"nodes: [\n  { \n    id: '1', \n    label: 'Node A', \n    title: 'Node A Title',\n    description: 'This is a detailed description that appears in the side panel when you hover or click on the node.'\n  }\n]\n"})}),"\n",(0,r.jsx)(t.h2,{id:"interactive-controls",children:"Interactive Controls"}),"\n",(0,r.jsx)(t.h3,{id:"menu-bar",children:"Menu Bar"}),"\n",(0,r.jsx)(t.p,{children:"The graph includes a menu bar with the following controls:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Center"}),": Centers the view on all visible nodes"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Expand All"}),": Expands all nodes with children"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Collapse All"}),": Collapses all expanded nodes"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Hide/Show Pane"}),": Toggles the side panel visibility"]}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"mouse-interactions",children:"Mouse Interactions"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Left Click Node"}),":","\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"If node has children: Toggle expand/collapse"}),"\n",(0,r.jsx)(t.li,{children:"Always: Select node and show details in side panel"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Right Click Node/Edge"}),": Open context menu to copy anchor link"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Mouse Wheel"}),": Zoom in/out (with intelligent limits)"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Drag"}),": Pan the graph view"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Hover Node"}),": Show node details in side panel"]}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"zoom-behavior",children:"Zoom Behavior"}),"\n",(0,r.jsx)(t.p,{children:"The graph enforces intelligent zoom limits:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Zoom Out Limit"}),": Prevents zooming out so far that the graph becomes less than 25% of viewport"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Zoom In Limit"}),": Prevents zooming in so far that a single node takes up more than 90% of viewport"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Reactive Text"}),": Text scales appropriately with zoom level while staying within node boundaries"]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"advanced-example",children:"Advanced Example"}),"\n",(0,r.jsx)(t.p,{children:"Here's a comprehensive example showcasing multiple features:"}),"\n",(0,r.jsx)(s,{graphId:"advanced-example",data:{nodes:[{id:"root",label:"Root",title:"Root Node",description:"This is the root node with multiple children",color:"#68BDF6",children:[{id:"level1-a",label:"Level 1-A",title:"First Level Node A",description:"A first-level child node",color:"#60BE86",children:[{id:"level2-a1",label:"Level 2-A1",title:"Second Level Node A1",color:"#FF6B6B",children:[{id:"level3-a1a",label:"Level 3-A1a",title:"Third Level Node A1a",color:"#FFD93D"},{id:"level3-a1b",label:"Level 3-A1b",title:"Third Level Node A1b",color:"#FFD93D"}]},{id:"level2-a2",label:"Level 2-A2",title:"Second Level Node A2",color:"#FF6B6B"}]},{id:"level1-b",label:"Level 1-B",title:"First Level Node B",color:"#60BE86",children:[{id:"level2-b1",label:"Level 2-B1",title:"Second Level Node B1",color:"#FF6B6B"},{id:"level2-b2",label:"Level 2-B2",title:"Second Level Node B2",color:"#FF6B6B"}]},{id:"level1-c",label:"Level 1-C",title:"First Level Node C (No Children)",color:"#60BE86"}]},{id:"sibling",label:"Sibling",title:"Sibling Root Node",color:"#A78BFA",children:[{id:"sibling-child1",label:"Sibling Child 1",title:"Sibling First Child",color:"#FB7185"},{id:"sibling-child2",label:"Sibling Child 2",title:"Sibling Second Child",color:"#FB7185"}]}],links:[{source:"root",target:"sibling",label:"related to"}]}}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"Try these features:"})}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Expand nodes"}),": Click on nodes with ",(0,r.jsx)(t.code,{children:"\u25b6"})," to expand"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Use anchor links"}),": ",(0,r.jsx)(t.a,{href:"#advanced-example-node-level2-a1",children:"Highlight Level 2-A1"})]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Right-click"}),": Right-click any node to copy its anchor link"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Zoom"}),": Use mouse wheel to zoom in/out"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Pan"}),": Click and drag to move the graph"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"View details"}),": Hover or click nodes to see details in the side panel"]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"technical-details",children:"Technical Details"}),"\n",(0,r.jsx)(t.h3,{id:"title-display-logic",children:"Title Display Logic"}),"\n",(0,r.jsx)(t.p,{children:"The component implements sophisticated text rendering:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Character Limit"}),": Titles are truncated to exactly 20 characters (17 chars + ",(0,r.jsx)(t.code,{children:"..."})," if longer)"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Line Distribution"}),": Text is distributed across up to 3 lines within the node"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Word Breaking"}),": Attempts to break at word boundaries when possible"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Ellipsis Handling"}),": Ellipsis always appears at the end, never alone"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Reactive Scaling"}),": Font size adjusts with zoom level to maintain readability"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Boundary Enforcement"}),": Canvas clipping ensures text never protrudes outside node circle"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Width Constraints"}),": Text width accounts for circular node shape (narrower at top/bottom)"]}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"node-sizing",children:"Node Sizing"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Parent nodes"})," (with children): 12px radius"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Leaf nodes"})," (no children): 8px radius"]}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"color-palette",children:"Color Palette"}),"\n",(0,r.jsx)(t.p,{children:"Default colors (Neo4j-inspired):"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"#68BDF6"})," - Neo4j blue"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"#60BE86"})," - Green"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"#FF6B6B"})," - Red"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"#FFD93D"})," - Yellow"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"#A78BFA"})," - Purple"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"#FB7185"})," - Pink"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"#34D399"})," - Emerald"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"#FBBF24"})," - Amber"]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsxs)(t.strong,{children:["Use unique ",(0,r.jsx)(t.code,{children:"graphId"})]}),": When using multiple graphs on the same page, give each a unique ",(0,r.jsx)(t.code,{children:"graphId"})]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Keep titles concise"}),": Titles are limited to 20 characters; use descriptions for longer text"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Provide descriptions"}),": Add descriptions to nodes for better context in the side panel"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Use anchor links"}),": Create shareable links to specific nodes using the anchor link format"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Organize hierarchically"}),": Use the ",(0,r.jsx)(t.code,{children:"children"})," property to create logical node hierarchies"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Customize colors"}),": Use the ",(0,r.jsx)(t.code,{children:"color"})," property to create visual groupings"]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsx)(t.h3,{id:"text-not-displaying",children:"Text not displaying"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["Check that nodes have a ",(0,r.jsx)(t.code,{children:"title"})," or ",(0,r.jsx)(t.code,{children:"label"})," property"]}),"\n",(0,r.jsx)(t.li,{children:"Verify the title is not empty after trimming"}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"nodes-not-expanding",children:"Nodes not expanding"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["Ensure parent nodes have a ",(0,r.jsx)(t.code,{children:"children"})," array with at least one child"]}),"\n",(0,r.jsxs)(t.li,{children:["Check that child nodes have unique ",(0,r.jsx)(t.code,{children:"id"})," values"]}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"anchor-links-not-working",children:"Anchor links not working"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["Verify the ",(0,r.jsx)(t.code,{children:"graphId"})," prop matches the hash format: ",(0,r.jsx)(t.code,{children:"#graphId-node-{nodeId}"})]}),"\n",(0,r.jsx)(t.li,{children:"Ensure the target node exists in the graph data"}),"\n",(0,r.jsx)(t.li,{children:"Check that parent nodes are being expanded correctly"}),"\n"]}),"\n",(0,r.jsx)(t.h3,{id:"zoom-not-working",children:"Zoom not working"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"The graph enforces zoom limits; try zooming in smaller increments"}),"\n",(0,r.jsx)(t.li,{children:"Check browser console for any errors"}),"\n"]})]})}function p(e={}){const{wrapper:t}={...(0,l.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(x,{...e})}):x(e)}},45846:(e,t,n)=>{n.d(t,{A:()=>g});var i=n(96540),r=n(41742),l=n(95293),o=n(3608),s=n(7960),a=n(4698),d=n(69890),c=n(74848);const h=["#68BDF6","#60BE86","#FF6B6B","#FFD93D","#A78BFA","#FB7185","#34D399","#FBBF24"],u=!1,x=e=>e?12:8,p=(e,t,n,i,r)=>(l,o,s)=>{l.isExpanded=r.has(l.id);new d.M({ctx:o,node:l,globalScale:s,isDarkMode:e,isHighlighted:t===l.id,isSelected:n?.id===l.id,nodeBorderColor:i,showDebugSeparators:u}).render()},g=({data:e,width:t=800,height:n=600,highlightNodeId:d,highlightEdgeId:u,graphId:g="graph",onEdgeClick:f,initialExpandedNodes:m})=>{const j=(0,i.useRef)(null),v=(0,i.useRef)(null),b=(0,i.useCallback)(e=>({id:e.id,name:e.name,title:e.title,label:e.label,description:"string"==typeof e.description?e.description:"",group:e.group,color:e.color,hasChildren:e.hasChildren,isExpanded:e.isExpanded,markdownSection:e.markdownSection,keyLinks:e.keyLinks}),[]),y=(0,i.useCallback)(e=>{const t="string"==typeof e.source?e.source:e.source?.id||String(e.source),n="string"==typeof e.target?e.target:e.target?.id||String(e.target);return{id:e.id,source:t,target:n,label:e.label,value:e.value,type:e.type,markdownSection:e.markdownSection,similarities:e.similarities,differences:e.differences,sourceData:e.sourceData,targetData:e.targetData}},[]),k=(0,i.useCallback)((e,t)=>{const n=Math.max(2,2*Math.sqrt(e.value||1));return t?1.5*n:n},[]),C=(0,i.useCallback)((e,t,n,i)=>{if(!(t&&n&&void 0!==t.x&&void 0!==t.y&&void 0!==n.x&&void 0!==n.y&&isFinite(t.x)&&isFinite(t.y)&&isFinite(n.x)&&isFinite(n.y)))return null;const r=i(t.hasChildren),l=i(n.hasChildren),o=n.x-t.x,s=n.y-t.y,a=Math.sqrt(o*o+s*s);if(0===a)return null;const d=o/a,c=s/a,h=t.x+d*r,u=t.y+c*r,x=n.x-d*l,p=n.y-c*l;return{startX:h,startY:u,endX:x,endY:p,midX:(h+x)/2,midY:(u+p)/2}},[]),S=(0,i.useCallback)((e,t,n,i,r,l,o,s)=>{e.save(),e.setLineDash([12,8]),e.lineWidth=.6*s,e.strokeStyle=l?o?"#FFD700":"#FFA500":o?"#CCCCCC":"#BBBBBB",e.lineCap="round",e.lineJoin="round",e.globalAlpha=1,e.beginPath(),e.moveTo(t,n),e.lineTo(i,r),e.stroke(),e.restore()},[]),w=(0,i.useCallback)((e,t,n,i,r,l,o)=>{const s=10/r;e.font=`${s}px Sans-Serif`;const a=e.measureText(t).width,d=4/r;e.fillStyle=l?"rgba(255, 215, 0, 0.9)":o?"rgba(30, 30, 30, 0.9)":"rgba(255, 255, 255, 0.9)",e.fillRect(n-a/2-d,i-s/2-d,a+2*d,s+2*d),e.fillStyle=l?"#000000":o?"#ffffff":"#1a1a1a",e.textAlign="center",e.textBaseline="middle",e.fillText(t,n,i)},[]),L=(0,i.useRef)(null),T=(0,i.useRef)(!1),E=(0,i.useRef)(1),[D,F]=(0,i.useState)(m||new Set),[B,z]=(0,i.useState)(null),[N,A]=(0,i.useState)(null),[M,R]=(0,i.useState)(null),[I,P]=(0,i.useState)(null),[$,W]=(0,i.useState)(!0),[H,O]=(0,i.useState)(null),q=(0,i.useRef)(null),[_,G]=(0,i.useState)(new Map),[U,Y]=(0,i.useState)(null),{colorMode:Z}=(0,l.G)(),X="dark"===Z,V=40,K=(0,i.useCallback)((t,n)=>{const i=[],r=[],l=new Map,o=(e,t,s)=>{const{children:a,...d}=e,c={...d,id:e.id,name:e.label,title:e.title||e.label,description:"string"==typeof e.description?e.description:e.description?.toString?.()||"",group:e.group??t%h.length,color:e.color??h[t%h.length],hasChildren:e.children&&e.children.length>0,isExpanded:n.has(e.id),originalNode:e};i.push(c),l.set(e.id,c),s&&r.push({source:s,target:e.id,value:1,id:`${s}-${e.id}`}),e.children&&n.has(e.id)&&e.children.forEach((t,n)=>{o(t,n,e.id)})};return t.forEach((e,t)=>{o(e,t)}),e.links.forEach((e,t)=>{r.push({...e,source:e.source,target:e.target,value:e.value??1,id:e.id||`${e.source}-${e.target}-${t}`})}),{nodes:i,links:r}},[e]),J=(0,i.useMemo)(()=>K(e.nodes,D),[e,D,K]),Q=(0,i.useCallback)(e=>{F(t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})},[]),ee=(0,i.useCallback)(()=>{const t=new Set,n=e=>{e.forEach(e=>{e.children&&e.children.length>0&&(t.add(e.id),n(e.children))})};return n(e.nodes),t},[e]),te=(0,i.useCallback)(()=>{const e=ee();F(e)},[ee]),ne=(0,i.useCallback)(()=>{F(new Set),A(null),z(null),P(null),R(null)},[]),ie=(0,i.useCallback)(()=>{if(!v.current||!j.current)return;const e=v.current.graphData();if(!e||!e.nodes)return;const t=j.current.getBoundingClientRect(),n=v.current.zoom()||1;if(!j.current.querySelector("canvas")){if(!j.current.querySelector("svg"))return void console.warn("Neither canvas nor SVG found in container")}const i=new Map;e.nodes.forEach(e=>{if(void 0!==e.x&&void 0!==e.y&&isFinite(e.x)&&isFinite(e.y)){const r=t.width/2+e.x*n,l=t.height/2+e.y*n,o=x(e.hasChildren)*n;i.set(e.id,{x:r,y:l,radius:o})}}),G(i)},[]);(0,i.useEffect)(()=>{if(!v.current)return;let e,t;const n=()=>{ie(),e=requestAnimationFrame(n)};return e=requestAnimationFrame(n),t=setInterval(ie,100),()=>{e&&cancelAnimationFrame(e),t&&clearInterval(t)}},[J,ie]);const re=(0,i.useCallback)(()=>{if(v.current&&J.nodes.length>0){let e=1/0,n=-1/0,i=1/0,r=-1/0;if(J.nodes.forEach(t=>{void 0!==t.x&&void 0!==t.y&&(e=Math.min(e,t.x),n=Math.max(n,t.x),i=Math.min(i,t.y),r=Math.max(r,t.y))}),e!==1/0){const l=(e+n)/2,o=(i+r)/2,s=(v.current.zoom(),j.current?.parentElement),a=s?s.offsetWidth:t;$&&Math.floor(.2*a);v.current.centerAt(l,o,1e3)}}},[J,t,$]),le=(0,i.useCallback)(()=>{W(e=>!e)},[]),oe=(0,i.useCallback)(async(e,t)=>{let n;if(e)n=`${window.location.origin}${window.location.pathname}#${g}-node-${e}`;else{if(!t)return;n=`${window.location.origin}${window.location.pathname}#${g}-edge-${t}`}try{await navigator.clipboard.writeText(n),O(null)}catch(i){console.error("Failed to copy link:",i);const e=document.createElement("textarea");e.value=n,e.style.position="fixed",e.style.opacity="0",document.body.appendChild(e),e.select();try{document.execCommand("copy"),O(null)}catch(r){console.error("Fallback copy failed:",r)}document.body.removeChild(e)}},[g]);(0,i.useEffect)(()=>{const e=e=>{U&&Y(null),H&&O(null)};return(U||H)&&(document.addEventListener("click",e),document.addEventListener("contextmenu",e)),()=>{document.removeEventListener("click",e),document.removeEventListener("contextmenu",e)}},[U,H]);const se=(0,i.useCallback)((e,t,n=[])=>{for(const i of t){const t=[...n,i.id];if(i.id===e)return t;if(i.children){const n=se(e,i.children,t);if(n)return n}}return null},[]),ae=(0,i.useCallback)((e,t)=>{for(const n of t){if(n.id===e)return n;if(n.children){const t=ae(e,n.children);if(t)return t}}return null},[]),de=(0,i.useCallback)((t,n=!1)=>{if(!t)return;n&&L.current&&L.current.scrollIntoView({behavior:"smooth",block:"center"});const i=se(t,e.nodes);if(!i)return void console.warn(`Node not found: ${t}`);const r=i.slice(0,-1),l=ae(t,e.nodes);F(e=>{const i=new Set(e);return r.forEach(e=>i.add(e)),n&&l&&l.children&&l.children.length>0&&i.add(t),i}),R(t),n&&l&&z(b(l))},[e.nodes,se,ae,b]),ce=(0,i.useCallback)((e,t=!1)=>{if(!e)return;J.links.find(t=>t.id===e)?(t&&L.current&&L.current.scrollIntoView({behavior:"smooth",block:"center"}),P(e)):console.warn(`Edge not found: ${e} (source/target nodes may be collapsed)`)},[J]);(0,i.useEffect)(()=>{const e=e=>{let t=e.target,n=null,i=null;for(;t&&t!==document.body;){if(t.dataset.graphNode){n=t.dataset.graphNode;break}if(t.dataset.graphEdge){i=t.dataset.graphEdge;break}t=t.parentElement}if(n)e.preventDefault(),de(n,!0),g&&(window.location.hash=`#${g}-node-${n}`);else if(i){e.preventDefault();const t=J.links.find(e=>e.id===i);t?(ce(i,!0),A(y(t)),z(null),g&&(window.location.hash=`#${g}-edge-${i}`)):console.warn(`Edge not found: ${i} (source/target nodes may be collapsed)`)}};return document.addEventListener("click",e,!0),()=>{document.removeEventListener("click",e,!0)}},[g,de,ce,J,A,z]),(0,i.useEffect)(()=>{const e=`#${g}-node-`,t=`#${g}-edge-`,n=()=>{const n=window.location.hash;if(n.startsWith(e)){const t=n.substring(e.length);de(t,!0)}else if(n.startsWith(t)){const e=n.substring(t.length),i=J.links.find(t=>t.id===e);i?(ce(e,!0),A(y(i)),z(null)):console.warn(`Edge not found: ${e} (source/target nodes may be collapsed)`)}};return n(),window.addEventListener("hashchange",n),()=>{window.removeEventListener("hashchange",n)}},[g,de,ce]),(0,i.useEffect)(()=>{d&&de(d)},[d,de]),(0,i.useEffect)(()=>{u&&ce(u)},[u,ce]),(0,i.useEffect)(()=>{if(M&&v.current&&J.nodes.length>0){const e=(t=0)=>{t>30||setTimeout(()=>{if(v.current){const n=v.current.graphData(),i=n?.nodes?.find(e=>e.id===M);i&&void 0!==i.x&&void 0!==i.y&&isFinite(i.x)&&isFinite(i.y)?(v.current.centerAt(i.x,i.y,1e3),v.current.zoom(1.5,1e3),z(b(i))):e(t+1)}},100)};e()}},[J,M]);const he=(0,i.useCallback)(()=>{if(!j.current||!v.current)return;const e=j.current.parentElement;if(!e)return;const i=e.offsetWidth||t,r=i-($?Math.floor(.2*i):0),l=n-V;v.current.width(r),v.current.height(l)},[t,n,$]),ue=(0,i.useCallback)(()=>{if(!v.current)return null;const e=v.current.graphData();if(!e||!e.nodes||0===e.nodes.length)return null;let t=1/0,n=1/0,i=-1/0,r=-1/0,l=0;return e.nodes.forEach(e=>{if(void 0!==e.x&&void 0!==e.y&&isFinite(e.x)&&isFinite(e.y)){const o=x(e.hasChildren);t=Math.min(t,e.x-o),n=Math.min(n,e.y-o),i=Math.max(i,e.x+o),r=Math.max(r,e.y+o),l++}}),0===l?null:{minX:t,minY:n,maxX:i,maxY:r,width:i-t,height:r-n,centerX:(t+i)/2,centerY:(n+r)/2}},[]),xe=(0,i.useCallback)(e=>{if(!v.current||!j.current)return!0;const i=ue();if(!i)return!0;const r=j.current.parentElement;if(!r)return!0;const l=r.offsetWidth||t,o=l-($?Math.floor(.2*l):0),s=n-V;return i.width*e*(i.height*e)/(o*s)*100>=10},[ue,t,n,$]),pe=(0,i.useCallback)(e=>{if(!v.current||!j.current)return!0;const i=v.current.graphData();if(!i||!i.nodes||i.nodes.length<=1)return!0;const r=j.current.parentElement;if(!r)return!0;const l=r.offsetWidth||t,o=l-($?Math.floor(.2*l):0),s=n-V,a=o/e,d=s/e;let c,h;if(v.current.screen2GraphCoords){const e=v.current.screen2GraphCoords(o/2,s/2);c=e.x,h=e.y}else{const e=ue();if(!e)return!0;c=e.centerX,h=e.centerY}const u=a/2,p=d/2;let g=0;i.nodes.forEach(e=>{if(void 0!==e.x&&void 0!==e.y&&isFinite(e.x)&&isFinite(e.y)){const t=2*x(e.hasChildren);g=Math.max(g,t)}});let f=0;i.nodes.forEach(e=>{if(void 0!==e.x&&void 0!==e.y&&isFinite(e.x)&&isFinite(e.y)){const t=x(e.hasChildren),n=2*t,i=.5*t;e.x-t-i>=c-u&&e.x+t+i<=c+u&&e.y-t-i>=h-p&&e.y+t+i<=h+p&&(f=Math.max(f,n))}});const m=f>0?f:g;if(m>0){if(m*e/Math.min(o,s)*100>=90)return!1}return!(Math.min(a,d)<(g>0?3*g:50))},[ue,t,n,$]);(0,i.useEffect)(()=>{if(!j.current)return;const e=X?"#1e1e1e":"#ffffff",i=X?"rgba(255, 255, 255, 0.9)":"rgba(0, 0, 0, 0.8)",l=X?"rgba(255, 255, 255, 0.9)":"rgba(0, 0, 0, 0.8)",d=X?"#ffffff":"#333333",c=j.current.parentElement,h=c?c.offsetWidth:t,u=h-($?Math.floor(.2*h):0),m=n-V;if(v.current||(v.current=new r.A(j.current).width(u).height(m).backgroundColor(e).nodeLabel(e=>(e=>e.title||e.name||e.id||"")(e)).nodeVal(e=>x(e.hasChildren)).linkColor(e=>"differentiating"===e.type?"rgba(0,0,0,0)":i).linkWidth(e=>"differentiating"===e.type?.1:k(e,!1)).linkDirectionalArrowLength(e=>"differentiating"===e.type?0:6).linkDirectionalArrowRelPos(e=>{if("differentiating"===e.type)return 0;const t=v.current?.graphData(),n=t?.nodes?.find(t=>t.id===e.target);if(n&&v.current){const i=x(n.hasChildren),r=t?.nodes?.find(t=>t.id===e.source);if(r&&void 0!==r.x&&void 0!==r.y&&void 0!==n.x&&void 0!==n.y){const e=n.x-r.x,t=n.y-r.y,l=Math.sqrt(e*e+t*t);if(l>0){const e=6,t=Math.max(0,(l-i-e)/l);return Math.min(.999,Math.max(.9,t))}}}return.98}).linkDirectionalArrowColor(()=>l).d3Force("link",s.A().id(e=>e.id).distance(50)).d3Force("charge",a.A().strength(-200)).d3Force("collision",o.A().radius(e=>x(e.hasChildren)+5)).onNodeClick(e=>{O(null),I&&P(null),N&&A(null);const t=B?.id===e.id;R(e.id),g&&(window.location.hash=`#${g}-node-${e.id}`),t&&e.hasChildren?Q(e.id):!t&&e.hasChildren&&F(t=>{const n=new Set(t);return n.add(e.id),n}),z(b(e)),A(null)}).onNodeRightClick(e=>{q.current&&(Y({nodeId:e.id,x:q.current.x,y:q.current.y}),q.current=null)}).onLinkClick(e=>{Y(null),O(null),I&&I!==e.id&&P(null),M&&R(null),A(y(e)),z(null),g&&e.id&&(window.location.hash=`#${g}-edge-${e.id}`),f&&f(e)}).onLinkRightClick(e=>{q.current&&(O({x:q.current.x,y:q.current.y,edgeId:e.id,nodeId:void 0}),q.current=null)}).nodeCanvasObjectMode(()=>"replace").nodeCanvasObject(p(X,M,B,d,D)).linkCanvasObjectMode(e=>"differentiating"===e.type?"replace":"after").linkCanvasObject((e,t,n)=>{const i=I===e.id,r="differentiating"===e.type;if(r&&e.source&&e.target){const r=v.current?.graphData(),l="string"==typeof e.source?e.source:e.source?.id,o="string"==typeof e.target?e.target:e.target?.id,s=r?.nodes?.find(e=>e.id===l),a=r?.nodes?.find(e=>e.id===o),d=C(e,s,a,x);if(d){const r=k(e,i);S(t,d.startX,d.startY,d.endX,d.endY,i,X,r),e.label&&n>=.5&&w(t,e.label,d.midX,d.midY,n,i,X)}}if(!r&&e.label&&e.source&&e.target&&n>=.5){const r=v.current?.graphData(),l="string"==typeof e.source?e.source:e.source?.id,o="string"==typeof e.target?e.target:e.target?.id,s=r?.nodes?.find(e=>e.id===l),a=r?.nodes?.find(e=>e.id===o);if(s&&a&&void 0!==s.x&&void 0!==s.y&&void 0!==a.x&&void 0!==a.y&&isFinite(s.x)&&isFinite(s.y)&&isFinite(a.x)&&isFinite(a.y)){const r=x(s.hasChildren),l=x(a.hasChildren),o=a.x-s.x,d=a.y-s.y,c=Math.sqrt(o*o+d*d);if(c>0){const h=o/c,u=d/c,x=s.x+h*r,p=s.y+u*r,g=(x+(a.x-h*l))/2,f=(p+(a.y-u*l))/2,m=Math.max(10,12*n);t.font=`${m}px Sans-Serif`;const j=t.measureText(e.label).width,v=4;t.fillStyle=i?"rgba(255, 215, 0, 0.9)":X?"rgba(30, 30, 30, 0.9)":"rgba(255, 255, 255, 0.9)",t.fillRect(g-j/2-v,f-m/2-v,j+2*v,m+2*v),t.fillStyle=i?"#000000":X?"#ffffff":"#1a1a1a",t.textAlign="center",t.textBaseline="middle",t.fillText(e.label,g,f)}}}}).cooldownTicks(100).onEngineStop(()=>{}).onNodeDrag(e=>{ie()}).onNodeDragEnd(e=>{ie()}).onZoom(e=>{if(ie(),!v.current||T.current)return void(E.current=e.k);const t=e.k,n=E.current;if(t<n){if(!xe(t))return T.current=!0,v.current.zoom(n,0),void setTimeout(()=>{T.current=!1},10)}else if(t>n&&!pe(t))return T.current=!0,v.current.zoom(n,0),void setTimeout(()=>{T.current=!1},10);E.current=t})),v.current&&j.current){he();const t=J.links.filter(e=>"differentiating"===e.type).length;if(console.log("Graph data set:",{nodes:J.nodes.length,links:J.links.length,comparisonEdges:t,sampleLink:J.links[0]?{id:J.links[0].id,type:J.links[0].type,keys:Object.keys(J.links[0]),fullLink:J.links[0]}:null,allLinkTypes:[...new Set(J.links.map(e=>e.type))],linksWithType:J.links.filter(e=>e.type).length}),v.current.graphData(J),v.current.backgroundColor(e),v.current.linkColor(e=>"differentiating"===e.type?"rgba(0,0,0,0)":i),v.current.linkDirectionalArrowColor(()=>l),v.current.onZoom(e=>{if(!v.current||T.current)return void(E.current=e.k);const t=e.k,n=E.current;if(t<n){if(!xe(t))return T.current=!0,v.current.zoom(n,0),void setTimeout(()=>{T.current=!1},10)}else if(t>n&&!pe(t))return T.current=!0,v.current.zoom(n,0),void setTimeout(()=>{T.current=!1},10);E.current=t}),1===E.current){const e=v.current.zoom();e&&(E.current=e)}v.current.linkCanvasObjectMode(e=>{const t=e.type,n="differentiating"===t;return window.__modeCallCountUseEffect||(window.__modeCallCountUseEffect=0),window.__modeCallCountUseEffect++,window.__modeCallCountUseEffect<=3&&console.log("linkCanvasObjectMode (useEffect) called:",{call:window.__modeCallCountUseEffect,id:e.id,type:t,isComparison:n,keys:Object.keys(e)}),n&&window.__modeCallCountUseEffect>3&&console.log("linkCanvasObjectMode (useEffect, comparison):",{id:e.id,type:t}),n?"replace":"after"}),v.current.linkCanvasObject((e,t,n)=>{const i=I===e.id,r="differentiating"===e.type;if(r&&e.source&&e.target){const r=v.current?.graphData(),l="string"==typeof e.source?e.source:e.source?.id,o="string"==typeof e.target?e.target:e.target?.id,s=r?.nodes?.find(e=>e.id===l),a=r?.nodes?.find(e=>e.id===o),d=C(e,s,a,x);if(d){const r=k(e,i);S(t,d.startX,d.startY,d.endX,d.endY,i,X,r),e.label&&n>=.5&&w(t,e.label,d.midX,d.midY,n,i,X)}}if(!r&&e.label&&e.source&&e.target&&n>=.5){const r=v.current?.graphData(),l="string"==typeof e.source?e.source:e.source?.id,o="string"==typeof e.target?e.target:e.target?.id,s=r?.nodes?.find(e=>e.id===l),a=r?.nodes?.find(e=>e.id===o),d=C(e,s,a,x);d&&w(t,e.label,d.midX,d.midY,n,i,X)}}),v.current.linkColor(e=>"differentiating"===e.type?"rgba(0,0,0,0)":I===e.id?X?"#FFD700":"#FFA500":i),v.current.linkWidth(e=>{if("differentiating"===e.type)return 0;const t=Math.sqrt(e.value||1);return I===e.id?2*t:t}),v.current.linkDirectionalArrowLength(e=>"differentiating"===e.type?0:6),v.current.d3ReheatSimulation&&v.current.d3ReheatSimulation()}const L=new ResizeObserver(()=>{he()});j.current?.parentElement&&L.observe(j.current.parentElement);const W=e=>{if(j.current){const t=j.current.getBoundingClientRect();q.current={x:e.clientX-t.left,y:e.clientY-t.top}}},H=e=>{if(!v.current||!j.current)return;const t=v.current.zoom()||1,n=e.deltaY>0?.9:1.1,i=t*n;if(n>1){if(!pe(i))return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),!1;if(M){const t=v.current.graphData(),n=t?.nodes?.find(e=>e.id===M);if(n&&void 0!==n.x&&void 0!==n.y&&isFinite(n.x)&&isFinite(n.y))return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),T.current=!0,v.current.zoom(i,100),v.current.centerAt(n.x,n.y,100),setTimeout(()=>{T.current=!1,E.current=i},150),!1}}else{if(!xe(i))return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),!1;if(M){const t=v.current.graphData(),n=t?.nodes?.find(e=>e.id===M);if(n&&void 0!==n.x&&void 0!==n.y&&isFinite(n.x)&&isFinite(n.y))return e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),T.current=!0,v.current.zoom(i,100),v.current.centerAt(n.x,n.y,100),setTimeout(()=>{T.current=!1,E.current=i},150),!1}}};j.current&&j.current.addEventListener("wheel",H,{passive:!1,capture:!0});let _=null;const G=setTimeout(()=>{_=(()=>{const e=j.current?.querySelector("canvas");return e?(e.addEventListener("contextmenu",W),e.addEventListener("wheel",H,{passive:!1,capture:!0}),e):null})()},100);return()=>{clearTimeout(G),L.disconnect(),_&&(_.removeEventListener("contextmenu",W),_.removeEventListener("wheel",H,{capture:!0})),j.current&&j.current.removeEventListener("wheel",H,{capture:!0}),v.current&&(v.current._destructor(),v.current=null)}},[J,t,n,Q,X,he,$,I,D,pe,xe]),(0,i.useEffect)(()=>{if(!v.current)return;const e=X?"#ffffff":"#333333";v.current.nodeCanvasObjectMode(()=>"replace"),v.current.nodeCanvasObject(p(X,M,B,e,D)),v.current.d3ReheatSimulation&&v.current.d3ReheatSimulation()},[X,M,B,D]);const ge=X?"#333":"#e0e0e0",fe=X?"#1e1e1e":"#ffffff",me=X?"0 4px 6px rgba(0, 0, 0, 0.3)":"0 4px 6px rgba(0, 0, 0, 0.1)",je=X?"#2a2a2a":"#fafafa",ve=X?"#ffffff":"#1a1a1a",be=X?"#555":"#e0e0e0",ye=X?"#252525":"#f0f0f0",ke=X?"#444":"#ddd",Ce=X?"#ffffff":"#1a1a1a",Se=X?"#333":"#e0e0e0",we=n-V;return(0,c.jsxs)("div",{ref:L,style:{width:"100%",border:`1px solid ${ge}`,borderRadius:"8px",overflow:"hidden",backgroundColor:fe,boxShadow:me,display:"flex",flexDirection:"column"},children:[(0,c.jsxs)("div",{style:{display:"flex",flexDirection:"row",gap:"0",height:we,position:"relative"},children:[(0,c.jsx)("div",{ref:j,style:{flex:$?"1 1 80%":"1 1 100%",minWidth:0,height:we,position:"relative"}}),U&&(()=>{const e=J.nodes.find(e=>e.id===U.nodeId);if(!e)return null;const t=e.hasChildren,n=D.has(U.nodeId),i=[];return t&&i.push({label:n?"Fold":"Expand",icon:n?"\u25bc":"\u25b6",action:()=>{Q(U.nodeId),Y(null)}}),i.push({label:"Copy Anchor Link",icon:"\ud83d\udccb",action:async()=>{await oe(U.nodeId,void 0),Y(null)}}),(0,c.jsx)("div",{style:{position:"absolute",left:`${U.x}px`,top:`${U.y}px`,backgroundColor:X?"#2a2a2a":"#ffffff",border:"1px solid "+(X?"#555":"#ddd"),borderRadius:"8px",boxShadow:X?"0 4px 12px rgba(0, 0, 0, 0.5)":"0 4px 12px rgba(0, 0, 0, 0.15)",padding:"4px",minWidth:"160px",zIndex:1e3},onClick:e=>e.stopPropagation(),onContextMenu:e=>e.preventDefault(),children:i.map((e,t)=>(0,c.jsxs)("button",{onClick:t=>{t.stopPropagation(),e.action()},style:{width:"100%",padding:"8px 12px",textAlign:"left",backgroundColor:"transparent",border:"none",color:X?"#ffffff":"#1a1a1a",fontSize:"14px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",borderRadius:"4px",transition:"background-color 0.2s"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=X?"#333":"#f0f0f0"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:[(0,c.jsx)("span",{children:e.icon}),(0,c.jsx)("span",{children:e.label})]},t))})})(),H&&(0,c.jsx)("div",{style:{position:"absolute",left:`${H.x}px`,top:`${H.y}px`,backgroundColor:X?"#2a2a2a":"#ffffff",border:"1px solid "+(X?"#555":"#ddd"),borderRadius:"4px",boxShadow:X?"0 4px 12px rgba(0, 0, 0, 0.5)":"0 4px 12px rgba(0, 0, 0, 0.15)",padding:"4px 0",minWidth:"180px",zIndex:1e3},onClick:e=>e.stopPropagation(),onContextMenu:e=>e.preventDefault(),children:(0,c.jsx)("button",{onClick:()=>oe(H.nodeId,H.edgeId),style:{width:"100%",padding:"8px 16px",textAlign:"left",backgroundColor:"transparent",border:"none",color:X?"#ffffff":"#1a1a1a",fontSize:"14px",cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=X?"#333":"#f0f0f0"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:"\ud83d\udccb Copy Anchor Link"})}),$&&(0,c.jsx)("div",{style:{flex:"0 0 20%",minWidth:0,height:we,borderLeft:`2px solid ${be}`,backgroundColor:je,padding:"12px",overflowY:"auto",boxSizing:"border-box"},children:B?(()=>{const e=J.links.filter(e=>("string"==typeof e.target?e.target:e.target?.id)===B.id),t=J.links.filter(e=>("string"==typeof e.source?e.source:e.source?.id)===B.id),n=e.map(e=>{const t="string"==typeof e.source?e.source:e.source?.id;return J.nodes.find(e=>e.id===t)}).filter(Boolean),i=t.map(e=>{const t="string"==typeof e.target?e.target:e.target?.id;return J.nodes.find(e=>e.id===t)}).filter(Boolean),r=e=>{const t=J.nodes.find(t=>t.id===e);t&&(z(b(t)),R(e),A(null),P(null),t.hasChildren&&!D.has(e)&&F(t=>{const n=new Set(t);return n.add(e),n}),g&&(window.location.hash=`#${g}-node-${e}`),v.current&&void 0!==t.x&&void 0!==t.y&&v.current.centerAt(t.x,t.y,500))},l={color:X?"#68BDF6":"#2563eb",textDecoration:"none",fontSize:"12px",cursor:"pointer",display:"block",padding:"4px 0",borderBottom:"1px solid "+(X?"#333":"#eee"),transition:"opacity 0.2s"},o={opacity:.7};return(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{style:{margin:"0 0 12px 0",color:ve,fontSize:"14px",fontWeight:"600",lineHeight:"1.4"},children:B.title||B.name||B.id}),B.description&&"string"==typeof B.description&&(0,c.jsx)("p",{style:{margin:"0 0 16px 0",color:ve,fontSize:"12px",lineHeight:"1.5",opacity:.85},children:B.description}),!B.description&&(0,c.jsx)("p",{style:{margin:"0 0 16px 0",color:ve,fontSize:"12px",lineHeight:"1.5",opacity:.5,fontStyle:"italic"},children:"No description"}),n.length>0&&(0,c.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,c.jsxs)("h4",{style:{margin:"0 0 8px 0",color:ve,fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px",opacity:.8},children:["Ingress (",n.length,")"]}),(0,c.jsx)("div",{style:{backgroundColor:X?"#2a2a2a":"#f5f5f5",borderRadius:"4px",padding:"8px"},children:n.map((t,i)=>{const s=e[i],a=s?.label||"connected from";return(0,c.jsx)("div",{style:{marginBottom:i<n.length-1?"8px":"0"},children:(0,c.jsxs)("a",{onClick:e=>{e.preventDefault(),r(t.id)},style:l,onMouseEnter:e=>{Object.assign(e.currentTarget.style,o)},onMouseLeave:e=>{e.currentTarget.style.opacity="1"},children:[(0,c.jsx)("span",{style:{fontWeight:"500"},children:t.title||t.name||t.id}),a&&(0,c.jsxs)("span",{style:{opacity:.7,fontSize:"11px",marginLeft:"4px"},children:["(",a,")"]})]})},t.id)})})]}),i.length>0&&(0,c.jsxs)("div",{children:[(0,c.jsxs)("h4",{style:{margin:"0 0 8px 0",color:ve,fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px",opacity:.8},children:["Egress (",i.length,")"]}),(0,c.jsx)("div",{style:{backgroundColor:X?"#2a2a2a":"#f5f5f5",borderRadius:"4px",padding:"8px"},children:i.map((e,n)=>{const s=t[n],a=s?.label||"connected to";return(0,c.jsx)("div",{style:{marginBottom:n<i.length-1?"8px":"0"},children:(0,c.jsxs)("a",{onClick:t=>{t.preventDefault(),r(e.id)},style:l,onMouseEnter:e=>{Object.assign(e.currentTarget.style,o)},onMouseLeave:e=>{e.currentTarget.style.opacity="1"},children:[(0,c.jsx)("span",{style:{fontWeight:"500"},children:e.title||e.name||e.id}),a&&(0,c.jsxs)("span",{style:{opacity:.7,fontSize:"11px",marginLeft:"4px"},children:["(",a,")"]})]})},e.id)})})]}),0===n.length&&0===i.length&&(0,c.jsx)("p",{style:{margin:"16px 0 0 0",color:ve,fontSize:"12px",opacity:.5,fontStyle:"italic"},children:"No connections"}),B.keyLinks&&B.keyLinks.length>0&&(0,c.jsxs)("div",{style:{marginTop:"16px",paddingTop:"16px",borderTop:"1px solid "+(X?"#333":"#eee")},children:[(0,c.jsx)("h4",{style:{margin:"0 0 8px 0",color:ve,fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px",opacity:.8},children:"Learn More"}),(0,c.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:B.keyLinks.map((e,t)=>{let n=e;try{const t=new URL(e);if(n=t.hostname.replace("www.",""),n.includes("github.com")){const e=t.pathname.split("/").filter(e=>e);n=e.length>=2?`GitHub: ${e[0]}/${e[1]}`:"GitHub"}else n.includes("medium.com")?n="Medium":n.includes("docs.")&&(n=n.replace("docs.",""))}catch(i){n=e.length>50?e.substring(0,50)+"...":e}return(0,c.jsxs)("a",{href:e,target:"_blank",rel:"noopener noreferrer",style:{...l,display:"inline-block",fontSize:"11px",wordBreak:"break-word"},onMouseEnter:e=>{Object.assign(e.currentTarget.style,o)},onMouseLeave:e=>{e.currentTarget.style.opacity="1"},title:e,children:["\ud83d\udd17 ",n," \u2192"]},t)})})]}),B.markdownSection&&(0,c.jsxs)("div",{style:{marginTop:"16px",paddingTop:"16px",borderTop:"1px solid "+(X?"#333":"#eee")},children:[(0,c.jsx)("h4",{style:{margin:"0 0 8px 0",color:ve,fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px",opacity:.8},children:"Documentation"}),(0,c.jsx)("a",{href:`#${B.markdownSection}`,onClick:e=>{e.preventDefault(),setTimeout(()=>{let e=document.getElementById(B.markdownSection);if(e||(e=document.getElementById(`article-${B.markdownSection}`)),e||(e=document.querySelector(`[data-graph-node="${B.markdownSection}"]`)),e){const t=e.getBoundingClientRect(),n=window.pageYOffset||document.documentElement.scrollTop,i=t.top+n-window.innerHeight/2+t.height/2;window.scrollTo({top:i,behavior:"smooth"}),e.style.transition="background-color 0.3s",e.style.backgroundColor=X?"rgba(255, 215, 0, 0.2)":"rgba(255, 215, 0, 0.3)",setTimeout(()=>{e.style.backgroundColor=""},2e3)}else{const e=document.querySelectorAll("h1, h2, h3, h4, h5, h6");for(const t of Array.from(e)){const e=t;if((e.id||e.getAttribute("data-graph-node"))===B.markdownSection||e.textContent?.toLowerCase().includes(B.markdownSection.toLowerCase())){const t=e.getBoundingClientRect(),n=window.pageYOffset||document.documentElement.scrollTop,i=t.top+n-window.innerHeight/2+t.height/2;window.scrollTo({top:i,behavior:"smooth"}),e.style.transition="background-color 0.3s",e.style.backgroundColor=X?"rgba(255, 215, 0, 0.2)":"rgba(255, 215, 0, 0.3)",setTimeout(()=>{e.style.backgroundColor=""},2e3);break}}}},100)},style:{...l,display:"inline-block"},onMouseEnter:e=>{Object.assign(e.currentTarget.style,o)},onMouseLeave:e=>{e.currentTarget.style.opacity="1"},children:"\ud83d\udcc4 View in Documentation \u2192"})]})]})})():N?(()=>{const e="string"==typeof N.source?N.source:N.source?.id||String(N.source),t="string"==typeof N.target?N.target:N.target?.id||String(N.target),n=J.nodes.find(t=>t.id===e),i=J.nodes.find(e=>e.id===t),r=n?.title||n?.name||e,l=i?.title||i?.name||t,o=e=>{const t=J.nodes.find(t=>t.id===e);t&&(z(b(t)),R(e),A(null),P(null),t.hasChildren&&!D.has(e)&&F(t=>{const n=new Set(t);return n.add(e),n}),g&&(window.location.hash=`#${g}-node-${e}`),v.current&&void 0!==t.x&&void 0!==t.y&&v.current.centerAt(t.x,t.y,500))},s={color:X?"#68BDF6":"#2563eb",textDecoration:"none",fontSize:"12px",cursor:"pointer",display:"block",padding:"4px 0",borderBottom:"1px solid "+(X?"#333":"#eee"),transition:"opacity 0.2s"},a={opacity:.7};return(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{style:{margin:"0 0 12px 0",color:ve,fontSize:"14px",fontWeight:"600",lineHeight:"1.4"},children:"differentiating"===N.type?`${r} vs. ${l}`:N.label||"Edge"}),n&&(0,c.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,c.jsx)("h4",{style:{margin:"0 0 8px 0",color:ve,fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px",opacity:.8},children:"Source"}),(0,c.jsxs)("div",{style:{backgroundColor:X?"#2a2a2a":"#f5f5f5",borderRadius:"4px",padding:"8px"},children:[(0,c.jsx)("a",{onClick:e=>{e.preventDefault(),o(n.id)},style:s,onMouseEnter:e=>{Object.assign(e.currentTarget.style,a)},onMouseLeave:e=>{e.currentTarget.style.opacity="1"},children:(0,c.jsx)("span",{style:{fontWeight:"500"},children:n.title||n.name||n.id})}),n.description&&(0,c.jsx)("p",{style:{margin:"4px 0 0 0",color:ve,fontSize:"11px",opacity:.7,lineHeight:"1.4"},children:n.description})]})]}),i&&(0,c.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,c.jsx)("h4",{style:{margin:"0 0 8px 0",color:ve,fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px",opacity:.8},children:"Destination"}),(0,c.jsxs)("div",{style:{backgroundColor:X?"#2a2a2a":"#f5f5f5",borderRadius:"4px",padding:"8px"},children:[(0,c.jsx)("a",{onClick:e=>{e.preventDefault(),o(i.id)},style:s,onMouseEnter:e=>{Object.assign(e.currentTarget.style,a)},onMouseLeave:e=>{e.currentTarget.style.opacity="1"},children:(0,c.jsx)("span",{style:{fontWeight:"500"},children:i.title||i.name||i.id})}),i.description&&(0,c.jsx)("p",{style:{margin:"4px 0 0 0",color:ve,fontSize:"11px",opacity:.7,lineHeight:"1.4"},children:i.description})]})]}),"differentiating"===N.type&&(0,c.jsxs)(c.Fragment,{children:[N.sourceData&&N.targetData&&(0,c.jsxs)("div",{style:{marginBottom:"16px",padding:"12px",backgroundColor:X?"#2a2a2a":"#f5f5f5",borderRadius:"4px"},children:[(0,c.jsx)("h4",{style:{margin:"0 0 8px 0",color:ve,fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px",opacity:.8},children:"Key Features"}),(0,c.jsxs)("div",{style:{fontSize:"11px",lineHeight:"1.6"},children:[(0,c.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,c.jsxs)("strong",{style:{color:X?"#68BDF6":"#0066cc"},children:[r,":"]}),(0,c.jsx)("ul",{style:{margin:"4px 0 0 0",paddingLeft:"20px",listStyleType:"disc"},children:(N.sourceData.key_features||[]).map((e,t)=>(0,c.jsx)("li",{children:e},t))})]}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("strong",{style:{color:X?"#60BE86":"#006600"},children:[l,":"]}),(0,c.jsx)("ul",{style:{margin:"4px 0 0 0",paddingLeft:"20px",listStyleType:"disc"},children:(N.targetData.key_features||[]).map((e,t)=>(0,c.jsx)("li",{children:e},t))})]})]})]}),N.sourceData&&N.targetData&&(0,c.jsxs)("div",{style:{marginBottom:"16px",padding:"12px",backgroundColor:X?"#2a2a2a":"#f5f5f5",borderRadius:"4px"},children:[(0,c.jsx)("h4",{style:{margin:"0 0 8px 0",color:ve,fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px",opacity:.8},children:"Use Cases"}),(0,c.jsxs)("div",{style:{fontSize:"11px",lineHeight:"1.6"},children:[(0,c.jsxs)("div",{style:{marginBottom:"8px"},children:[(0,c.jsxs)("strong",{children:[r,":"]})," ",N.sourceData.main_use_case]}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("strong",{children:[l,":"]})," ",N.targetData.main_use_case]})]})]}),N.similarities&&N.similarities.length>0&&(0,c.jsxs)("div",{style:{marginBottom:"16px",padding:"12px",backgroundColor:X?"#2a2a2a":"#f5f5f5",borderRadius:"4px"},children:[(0,c.jsx)("h4",{style:{margin:"0 0 8px 0",color:"#60BE86",fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Similarities"}),(0,c.jsx)("ul",{style:{margin:0,paddingLeft:"20px",fontSize:"11px",lineHeight:"1.6"},children:N.similarities.map((e,t)=>(0,c.jsx)("li",{children:e},t))})]}),N.differences&&(0,c.jsxs)("div",{style:{marginBottom:"16px",padding:"12px",backgroundColor:X?"#2a2a2a":"#f5f5f5",borderRadius:"4px"},children:[(0,c.jsx)("h4",{style:{margin:"0 0 8px 0",color:"#FF6B6B",fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Differences"}),N.differences.source&&N.differences.source.length>0&&(0,c.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,c.jsxs)("strong",{style:{fontSize:"11px",color:ve},children:[N.source," only:"]}),(0,c.jsx)("ul",{style:{margin:"4px 0 0 0",paddingLeft:"20px",fontSize:"11px",lineHeight:"1.6"},children:N.differences.source.map((e,t)=>(0,c.jsx)("li",{children:e},t))})]}),N.differences.target&&N.differences.target.length>0&&(0,c.jsxs)("div",{children:[(0,c.jsxs)("strong",{style:{fontSize:"11px",color:ve},children:[N.target," only:"]}),(0,c.jsx)("ul",{style:{margin:"4px 0 0 0",paddingLeft:"20px",fontSize:"11px",lineHeight:"1.6"},children:N.differences.target.map((e,t)=>(0,c.jsx)("li",{children:e},t))})]})]}),N.sourceData&&N.targetData&&(0,c.jsxs)("div",{style:{padding:"12px",backgroundColor:X?"#2a2a2a":"#f5f5f5",borderRadius:"4px"},children:[(0,c.jsx)("h4",{style:{margin:"0 0 8px 0",color:ve,fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px",opacity:.8},children:"Key Differentiators"}),(0,c.jsxs)("div",{style:{fontSize:"11px",lineHeight:"1.6"},children:[(0,c.jsxs)("div",{style:{marginBottom:"8px"},children:[(0,c.jsxs)("strong",{children:[r,":"]})," ",N.sourceData.differentiators]}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("strong",{children:[l,":"]})," ",N.targetData.differentiators]})]})]})]}),N.markdownSection&&(0,c.jsxs)("div",{style:{marginTop:"16px",paddingTop:"16px",borderTop:"1px solid "+(X?"#333":"#eee")},children:[(0,c.jsx)("h4",{style:{margin:"0 0 8px 0",color:ve,fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"0.5px",opacity:.8},children:"Documentation"}),(0,c.jsx)("a",{href:`#${N.markdownSection}`,onClick:e=>{e.preventDefault(),setTimeout(()=>{let e=document.getElementById(N.markdownSection);if(e||(e=document.getElementById(`article-${N.markdownSection}`)),e||(e=document.querySelector(`[data-graph-edge="${N.markdownSection}"]`)),e){const t=e.getBoundingClientRect(),n=window.pageYOffset||document.documentElement.scrollTop,i=t.top+n-window.innerHeight/2+t.height/2;window.scrollTo({top:i,behavior:"smooth"}),e.style.transition="background-color 0.3s",e.style.backgroundColor=X?"rgba(255, 215, 0, 0.2)":"rgba(255, 215, 0, 0.3)",setTimeout(()=>{e.style.backgroundColor=""},2e3)}else{const e=document.querySelectorAll("h1, h2, h3, h4, h5, h6");for(const t of Array.from(e)){const e=t;if((e.id||e.getAttribute("data-graph-edge"))===N.markdownSection||e.textContent?.toLowerCase().includes(N.markdownSection.toLowerCase())){const t=e.getBoundingClientRect(),n=window.pageYOffset||document.documentElement.scrollTop,i=t.top+n-window.innerHeight/2+t.height/2;window.scrollTo({top:i,behavior:"smooth"}),e.style.transition="background-color 0.3s",e.style.backgroundColor=X?"rgba(255, 215, 0, 0.2)":"rgba(255, 215, 0, 0.3)",setTimeout(()=>{e.style.backgroundColor=""},2e3);break}}}},100)},style:{...s,display:"inline-block"},onMouseEnter:e=>{Object.assign(e.currentTarget.style,a)},onMouseLeave:e=>{e.currentTarget.style.opacity="1"},children:"\ud83d\udcc4 View in Documentation \u2192"})]})]})})():(0,c.jsx)("div",{style:{color:ve,fontSize:"12px",opacity:.5,fontStyle:"italic"},children:"Hover or click a node or edge"})})]}),(0,c.jsxs)("div",{style:{height:V,borderTop:`1px solid ${ke}`,backgroundColor:ye,display:"flex",alignItems:"center",padding:"0 12px",gap:"8px",boxSizing:"border-box"},children:[(0,c.jsx)("button",{onClick:re,style:{padding:"6px 12px",fontSize:"12px",backgroundColor:"transparent",border:`1px solid ${ke}`,borderRadius:"4px",color:Ce,cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=Se},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:"Center"}),(0,c.jsx)("button",{onClick:te,style:{padding:"6px 12px",fontSize:"12px",backgroundColor:"transparent",border:`1px solid ${ke}`,borderRadius:"4px",color:Ce,cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=Se},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:"Expand All"}),(0,c.jsx)("button",{onClick:ne,style:{padding:"6px 12px",fontSize:"12px",backgroundColor:"transparent",border:`1px solid ${ke}`,borderRadius:"4px",color:Ce,cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=Se},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:"Collapse All"}),(0,c.jsx)("div",{style:{flex:1}}),(0,c.jsx)("button",{onClick:le,style:{padding:"6px 12px",fontSize:"12px",backgroundColor:"transparent",border:`1px solid ${ke}`,borderRadius:"4px",color:Ce,cursor:"pointer",transition:"background-color 0.2s"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=Se},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"},children:$?"Hide Pane":"Show Pane"})]})]})}},69890:(e,t,n)=>{n.d(t,{M:()=>i});class i{static NEO4J_COLORS=["#68BDF6","#60BE86","#FF6B6B","#FFD93D","#A78BFA","#FB7185","#34D399","#FBBF24"];static MAX_CHARS=10;static CHARS_BEFORE_ELLIPSIS=7;static DEBUG_SHOW_NODE_SECTIONS=!1;constructor(e){this.ctx=e.ctx,this.node=e.node,this.globalScale=e.globalScale,this.isDarkMode=e.isDarkMode,this.isHighlighted=e.isHighlighted,this.isSelected=e.isSelected??!1,this.nodeBorderColor=e.nodeBorderColor,this.showDebugSeparators=e.showDebugSeparators??!1,this.metrics=this.calculateMetrics()}render(){if(!this.isValidCoordinates())return;this.drawCircle(),(this.showDebugSeparators||i.DEBUG_SHOW_NODE_SECTIONS)&&this.drawDebugSeparators();this.metrics.label&&this.drawTitle()}calculateMetrics(){const e=this.getNodeRadius(this.node.hasChildren),t=2*e;return{radius:e,diameter:t,sectionHeight:t/5,color:this.getNodeColor(this.node.color),label:this.getNodeLabel(this.node)}}isValidCoordinates(){return void 0!==this.node.x&&void 0!==this.node.y&&isFinite(this.node.x)&&isFinite(this.node.y)}getNodeRadius(e){return e?12:8}getNodeColor(e){return e||i.NEO4J_COLORS[0]}getNodeLabel(e){return e.title||e.name||e.id||""}drawCircle(){const{x:e,y:t}=this.node,{radius:n,color:i}=this.metrics;if(this.isSelected){const i=n+16,r=this.ctx.createRadialGradient(e,t,.9*n,e,t,i);r.addColorStop(0,"rgba(255, 248, 220, 0.2)"),r.addColorStop(.4,"rgba(255, 235, 180, 0.15)"),r.addColorStop(.7,"rgba(255, 220, 150, 0.08)"),r.addColorStop(1,"transparent"),this.ctx.fillStyle=r,this.ctx.beginPath(),this.ctx.arc(e,t,i,0,2*Math.PI,!1),this.ctx.fill();const l=n+8,o=this.ctx.createRadialGradient(e,t,.7*n,e,t,l);o.addColorStop(0,"rgba(255, 245, 200, 0.3)"),o.addColorStop(.5,"rgba(255, 230, 160, 0.2)"),o.addColorStop(.8,"rgba(255, 210, 130, 0.1)"),o.addColorStop(1,"transparent"),this.ctx.fillStyle=o,this.ctx.beginPath(),this.ctx.arc(e,t,l,0,2*Math.PI,!1),this.ctx.fill();const s=n+4,a=this.ctx.createRadialGradient(e,t,.4*n,e,t,s);a.addColorStop(0,"rgba(255, 255, 240, 0.5)"),a.addColorStop(.3,"rgba(255, 245, 200, 0.3)"),a.addColorStop(.7,"rgba(255, 230, 180, 0.15)"),a.addColorStop(1,"transparent"),this.ctx.fillStyle=a,this.ctx.beginPath(),this.ctx.arc(e,t,s,0,2*Math.PI,!1),this.ctx.fill();const d=this.ctx.createRadialGradient(e,t,.15*n,e,t,n);d.addColorStop(0,"#FFFEF7"),d.addColorStop(.2,"#FFF8E1"),d.addColorStop(.4,"#FFE082"),d.addColorStop(.6,"#FFC947"),d.addColorStop(.8,"#FFB300"),d.addColorStop(1,"#FF8F00"),this.ctx.fillStyle=d,this.ctx.beginPath(),this.ctx.arc(e,t,n,0,2*Math.PI,!1),this.ctx.fill()}else{if(this.isHighlighted){const i=n+4,r=this.ctx.createRadialGradient(e,t,n,e,t,i);r.addColorStop(0,this.isDarkMode?"rgba(255, 215, 0, 0.8)":"rgba(255, 215, 0, 0.6)"),r.addColorStop(1,"transparent"),this.ctx.fillStyle=r,this.ctx.beginPath(),this.ctx.arc(e,t,i,0,2*Math.PI,!1),this.ctx.fill()}this.ctx.fillStyle=i,this.ctx.beginPath(),this.ctx.arc(e,t,n,0,2*Math.PI,!1),this.ctx.fill(),this.isHighlighted?(this.ctx.strokeStyle=this.isDarkMode?"#FFD700":"#FFA500",this.ctx.lineWidth=4/this.globalScale):(this.ctx.strokeStyle=this.nodeBorderColor,this.ctx.lineWidth=2/this.globalScale),this.ctx.stroke()}}drawDebugSeparators(){if(!i.DEBUG_SHOW_NODE_SECTIONS&&!this.showDebugSeparators)return;const{x:e,y:t}=this.node,{radius:n,sectionHeight:r}=this.metrics;this.ctx.strokeStyle="rgba(255, 0, 0, 0.8)",this.ctx.lineWidth=2/this.globalScale;const l=3/this.globalScale;this.ctx.setLineDash([l,l]);for(let i=1;i<5;i++){const l=t-n+r*i;this.ctx.beginPath();const o=Math.asin((l-t)/n),s=Math.cos(o)*n;this.ctx.moveTo(e-s,l),this.ctx.lineTo(e+s,l),this.ctx.stroke()}this.ctx.setLineDash([])}getStatusIndicator(){const e=this.node.hasChildren,t=this.node.isExpanded||!1;return e?{indicator:t?"\u25bc":"\u25b6",isTextLabel:!1}:{indicator:"\ud83c\udf3f",isTextLabel:!1}}calculateEmojiAreaCenterY(){const{y:e}=this.node,{radius:t,sectionHeight:n}=this.metrics;return(e-t+4*n+(e+t))/2}calculateAvailableTextWidth(e,t=6,n){const{y:i}=this.node,{radius:r}=this.metrics,l=Math.abs(e-i),o=2*Math.sqrt(Math.max(0,r*r-l*l)),s=t*this.globalScale,a=o*this.globalScale-2*s,d=0===n||2===n,c=a-(a*((d?.15:.1)*(1+(r-8)/8*.3))+(d?5:4)*(r/8)*this.globalScale);return Math.max(2,c)}calculateLinePosition(){const{y:e}=this.node,{radius:t,sectionHeight:n}=this.metrics;return(e-t+2*n+(e-t+3*n))/2}truncateToMaxChars(e){return e.length<=i.MAX_CHARS?e:e.substring(0,i.CHARS_BEFORE_ELLIPSIS)+"..."}drawTitle(){const e=this.calculateEmojiAreaCenterY(),t=String(this.metrics.label||this.node.id||"");if(!t||!t.trim())return e;const n=t.trim();if(0===n.length)return e;const i=this.truncateToMaxChars(n);this.ctx.save();const{x:r,y:l}=this.node,{radius:o}=this.metrics;this.ctx.beginPath(),this.ctx.arc(r,l,o,0,2*Math.PI),this.ctx.clip();try{const{radius:e}=this.metrics,t=this.calculateLinePosition(),n=this.calculateAvailableTextWidth(t,6,1),l=e>=12?4:3,o=e>=12?6:5;let s=l;this.ctx.font=`${s}px Sans-Serif`;let a=this.ctx.measureText(i).width;for(;a>.8*n&&s>l;)s=Math.max(l,s-.5),this.ctx.font=`${s}px Sans-Serif`,a=this.ctx.measureText(i).width;if(a>.8*n&&s>l){const e=.8*n/a;s=Math.max(l,s*e)}s=Math.min(s,o),this.ctx.font=`${s}px Sans-Serif`,this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.fillStyle=this.isSelected?"#1a1a1a":"#ffffff",this.ctx.fillText(i,r,t)}finally{this.ctx.restore()}return e}drawStatusIndicator(e,t){const{x:n}=this.node,{radius:i}=this.metrics,{indicator:r,isTextLabel:l}=t;let o=i*this.globalScale*(l?.03:.07);const s=l?i<=8?4:5:i<=8?8:10;o=Math.min(o,s);const a=l?2:6;o=Math.max(a,o),this.ctx.save(),l&&(this.ctx.translate(n,e),this.ctx.rotate(-.2),this.ctx.translate(-n,-e)),this.ctx.font=`${o}px Sans-Serif`,this.ctx.fillStyle="#ffffff",this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.fillText(r,n,e),this.ctx.restore()}getMetrics(){return{...this.metrics}}}},71051:(e,t,n)=>{n.d(t,{A:()=>s});var i=n(96540),r=n(95293),l=n(69890),o=n(74848);const s=({title:e,zoomLevel:t=1,isParent:n=!1,color:s="#68BDF6"})=>{const a=(0,i.useRef)(null),{colorMode:d}=(0,r.G)(),c="dark"===d;return(0,i.useEffect)(()=>{const i=a.current;if(!i)return;const r=i.getContext("2d");if(!r)return;const o=150;i.width=o,i.height=o,r.fillStyle=c?"#1e1e1e":"#ffffff",r.fillRect(0,0,o,o);const d={id:"demo",x:75,y:75,hasChildren:n,isExpanded:!1,color:s,title:e},h=1.5*t;new l.M({ctx:r,node:d,globalScale:h,isDarkMode:c,isHighlighted:!1,nodeBorderColor:c?"#ffffff":"#000000",showDebugSeparators:!1}).render()},[e,t,n,s,c]),(0,o.jsxs)("div",{style:{display:"inline-block",margin:"10px",textAlign:"center"},children:[(0,o.jsx)("canvas",{ref:a,style:{border:"1px solid #ddd",borderRadius:"4px",display:"block",margin:"0 auto"}}),(0,o.jsxs)("div",{style:{marginTop:"8px",fontSize:"12px",color:"#666"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Title:"})," ",e]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Length:"})," ",e.length," chars"]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("strong",{children:"Zoom:"})," ",t,"x"]})]})]})}}}]);