"use strict";(globalThis.webpackChunkbytesofpurpose_blog=globalThis.webpackChunkbytesofpurpose_blog||[]).push([[85497],{28453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>o});var r=s(96540);const i={},l=r.createContext(i);function t(e){const n=r.useContext(l);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),r.createElement(l.Provider,{value:n},e.children)}},48973:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>t,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"techniques/development-techniques/tool-composition-techniques/storybook-typescript-babel/development-process","title":"\ud83d\udd27 Storybook + TypeScript + Babel: Development Process & Experience","description":"A deep dive into the development process, build flow, and what happens when you use Storybook with TypeScript and Babel. Understand the journey from code to browser.","source":"@site/docs/6-techniques/5-development-techniques/tool-composition-techniques/storybook-typescript-babel/development-process.mdx","sourceDirName":"6-techniques/5-development-techniques/tool-composition-techniques/storybook-typescript-babel","slug":"/techniques/development-techniques/tool-composition-techniques/storybook-typescript-babel/development-process","permalink":"/docs/techniques/development-techniques/tool-composition-techniques/storybook-typescript-babel/development-process","draft":false,"unlisted":false,"editUrl":"https://github.com/omars-lab/omars-lab.github.io/edit/master/bytesofpurpose-blog/docs/6-techniques/5-development-techniques/tool-composition-techniques/storybook-typescript-babel/development-process.mdx","tags":[{"inline":true,"label":"storybook","permalink":"/docs/tags/storybook"},{"inline":true,"label":"typescript","permalink":"/docs/tags/typescript"},{"inline":true,"label":"babel","permalink":"/docs/tags/babel"},{"inline":true,"label":"webpack","permalink":"/docs/tags/webpack"},{"inline":true,"label":"build-systems","permalink":"/docs/tags/build-systems"},{"inline":true,"label":"frontend","permalink":"/docs/tags/frontend"},{"inline":true,"label":"development","permalink":"/docs/tags/development"},{"inline":true,"label":"workflow","permalink":"/docs/tags/workflow"}],"version":"current","frontMatter":{"title":"\ud83d\udd27 Storybook + TypeScript + Babel: Development Process & Experience","description":"A deep dive into the development process, build flow, and what happens when you use Storybook with TypeScript and Babel. Understand the journey from code to browser.","authors":["oeid"],"tags":["storybook","typescript","babel","webpack","build-systems","frontend","development","workflow"],"slug":"development-process"},"sidebar":"tutorialSidebar","previous":{"title":"\ud83d\udd27 Storybook + TypeScript + Babel: Common Pitfalls & Issues","permalink":"/docs/techniques/development-techniques/tool-composition-techniques/storybook-typescript-babel/common-pitfalls"},"next":{"title":"\ud83d\udd27 Storybook + TypeScript + Babel: Setup Guide","permalink":"/docs/techniques/development-techniques/tool-composition-techniques/storybook-typescript-babel/setup-overview"}}');var i=s(74848),l=s(28453);const t={title:"\ud83d\udd27 Storybook + TypeScript + Babel: Development Process & Experience",description:"A deep dive into the development process, build flow, and what happens when you use Storybook with TypeScript and Babel. Understand the journey from code to browser.",authors:["oeid"],tags:["storybook","typescript","babel","webpack","build-systems","frontend","development","workflow"],slug:"development-process"},o=void 0,c={},d=[{value:"Questions Answered by This Post",id:"questions-answered-by-this-post",level:2},{value:"How the Build Process Works",id:"how-the-build-process-works",level:2},{value:"Step-by-Step Execution Flow",id:"step-by-step-execution-flow",level:3},{value:"The Build Pipeline Architecture",id:"the-build-pipeline-architecture",level:3},{value:"The Complete Picture: From Source to Browser",id:"the-complete-picture-from-source-to-browser",level:2},{value:"Phase 1: Development (Type Checking)",id:"phase-1-development-type-checking",level:3},{value:"Phase 2: Build (Transpilation)",id:"phase-2-build-transpilation",level:3},{value:"Phase 3: Processing (Story Extraction)",id:"phase-3-processing-story-extraction",level:3},{value:"Phase 4: Bundling",id:"phase-4-bundling",level:3},{value:"Phase 5: Serving",id:"phase-5-serving",level:3},{value:"How They All Work Together: The Complete Picture",id:"how-they-all-work-together-the-complete-picture",level:2},{value:"The Journey: Step by Step",id:"the-journey-step-by-step",level:3},{value:"Why Order Matters",id:"why-order-matters",level:2},{value:"What Happens If Order Is Wrong?",id:"what-happens-if-order-is-wrong",level:3},{value:"The Loader Chain",id:"the-loader-chain",level:3},{value:"Development Experience",id:"development-experience",level:2},{value:"Real-Time Type Checking",id:"real-time-type-checking",level:3},{value:"Build-Time Transpilation",id:"build-time-transpilation",level:3},{value:"Hot Module Replacement (HMR)",id:"hot-module-replacement-hmr",level:3},{value:"Common Scenarios",id:"common-scenarios",level:2},{value:"Scenario 1: Writing a New Story",id:"scenario-1-writing-a-new-story",level:3},{value:"Scenario 2: Fixing a Type Error",id:"scenario-2-fixing-a-type-error",level:3},{value:"Scenario 3: Adding a New Import",id:"scenario-3-adding-a-new-import",level:3},{value:"Conclusion",id:"conclusion",level:2},{value:"Related Posts",id:"related-posts",level:2},{value:"References",id:"references",level:2}];function a(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"questions-answered-by-this-post",children:"Questions Answered by This Post"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["What happens when I run ",(0,i.jsx)(n.code,{children:"make storybook"}),"?"]}),"\n",(0,i.jsx)(n.li,{children:"How does code flow from TypeScript source to the browser?"}),"\n",(0,i.jsx)(n.li,{children:"What is the step-by-step execution flow of the build process?"}),"\n",(0,i.jsx)(n.li,{children:"Why does loader order matter in webpack?"}),"\n",(0,i.jsx)(n.li,{children:"What happens to my TypeScript code during the build?"}),"\n",(0,i.jsx)(n.li,{children:"How does the development experience work with these tools?"}),"\n",(0,i.jsx)(n.li,{children:"What is the complete journey from writing code to seeing it in the browser?"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["This guide provides a deep dive into the development process and build flow when using Storybook with TypeScript and Babel. You'll understand what happens step-by-step from writing code to seeing it in the browser. For understanding the tools themselves, see ",(0,i.jsx)(n.a,{href:"./understanding-tools",children:"Understanding the Tools"}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"how-the-build-process-works",children:"How the Build Process Works"}),"\n",(0,i.jsxs)(n.p,{children:["Let me break down what happens when you run ",(0,i.jsx)(n.code,{children:"make storybook"}),":"]}),"\n",(0,i.jsx)(n.h3,{id:"step-by-step-execution-flow",children:"Step-by-Step Execution Flow"}),"\n",(0,i.jsx)(n.mermaid,{value:"sequenceDiagram\n    participant User\n    participant Makefile\n    participant Yarn\n    participant Storybook\n    participant Webpack\n    participant BabelLoader\n    participant Babel\n    participant CSFPlugin\n    participant Browser\n\n    User->>Makefile: make storybook\n    Makefile->>Yarn: yarn storybook\n    Yarn->>Storybook: storybook dev -p 6006\n    Storybook->>Webpack: Initialize webpack config\n    \n    Note over Webpack: Load .storybook/main.ts\n    Webpack->>Webpack: Apply webpackFinal config\n    Webpack->>Webpack: Add babel-loader rule (first)\n    \n    Storybook->>Webpack: Request .storybook/preview.ts\n    Webpack->>BabelLoader: Process .ts file\n    BabelLoader->>Babel: Load babel.config.js\n    Babel->>Babel: Apply TypeScript Preset\n    Babel--\x3e>BabelLoader: Transpiled JavaScript\n    BabelLoader--\x3e>Webpack: JavaScript code\n    \n    Webpack->>CSFPlugin: Process with CSF plugin\n    CSFPlugin--\x3e>Webpack: Processed module\n    Webpack--\x3e>Storybook: Bundle ready\n    Storybook->>Browser: Serve on localhost:6006"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"What's happening here:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"You run the command"})," \u2192 ",(0,i.jsx)(n.code,{children:"make storybook"})," triggers the build"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Storybook starts"})," \u2192 Initializes and loads configuration"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Webpack configures"})," \u2192 Reads ",(0,i.jsx)(n.code,{children:".storybook/main.ts"})," and sets up loaders"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"babel-loader rule added"})," \u2192 Ensures TypeScript files are processed first"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"File processing begins"})," \u2192 Storybook requests a TypeScript file"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Babel transpiles"})," \u2192 Converts TypeScript to JavaScript"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"CSF plugin processes"})," \u2192 Extracts story metadata from JavaScript"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Webpack bundles"})," \u2192 Combines everything into a bundle"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Browser receives"})," \u2192 Final JavaScript bundle is served"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"the-build-pipeline-architecture",children:"The Build Pipeline Architecture"}),"\n",(0,i.jsx)(n.mermaid,{value:"graph TD\n    A[TypeScript Source Files] --\x3e|.ts/.tsx files| B[Webpack Entry Point]\n    B --\x3e C{Webpack Module Rules}\n    C --\x3e|First Rule| D[babel-loader]\n    D --\x3e|Reads| E[babel.config.js]\n    E --\x3e|Uses| F[Babel TypeScript Preset]\n    F --\x3e|Transpiles| G[JavaScript Code]\n    G --\x3e|Strips import type| H[Plain JavaScript]\n    H --\x3e|Next Rule| I[Storybook CSF Plugin]\n    I --\x3e|Processes| J[Story Metadata]\n    J --\x3e|Next Rule| K[Other Webpack Loaders]\n    K --\x3e|Bundles| L[Final Bundle]\n    L --\x3e|Serves| M[Browser]\n    \n    style D fill:#f9f,stroke:#333,stroke-width:2px\n    style E fill:#bbf,stroke:#333,stroke-width:2px\n    style F fill:#bfb,stroke:#333,stroke-width:2px\n    style H fill:#fbf,stroke:#333,stroke-width:2px"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"The flow:"})}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"TypeScript files"})," enter the webpack pipeline"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"babel-loader"})," processes them first (because of ",(0,i.jsx)(n.code,{children:"unshift()"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Babel"})," reads config and transpiles to JavaScript"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"CSF plugin"})," processes the JavaScript (can't handle TypeScript)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Other loaders"})," do final processing"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Webpack"})," bundles everything"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Browser"})," receives the final bundle"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"the-complete-picture-from-source-to-browser",children:"The Complete Picture: From Source to Browser"}),"\n",(0,i.jsx)(n.p,{children:"Here's the full journey your code takes:"}),"\n",(0,i.jsx)(n.mermaid,{value:"graph TD\n    A[Developer Writes Code] --\x3e|TypeScript with Types| B[TypeScript Compiler]\n    B --\x3e|Type Checking| C{Types Valid?}\n    C --\x3e|No| D[Show Error in IDE]\n    C --\x3e|Yes| E[Source Code Ready]\n    E --\x3e|.ts/.tsx files| F[Babel Transpiler]\n    F --\x3e|Reads babel.config.js| G[Applies Transformations]\n    G --\x3e|Removes Types| H[Plain JavaScript]\n    G --\x3e|Converts Syntax| H\n    H --\x3e|.js files| I[Webpack Bundler]\n    I --\x3e|Combines Files| J[Single Bundle]\n    J --\x3e|Optimizes| K[Minified Bundle]\n    K --\x3e|Serves| L[Browser]\n    L --\x3e|Runs| M[Your App Works!]\n    \n    style B fill:#ffcccc,stroke:#333,stroke-width:2px\n    style F fill:#ccffcc,stroke:#333,stroke-width:2px\n    style I fill:#ffffcc,stroke:#333,stroke-width:2px"}),"\n",(0,i.jsx)(n.h3,{id:"phase-1-development-type-checking",children:"Phase 1: Development (Type Checking)"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"What happens:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"You write TypeScript code in your editor"}),"\n",(0,i.jsx)(n.li,{children:"TypeScript compiler (via IDE) checks types in real-time"}),"\n",(0,i.jsx)(n.li,{children:"Errors are shown immediately in your editor"}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"No build required"})," - this happens as you type"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:'// You write this:\nfunction add(a: number, b: number): number {\n  return a + b;\n}\n\nadd("hello", 5); // \u274c TypeScript shows error immediately\n'})}),"\n",(0,i.jsx)(n.h3,{id:"phase-2-build-transpilation",children:"Phase 2: Build (Transpilation)"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"What happens:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["You run ",(0,i.jsx)(n.code,{children:"make storybook"})," or ",(0,i.jsx)(n.code,{children:"yarn storybook"})]}),"\n",(0,i.jsx)(n.li,{children:"Webpack starts the build process"}),"\n",(0,i.jsx)(n.li,{children:"babel-loader processes each TypeScript file"}),"\n",(0,i.jsxs)(n.li,{children:["Babel reads ",(0,i.jsx)(n.code,{children:"babel.config.js"})," and applies transformations"]}),"\n",(0,i.jsx)(n.li,{children:"TypeScript syntax is converted to JavaScript"}),"\n",(0,i.jsx)(n.li,{children:"Type annotations are stripped"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Example transformation:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// Input (TypeScript):\nimport type { Preview } from '@storybook/react';\n\nfunction greet(name: string): string {\n  return `Hello, ${name}!`;\n}\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-javascript",children:'// Output (JavaScript after Babel):\nimport { Preview } from \'@storybook/react\';\n\nfunction greet(name) {\n  return "Hello, " + name + "!";\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"phase-3-processing-story-extraction",children:"Phase 3: Processing (Story Extraction)"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"What happens:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"CSF plugin processes the JavaScript files"}),"\n",(0,i.jsx)(n.li,{children:"Extracts story metadata and component information"}),"\n",(0,i.jsx)(n.li,{children:"Generates story exports for Storybook UI"}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Note"}),": This must happen after Babel (CSF plugin can't handle TypeScript)"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"phase-4-bundling",children:"Phase 4: Bundling"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"What happens:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Webpack combines all processed files"}),"\n",(0,i.jsx)(n.li,{children:"Resolves dependencies and imports"}),"\n",(0,i.jsx)(n.li,{children:"Applies optimizations"}),"\n",(0,i.jsx)(n.li,{children:"Creates a single (or multiple) bundle file(s)"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"phase-5-serving",children:"Phase 5: Serving"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"What happens:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Storybook serves the bundle on ",(0,i.jsx)(n.code,{children:"localhost:6006"})]}),"\n",(0,i.jsx)(n.li,{children:"Browser requests the bundle"}),"\n",(0,i.jsx)(n.li,{children:"JavaScript executes in the browser"}),"\n",(0,i.jsx)(n.li,{children:"Your Storybook UI appears!"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"how-they-all-work-together-the-complete-picture",children:"How They All Work Together: The Complete Picture"}),"\n",(0,i.jsx)(n.mermaid,{value:"graph TD\n    A[You Write Code] --\x3e|TypeScript Files| B[TypeScript Checks Types]\n    B --\x3e|Valid Code| C[Webpack Starts Building]\n    C --\x3e|Finds .ts files| D[babel-loader]\n    D --\x3e|Reads| E[babel.config.js]\n    E --\x3e|Uses Presets| F[Babel Transpiles]\n    F --\x3e|Removes Types| G[JavaScript Files]\n    G --\x3e|Processes| H[CSF Plugin]\n    H --\x3e|Extracts Stories| I[Storybook UI]\n    I --\x3e|Bundles| J[Webpack Creates Bundle]\n    J --\x3e|Serves| K[Browser Shows Storybook]\n    \n    style B fill:#ffcccc,stroke:#333,stroke-width:2px\n    style D fill:#ccffcc,stroke:#333,stroke-width:2px\n    style F fill:#ccffcc,stroke:#333,stroke-width:2px\n    style J fill:#ffffcc,stroke:#333,stroke-width:2px"}),"\n",(0,i.jsx)(n.h3,{id:"the-journey-step-by-step",children:"The Journey: Step by Step"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"You write"})," TypeScript code with types"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Happens in your editor"}),"\n",(0,i.jsx)(n.li,{children:"TypeScript checks types in real-time"}),"\n",(0,i.jsx)(n.li,{children:"Errors shown immediately"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"TypeScript checks"})," if the types are correct"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Catches errors early"}),"\n",(0,i.jsx)(n.li,{children:"Provides autocomplete"}),"\n",(0,i.jsx)(n.li,{children:"No build required for this step"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Webpack starts"})," the build process"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Triggered by ",(0,i.jsx)(n.code,{children:"yarn storybook"})]}),"\n",(0,i.jsxs)(n.li,{children:["Loads configuration from ",(0,i.jsx)(n.code,{children:".storybook/main.ts"})]}),"\n",(0,i.jsx)(n.li,{children:"Sets up module rules"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"babel-loader"})," takes each TypeScript file"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Matches ",(0,i.jsx)(n.code,{children:".ts"})," and ",(0,i.jsx)(n.code,{children:".tsx"})," files"]}),"\n",(0,i.jsx)(n.li,{children:"Processes them through Babel"}),"\n",(0,i.jsx)(n.li,{children:"Returns JavaScript"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Babel reads"})," ",(0,i.jsx)(n.code,{children:"babel.config.js"})," to know how to translate"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Loads presets (TypeScript, Docusaurus)"}),"\n",(0,i.jsx)(n.li,{children:"Applies transformations"}),"\n",(0,i.jsx)(n.li,{children:"Strips type annotations"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Babel removes"})," all the type annotations"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"import type"})," \u2192 removed"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:": Type"})," \u2192 removed"]}),"\n",(0,i.jsx)(n.li,{children:"Type-only syntax \u2192 stripped"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Babel converts"})," modern syntax to compatible JavaScript"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Template strings \u2192 string concatenation (if needed)"}),"\n",(0,i.jsx)(n.li,{children:"Arrow functions \u2192 regular functions (if needed)"}),"\n",(0,i.jsx)(n.li,{children:"Modern features \u2192 compatible versions"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"CSF Plugin"})," processes the JavaScript to extract Storybook stories"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Reads story files"}),"\n",(0,i.jsx)(n.li,{children:"Extracts metadata"}),"\n",(0,i.jsx)(n.li,{children:"Generates story exports"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Webpack bundles"})," everything into optimized files"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Combines all modules"}),"\n",(0,i.jsx)(n.li,{children:"Resolves dependencies"}),"\n",(0,i.jsx)(n.li,{children:"Applies optimizations"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Browser loads"})," and runs the final JavaScript"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Requests bundle from Storybook server"}),"\n",(0,i.jsx)(n.li,{children:"Executes JavaScript"}),"\n",(0,i.jsx)(n.li,{children:"Renders Storybook UI"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"why-order-matters",children:"Why Order Matters"}),"\n",(0,i.jsxs)(n.p,{children:["The webpack loader chain executes in ",(0,i.jsx)(n.strong,{children:"reverse order"})," (right to left), but rules are processed ",(0,i.jsx)(n.strong,{children:"top to bottom"}),". By using ",(0,i.jsx)(n.code,{children:"unshift()"}),", we ensure:"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"babel-loader runs first"})," \u2192 TypeScript becomes JavaScript"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"CSF plugin runs second"})," \u2192 Processes the JavaScript"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Other loaders run"})," \u2192 Final processing"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"what-happens-if-order-is-wrong",children:"What Happens If Order Is Wrong?"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Wrong order (babel-loader after CSF plugin):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"TypeScript file \u2192 CSF plugin \u2192 \u274c Error: Can't parse TypeScript syntax\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Correct order (babel-loader before CSF plugin):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"TypeScript file \u2192 babel-loader \u2192 JavaScript \u2192 CSF plugin \u2192 \u2705 Success\n"})}),"\n",(0,i.jsx)(n.h3,{id:"the-loader-chain",children:"The Loader Chain"}),"\n",(0,i.jsx)(n.p,{children:"When webpack processes a file, it applies loaders in sequence:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"TypeScript File\n    \u2193\n[babel-loader] \u2192 Converts to JavaScript\n    \u2193\nJavaScript File\n    \u2193\n[CSF Plugin] \u2192 Extracts story metadata\n    \u2193\nProcessed Module\n    \u2193\n[Other Loaders] \u2192 Final processing\n    \u2193\nFinal Bundle\n"})}),"\n",(0,i.jsx)(n.p,{children:"Each loader transforms the file and passes it to the next one. The order is critical because:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"CSF plugin can't handle TypeScript"}),"\n",(0,i.jsx)(n.li,{children:"babel-loader must run first to convert TypeScript to JavaScript"}),"\n",(0,i.jsx)(n.li,{children:"Other loaders expect JavaScript input"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"development-experience",children:"Development Experience"}),"\n",(0,i.jsx)(n.h3,{id:"real-time-type-checking",children:"Real-Time Type Checking"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"What you see:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Type errors appear immediately in your IDE"}),"\n",(0,i.jsx)(n.li,{children:"Red squiggles under problematic code"}),"\n",(0,i.jsx)(n.li,{children:"Hover tooltips show type information"}),"\n",(0,i.jsx)(n.li,{children:"Autocomplete suggests correct types"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"What's happening:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"TypeScript compiler runs in the background"}),"\n",(0,i.jsx)(n.li,{children:"Analyzes your code as you type"}),"\n",(0,i.jsx)(n.li,{children:"No build required for type checking"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"build-time-transpilation",children:"Build-Time Transpilation"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"What you see:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["You run ",(0,i.jsx)(n.code,{children:"yarn storybook"})]}),"\n",(0,i.jsx)(n.li,{children:"Build output shows progress"}),"\n",(0,i.jsxs)(n.li,{children:["Storybook starts on ",(0,i.jsx)(n.code,{children:"localhost:6006"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"What's happening:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Webpack processes files through babel-loader"}),"\n",(0,i.jsx)(n.li,{children:"Babel transpiles TypeScript to JavaScript"}),"\n",(0,i.jsx)(n.li,{children:"Files are bundled and served"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"hot-module-replacement-hmr",children:"Hot Module Replacement (HMR)"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"What you see:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"You change a file"}),"\n",(0,i.jsx)(n.li,{children:"Browser updates automatically"}),"\n",(0,i.jsx)(n.li,{children:"No full page reload needed"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"What's happening:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Webpack detects file changes"}),"\n",(0,i.jsx)(n.li,{children:"Re-processes changed files through babel-loader"}),"\n",(0,i.jsx)(n.li,{children:"Updates bundle and pushes to browser"}),"\n",(0,i.jsx)(n.li,{children:"Browser updates only changed components"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"common-scenarios",children:"Common Scenarios"}),"\n",(0,i.jsx)(n.h3,{id:"scenario-1-writing-a-new-story",children:"Scenario 1: Writing a New Story"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["You create ",(0,i.jsx)(n.code,{children:"Button.stories.tsx"})]}),"\n",(0,i.jsx)(n.li,{children:"TypeScript checks types as you type"}),"\n",(0,i.jsxs)(n.li,{children:["You run ",(0,i.jsx)(n.code,{children:"yarn storybook"})]}),"\n",(0,i.jsx)(n.li,{children:"babel-loader processes the file"}),"\n",(0,i.jsx)(n.li,{children:"Babel converts TypeScript to JavaScript"}),"\n",(0,i.jsx)(n.li,{children:"CSF plugin extracts story metadata"}),"\n",(0,i.jsx)(n.li,{children:"Storybook displays your story"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"scenario-2-fixing-a-type-error",children:"Scenario 2: Fixing a Type Error"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"TypeScript shows error in IDE"}),"\n",(0,i.jsx)(n.li,{children:"You fix the type annotation"}),"\n",(0,i.jsx)(n.li,{children:"TypeScript error disappears"}),"\n",(0,i.jsx)(n.li,{children:"You save the file"}),"\n",(0,i.jsx)(n.li,{children:"HMR updates Storybook automatically"}),"\n",(0,i.jsx)(n.li,{children:"No full rebuild needed"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"scenario-3-adding-a-new-import",children:"Scenario 3: Adding a New Import"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["You add ",(0,i.jsx)(n.code,{children:"import type { Props } from './types'"})]}),"\n",(0,i.jsx)(n.li,{children:"TypeScript validates the import"}),"\n",(0,i.jsxs)(n.li,{children:["Build time: Babel strips ",(0,i.jsx)(n.code,{children:"import type"})]}),"\n",(0,i.jsx)(n.li,{children:"Runtime: Only the value import remains (if any)"}),"\n",(0,i.jsx)(n.li,{children:"Everything works seamlessly"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,i.jsx)(n.p,{children:"Understanding the development process helps you:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Debug build issues more effectively"}),"\n",(0,i.jsx)(n.li,{children:"Understand why certain configurations are needed"}),"\n",(0,i.jsx)(n.li,{children:"Optimize your development workflow"}),"\n",(0,i.jsx)(n.li,{children:"Make informed decisions about tooling"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["The key insight is that ",(0,i.jsx)(n.strong,{children:"the process happens in phases"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Development"}),": Type checking (real-time, no build)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Build"}),": Transpilation (TypeScript \u2192 JavaScript)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Processing"}),": Story extraction and bundling"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Runtime"}),": Browser execution"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Each phase has different tools and requirements, and understanding this flow helps you configure everything correctly."}),"\n",(0,i.jsx)(n.h2,{id:"related-posts",children:"Related Posts"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["For the ",(0,i.jsx)(n.strong,{children:"setup guide"}),", see ",(0,i.jsx)(n.a,{href:"./setup-overview",children:"Setup & Overview"})]}),"\n",(0,i.jsxs)(n.li,{children:["For understanding ",(0,i.jsx)(n.strong,{children:"the tools themselves"}),", see ",(0,i.jsx)(n.a,{href:"./understanding-tools",children:"Understanding the Tools"})]}),"\n",(0,i.jsxs)(n.li,{children:["For ",(0,i.jsx)(n.strong,{children:"common pitfalls and debugging tips"}),", see ",(0,i.jsx)(n.a,{href:"./common-pitfalls",children:"Common Pitfalls & Issues"})]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://storybook.js.org/docs/configure/typescript",children:"Storybook TypeScript Configuration"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://babeljs.io/docs/en/babel-preset-typescript",children:"Babel TypeScript Preset"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://webpack.js.org/concepts/loaders/",children:"Webpack Loaders"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://storybook.js.org/docs/builders/webpack",children:"Storybook Webpack Configuration"})}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}}}]);