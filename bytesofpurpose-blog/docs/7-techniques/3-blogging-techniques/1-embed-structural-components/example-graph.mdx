---
slug: graph
title: 'Graph'
description: 'How to create a graph component in Docusaurus.'
authors: [oeid]
tags: [docusaurus, react, components, details]
draft: false
---

import GraphRenderer from '@site/src/components/GraphRenderer';

# Graph Renderer Example

Below is a simple graph rendered using the `GraphRenderer` component.

## Basic Graph

<GraphRenderer data={{
  nodes: [
    { id: '1', label: 'Node A', title: 'Node A Title' },
    { id: '2', label: 'Node B', title: 'Node B Title' }
  ],
  links: [
    { source: '1', target: '2' }
  ]
}} />

## Graph with Expandable Subnodes

**Instructions:** Click on nodes with children (they show a `+` indicator) to expand them and reveal their subnodes. Click again to collapse. Nodes with children are larger and show `+` when collapsed or `−` when expanded.

This example demonstrates a multi-level nested structure:

<GraphRenderer 
  graphId="example-graph"
  data={{
    nodes: [
      { 
        id: 'root', 
        label: 'Root', 
        title: 'Root Node',
        color: '#68BDF6',
        children: [
          { 
            id: 'level1-a', 
            label: 'Level 1-A', 
            title: 'First Level Node A',
            color: '#60BE86',
            children: [
              { 
                id: 'level2-a1', 
                label: 'Level 2-A1', 
                title: 'Second Level Node A1',
                color: '#FF6B6B',
                children: [
                  { id: 'level3-a1a', label: 'Level 3-A1a', title: 'Third Level Node A1a', color: '#FFD93D' },
                  { id: 'level3-a1b', label: 'Level 3-A1b', title: 'Third Level Node A1b', color: '#FFD93D' }
                ]
              },
              { id: 'level2-a2', label: 'Level 2-A2', title: 'Second Level Node A2', color: '#FF6B6B' }
            ]
          },
          { 
            id: 'level1-b', 
            label: 'Level 1-B', 
            title: 'First Level Node B',
            color: '#60BE86',
            children: [
              { id: 'level2-b1', label: 'Level 2-B1', title: 'Second Level Node B1', color: '#FF6B6B' },
              { id: 'level2-b2', label: 'Level 2-B2', title: 'Second Level Node B2', color: '#FF6B6B' },
              { 
                id: 'level2-b3', 
                label: 'Level 2-B3', 
                title: 'Second Level Node B3',
                color: '#FF6B6B',
                children: [
                  { id: 'level3-b3a', label: 'Level 3-B3a', title: 'Third Level Node B3a', color: '#FFD93D' },
                  { id: 'level3-b3b', label: 'Level 3-B3b', title: 'Third Level Node B3b', color: '#FFD93D' },
                  { id: 'level3-b3c', label: 'Level 3-B3c', title: 'Third Level Node B3c', color: '#FFD93D' }
                ]
              }
            ]
          },
          { 
            id: 'level1-c', 
            label: 'Level 1-C', 
            title: 'First Level Node C (No Children)',
            color: '#60BE86'
          }
        ]
      },
      { 
        id: 'sibling', 
        label: 'Sibling', 
        title: 'Sibling Root Node',
        color: '#A78BFA',
        children: [
          { id: 'sibling-child1', label: 'Sibling Child 1', title: 'Sibling First Child', color: '#FB7185' },
          { id: 'sibling-child2', label: 'Sibling Child 2', title: 'Sibling Second Child', color: '#FB7185' }
        ]
      }
    ],
    links: [
      { source: 'root', target: 'sibling' }
    ]
  }} 
/>

### Try it out:
1. **Click on "Root"** - expands to show Level 1 nodes (A, B, C)
2. **Click on "Level 1-A"** - expands to show Level 2 nodes (A1, A2)
3. **Click on "Level 2-A1"** - expands to show Level 3 nodes (A1a, A1b)
4. **Click on "Sibling"** - expands to show its children
5. **Click again on any expanded node** - collapses it and hides its children

Notice how:
- Each level can be expanded/collapsed independently
- Children are automatically connected to their parent with links
- The graph layout adjusts dynamically as you expand/collapse nodes
- Nodes with children are visually larger and show `+`/`−` indicators

## Anchor Links and Node Highlighting

You can create anchor links that automatically highlight and expand to specific nodes in the graph. This is useful for deep linking to specific nodes from other parts of your documentation.

### Using URL Hash Links

Add a `graphId` prop to your GraphRenderer component, then create links using the format `#graphId-node-{nodeId}`:

**Example links:**
- [Highlight Level 2-A1](#example-graph-node-level2-a1)
- [Highlight Level 3-B3a](#example-graph-node-level3-b3a)
- [Highlight Sibling Child 1](#example-graph-node-sibling-child1)

When you click these links, the graph will:
1. **Automatically expand** all parent nodes to make the target node visible
2. **Highlight** the target node with a golden glow and border
3. **Center and zoom** the view on the highlighted node
4. **Show the node details** in the side panel

### Using Props

You can also highlight a node programmatically using the `highlightNodeId` prop:

```jsx
<GraphRenderer 
  graphId="my-graph"
  highlightNodeId="level2-a1"
  data={...}
/>
```

### How It Works

- The component listens for URL hash changes (e.g., `#example-graph-node-level2-a1`)
- When a matching hash is detected, it finds the path to that node
- All parent nodes in the path are automatically expanded
- The target node is highlighted with a special visual style
- The view centers and zooms on the highlighted node
