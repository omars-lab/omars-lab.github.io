<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-changelog" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">GraphRenderer Component Refactoring Plan | Bytes of Purpose</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:image" content="https://blog.bytesofpurpose.com/img/logo.svg"><meta data-rh="true" name="twitter:image" content="https://blog.bytesofpurpose.com/img/logo.svg"><meta data-rh="true" property="og:url" content="https://blog.bytesofpurpose.com/changelog/development/2025-XX-XX-component-refactoring-graph-renderer"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" name="twitter:site" content="@rythome"><meta data-rh="true" name="twitter:creator" content="@rythome"><meta data-rh="true" property="og:site_name" content="Bytes of Purpose"><meta data-rh="true" property="og:locale" content="en_US"><meta data-rh="true" property="og:title" content="GraphRenderer Component Refactoring Plan | Bytes of Purpose"><meta data-rh="true" name="description" content="Comprehensive plan to refactor the 3382-line GraphRenderer.tsx into smaller, composable components and utilities"><meta data-rh="true" property="og:description" content="Comprehensive plan to refactor the 3382-line GraphRenderer.tsx into smaller, composable components and utilities"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2025-11-18T03:12:29.000Z"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://blog.bytesofpurpose.com/changelog/development/2025-XX-XX-component-refactoring-graph-renderer"><link data-rh="true" rel="alternate" href="https://blog.bytesofpurpose.com/changelog/development/2025-XX-XX-component-refactoring-graph-renderer" hreflang="en"><link data-rh="true" rel="alternate" href="https://blog.bytesofpurpose.com/changelog/development/2025-XX-XX-component-refactoring-graph-renderer" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://blog.bytesofpurpose.com/changelog/development/2025-XX-XX-component-refactoring-graph-renderer","mainEntityOfPage":"https://blog.bytesofpurpose.com/changelog/development/2025-XX-XX-component-refactoring-graph-renderer","url":"https://blog.bytesofpurpose.com/changelog/development/2025-XX-XX-component-refactoring-graph-renderer","headline":"GraphRenderer Component Refactoring Plan","name":"GraphRenderer Component Refactoring Plan","description":"Comprehensive plan to refactor the 3382-line GraphRenderer.tsx into smaller, composable components and utilities","datePublished":"2025-11-18T03:12:29.000Z","author":[],"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://blog.bytesofpurpose.com/changelog","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Bytes of Purpose RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Bytes of Purpose Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-79YSEH7T7X"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-79YSEH7T7X",{})</script>



<link rel="alternate" type="application/rss+xml" href="/designs/rss.xml" title="Bytes of Purpose RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/designs/atom.xml" title="Bytes of Purpose Atom Feed">
<link rel="alternate" type="application/rss+xml" href="/changelog/rss.xml" title="Bytes of Purpose RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/changelog/atom.xml" title="Bytes of Purpose Atom Feed"><link rel="stylesheet" href="/assets/css/styles.36e8f468.css">
<script src="/assets/js/runtime~main.6953afa1.js" defer="defer"></script>
<script src="/assets/js/main.491fb9aa.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><link rel="preload" as="image" href="/img/logo_dark.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="BytesOfPurpose Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo_dark.svg" alt="BytesOfPurpose Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">BytesOfPurpose</b></a><a class="navbar__item navbar__link" href="/docs/welcome/intro">Docs</a><a class="navbar__item navbar__link" href="/blog">Posts</a><a class="navbar__item navbar__link" href="/designs">Designs</a><a class="navbar__item navbar__link" href="/storybook">Components</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/changelog">Changelog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item"><a class="navbar__brand" href="https://www.paypal.com/donate?business=UQ2SHCNPFYBJY&amount=1&no_recurring=0&item_name=Support+a+Developer&currency_code=USD"><div class="navbar__logo"><img src="/img/support.svg" class="themedImage_node_modules-@docusaurus-theme-classic-lib-next-theme-ThemedImage-styles-module themedImage--light_node_modules-@docusaurus-theme-classic-lib-next-theme-ThemedImage-styles-module"></div><b class="navbar__title text--truncate">Buy Me a Coffee?</b></a></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Changelog Entries</div><div role="group"><h3 class="yearGroupHeading_rMGB">2025</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/changelog/content/2025-XX-XX-content-post-future-content-ideas">Future Content Ideas</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/changelog/content/2025-XX-XX-content-post-knowledge-agents-design">Blog Content - Knowledge Agents Design</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/changelog/development/2025-XX-XX-component-creation-mermaid-diagrams">Mermaid-Based Components for Blog</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/changelog/development/2025-XX-XX-component-enhancement-graph-component">Blog Graph Component</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/changelog/development/2025-XX-XX-documentation-component-development-roadmap">Component Development Roadmap</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/changelog/development/2025-XX-XX-infrastructure-improvement-cdk-configuration">Infrastructure Improvements</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/changelog/development/2025-XX-XX-infrastructure-improvement-developer-experience">Developer Experience Improvements</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/changelog/development/2025-XX-XX-infrastructure-improvement-performance">Performance Optimizations</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/changelog/development/2025-XX-XX-infrastructure-improvement-testing-quality">Testing &amp; Quality Improvements</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/changelog/development/2025-XX-XX-mechanic-establishment-journey-analysis">Blog Mechanic - Journey Analysis</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/changelog/development/2025-XX-XX-mechanic-establishment-link-management">Blogging Mechanism - Link Management</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/changelog/development/2025-XX-XX-mechanic-establishment-search">Blogging Mechanism - Search</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/changelog/development/2025-XX-XX-mechanic-establishment-seo">Blogging Mechanism - SEO</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/changelog/development/2025-XX-XX-optimization-bundle-size-storybook">Bundle Size Optimization</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/changelog/development/2025-XX-XX-plan-leveraging-genai-enhance-blog">Plan - Leveraging GenAI to Enhance Blog</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/changelog/development/2025-XX-XX-structure-changelog-roadmap">Blog Structure - Changelog &amp; Roadmap</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/changelog/development/2025-XX-XX-structure-habits">Blog Structure - Habits</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/changelog/development/2025-XX-XX-structure-techniques">Blog Structure - Techniques</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/changelog/README">Changelog Directory Structure</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/changelog/development/2025-XX-XX-component-refactoring-graph-renderer">GraphRenderer Component Refactoring Plan</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/changelog/2025/11/17/development/component-refactoring-graph-component">Graph Component Refactoring Summary</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/changelog/2025/11/16/development/component-creation-changelog-component">Component Creation - Changelog Component</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/changelog/2025/11/16/development/mechanic-establishment-storybook">Blogging Mechanism - Storybook Component Documentation</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/changelog/2025/11/13/development/component-creation-graph-renderer">Graph Renderer Component Creation</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/changelog/2025/09/23/development/component-creation-card-timeline">Card and Timeline Components Creation</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/changelog/2025/09/10/development/mechanic-establishment-frontmatter-management">Blogging Mechanism - Frontmatter Management</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/changelog/2025/01/15/development/component-creation-svg-kanban">SVG Kanban Board Component</a></li></ul></div></nav></aside><main class="col col--7"><article class=""><header><h1 class="title_f1Hy">GraphRenderer Component Refactoring Plan</h1><div class="container_mt6G margin-vert--md"><time datetime="2025-11-18T03:12:29.000Z">November 18, 2025</time> · <!-- -->21 min read</div></header><div id="__blog-post-container" class="markdown"><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="execution-plan">Execution Plan<a href="#execution-plan" class="hash-link" aria-label="Direct link to Execution Plan" title="Direct link to Execution Plan" translate="no">​</a></h2>
<p>Refactor the 3382-line <code>GraphRenderer.tsx</code> into smaller, composable components and utilities while maintaining all existing functionality. This plan follows principles that a principal frontend engineer would approve.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview" translate="no">​</a></h3>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="component-organization-strategy">Component Organization Strategy<a href="#component-organization-strategy" class="hash-link" aria-label="Direct link to Component Organization Strategy" title="Direct link to Component Organization Strategy" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="subdirectory-structure-with-index-files">Subdirectory Structure with Index Files<a href="#subdirectory-structure-with-index-files" class="hash-link" aria-label="Direct link to Subdirectory Structure with Index Files" title="Direct link to Subdirectory Structure with Index Files" translate="no">​</a></h3>
<p><strong>Goal</strong>: Organize components into subdirectories with <code>index.tsx</code> files for cleaner imports and better maintainability.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="target-directory-structure">Target Directory Structure<a href="#target-directory-structure" class="hash-link" aria-label="Direct link to Target Directory Structure" title="Direct link to Target Directory Structure" translate="no">​</a></h4>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">src/components/Graph/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── GraphRenderer/              # Main component (stays at root for now)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── index.tsx              # Re-exports GraphRenderer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── GraphRenderer.tsx      # Main implementation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── GraphRenderer.module.css</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── GraphRenderer.stories.tsx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── GraphMenuBar/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── index.tsx              # Re-exports GraphMenuBar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── GraphMenuBar.tsx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── GraphMenuBar.stories.tsx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── GraphInfoPanel/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── index.tsx              # Re-exports GraphInfoPanel</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── GraphInfoPanel.tsx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── GraphInfoPanel.stories.tsx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── GraphCanvas/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── index.tsx              # Re-exports GraphCanvas</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── GraphCanvas.tsx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── GraphCanvas.stories.tsx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── GraphRightClickMenu/        # New component (extracted)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── index.tsx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── GraphRightClickMenu.tsx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── GraphRightClickMenu.stories.tsx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── GraphContextMenu/           # New component (extracted)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── index.tsx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── GraphContextMenu.tsx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── GraphContextMenu.stories.tsx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── hooks/                      # Custom hooks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── index.ts                # Re-exports all hooks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── useGraphDimensions.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── useGraphState.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── useGraphData.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── useGraphInteractions.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── useGraphCanvasSetup.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── useGraphMenuHandlers.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── useGraphUrlFragment.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── utils/                      # Utility functions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── index.ts                # Re-exports all utils</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── graphConstants.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── GraphDataUtils.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── GraphNodeUtils.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── GraphRenderingUtils.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── GraphTextUtils.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── GraphCanvasDrawingUtils.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── GraphEdgeDrawingUtils.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── graphUtils.ts          # Backward compatibility re-exports</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── types.ts                    # Shared types</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── README.md                   # Component documentation</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="index-file-pattern">Index File Pattern<a href="#index-file-pattern" class="hash-link" aria-label="Direct link to Index File Pattern" title="Direct link to Index File Pattern" translate="no">​</a></h4>
<p>Each component subdirectory will have an <code>index.tsx</code> that re-exports the component:</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// GraphMenuBar/index.tsx</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> GraphMenuBar </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;./GraphMenuBar&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> GraphMenuBarProps </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;./GraphMenuBar&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>This allows clean imports:</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Before</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> GraphMenuBar </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;./GraphMenuBar/GraphMenuBar&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// After</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> GraphMenuBar </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;./GraphMenuBar&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="story-organization">Story Organization<a href="#story-organization" class="hash-link" aria-label="Direct link to Story Organization" title="Direct link to Story Organization" translate="no">​</a></h4>
<p>Stories will be co-located with components in their subdirectories:</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// GraphMenuBar/GraphMenuBar.stories.tsx</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> Meta</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> StoryObj </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@storybook/react&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> GraphMenuBar </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;./GraphMenuBar&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> meta</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Meta</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">typeof</span><span class="token plain"> GraphMenuBar</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  title</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Graph/GraphMenuBar&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  component</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> GraphMenuBar</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> meta</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token class-name">Story</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> StoryObj</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">typeof</span><span class="token plain"> GraphMenuBar</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> Default</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Story </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="benefits-of-this-structure">Benefits of This Structure<a href="#benefits-of-this-structure" class="hash-link" aria-label="Direct link to Benefits of This Structure" title="Direct link to Benefits of This Structure" translate="no">​</a></h4>
<ol>
<li class=""><strong>Cleaner Imports</strong>: <code>import { GraphMenuBar } from &#x27;./GraphMenuBar&#x27;</code> instead of <code>&#x27;./GraphMenuBar/GraphMenuBar&#x27;</code></li>
<li class=""><strong>Co-location</strong>: Component, styles, stories, and tests in one place</li>
<li class=""><strong>Better Discoverability</strong>: Easy to find all files related to a component</li>
<li class=""><strong>Scalability</strong>: Easy to add new components without cluttering root</li>
<li class=""><strong>Maintainability</strong>: Clear boundaries between components</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="migration-strategy">Migration Strategy<a href="#migration-strategy" class="hash-link" aria-label="Direct link to Migration Strategy" title="Direct link to Migration Strategy" translate="no">​</a></h4>
<p><strong>Phase 0: Reorganize Existing Components</strong> (Before refactoring)</p>
<ol>
<li class="">
<p><strong>Create subdirectories for existing components</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mkdir -p src/components/Graph/GraphMenuBar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir -p src/components/Graph/GraphInfoPanel</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mkdir -p src/components/Graph/GraphCanvas</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Move component files</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mv GraphMenuBar.tsx GraphMenuBar/GraphMenuBar.tsx</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mv GraphMenuBar.stories.tsx GraphMenuBar/GraphMenuBar.stories.tsx</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Create index.tsx files</strong></p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// GraphMenuBar/index.tsx</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> GraphMenuBar </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;./GraphMenuBar&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> GraphMenuBarProps </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;./GraphMenuBar&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Update imports in GraphRenderer</strong></p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Before</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> GraphMenuBar </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;./GraphMenuBar&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// After (no change needed if index.tsx is created)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> GraphMenuBar </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;./GraphMenuBar&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Create hooks/ subdirectory</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mkdir -p src/components/Graph/hooks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mv useGraphState.ts hooks/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mv useGraphData.ts hooks/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mv useGraphInteractions.ts hooks/</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Create hooks/index.ts</strong></p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// hooks/index.ts</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> useGraphState </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;./useGraphState&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> useGraphData </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;./useGraphData&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> useGraphInteractions </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;./useGraphInteractions&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Create utils/ subdirectory</strong> (if not exists)</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">mkdir -p src/components/Graph/utils</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Move utility files to utils/</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Update all imports</strong></p>
<ul>
<li class="">Update GraphRenderer imports</li>
<li class="">Update Storybook stories</li>
<li class="">Update tests</li>
<li class="">Update documentation</li>
</ul>
</li>
</ol>
<p><strong>Timing</strong>: This reorganization should happen <strong>before</strong> starting the refactoring phases, as it provides a clean foundation.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="current-state-analysis">Current State Analysis<a href="#current-state-analysis" class="hash-link" aria-label="Direct link to Current State Analysis" title="Direct link to Current State Analysis" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="file-size-3382-lines">File Size: 3382 lines<a href="#file-size-3382-lines" class="hash-link" aria-label="Direct link to File Size: 3382 lines" title="Direct link to File Size: 3382 lines" translate="no">​</a></h3>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="main-sections">Main Sections:<a href="#main-sections" class="hash-link" aria-label="Direct link to Main Sections:" title="Direct link to Main Sections:" translate="no">​</a></h3>
<ol>
<li class=""><strong>Drawing Functions</strong> (~600 lines): <code>drawNodeCircle</code>, <code>drawDebugSectionSeparators</code>, <code>drawTitle</code>, <code>drawStatusIndicator</code></li>
<li class=""><strong>Edge Rendering Functions</strong> (~100 lines): <code>getEdgeWidth</code>, <code>getEdgeCoordinates</code>, <code>drawComparisonEdge</code>, <code>drawEdgeLabel</code></li>
<li class=""><strong>Main Component Logic</strong> (~2600 lines): State, event handlers, dimension calculations, canvas setup, menus, info panel</li>
<li class=""><strong>Constants</strong>: <code>NEO4J_COLORS</code>, <code>DEBUG_SHOW_NODE_SECTIONS</code></li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="existing-utilities-already-extracted">Existing Utilities (Already Extracted):<a href="#existing-utilities-already-extracted" class="hash-link" aria-label="Direct link to Existing Utilities (Already Extracted):" title="Direct link to Existing Utilities (Already Extracted):" translate="no">​</a></h3>
<ul>
<li class="">✅ <code>GraphDataUtils.ts</code> - Tree traversal, data cleaning</li>
<li class="">✅ <code>GraphNodeUtils.ts</code> - Node properties, styling, validation</li>
<li class="">✅ <code>GraphRenderingUtils.ts</code> - Rendering calculations, coordinates</li>
<li class="">✅ <code>GraphTextUtils.ts</code> - Text processing, wrapping, font sizing</li>
<li class="">✅ <code>NodeRenderer.ts</code> - Node rendering class</li>
<li class="">✅ <code>useGraphData.ts</code> - Graph data hooks</li>
<li class="">✅ <code>useGraphInteractions.ts</code> - Interaction hooks</li>
<li class="">✅ <code>useGraphState.ts</code> - State management hooks</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="existing-components-already-extracted">Existing Components (Already Extracted):<a href="#existing-components-already-extracted" class="hash-link" aria-label="Direct link to Existing Components (Already Extracted):" title="Direct link to Existing Components (Already Extracted):" translate="no">​</a></h3>
<ul>
<li class="">✅ <code>GraphCanvas.tsx</code> - Canvas wrapper</li>
<li class="">✅ <code>GraphInfoPanel.tsx</code> - Info panel component</li>
<li class="">✅ <code>GraphMenuBar.tsx</code> - Menu bar component</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="refactoring-strategy">Refactoring Strategy<a href="#refactoring-strategy" class="hash-link" aria-label="Direct link to Refactoring Strategy" title="Direct link to Refactoring Strategy" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="phase-1-extract-canvas-drawing-utilities-low-risk">Phase 1: Extract Canvas Drawing Utilities (Low Risk)<a href="#phase-1-extract-canvas-drawing-utilities-low-risk" class="hash-link" aria-label="Direct link to Phase 1: Extract Canvas Drawing Utilities (Low Risk)" title="Direct link to Phase 1: Extract Canvas Drawing Utilities (Low Risk)" translate="no">​</a></h3>
<p><strong>Goal</strong>: Move pure drawing functions to utility files</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="11-create-graphcanvasdrawingutilsts">1.1 Create <code>GraphCanvasDrawingUtils.ts</code><a href="#11-create-graphcanvasdrawingutilsts" class="hash-link" aria-label="Direct link to 11-create-graphcanvasdrawingutilsts" title="Direct link to 11-create-graphcanvasdrawingutilsts" translate="no">​</a></h4>
<p><strong>Extract:</strong></p>
<ul>
<li class=""><code>drawNodeCircle</code> → <code>drawNodeCircle</code></li>
<li class=""><code>drawDebugSectionSeparators</code> → <code>drawDebugSectionSeparators</code></li>
<li class=""><code>drawStatusIndicator</code> → <code>drawStatusIndicator</code></li>
<li class=""><code>drawTitle</code> → <code>drawTitle</code> (complex, ~400 lines - keep as-is but move to utils)</li>
</ul>
<p><strong>Location</strong>: <code>src/components/Graph/GraphCanvasDrawingUtils.ts</code></p>
<p><strong>Dependencies</strong>:</p>
<ul>
<li class="">Canvas context</li>
<li class="">Node data</li>
<li class="">Styling parameters (colors, sizes)</li>
</ul>
<p><strong>Risk</strong>: Low - Pure functions, no component state</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="12-create-graphedgedrawingutilsts">1.2 Create <code>GraphEdgeDrawingUtils.ts</code><a href="#12-create-graphedgedrawingutilsts" class="hash-link" aria-label="Direct link to 12-create-graphedgedrawingutilsts" title="Direct link to 12-create-graphedgedrawingutilsts" translate="no">​</a></h4>
<p><strong>Extract:</strong></p>
<ul>
<li class=""><code>drawComparisonEdge</code> → <code>drawComparisonEdge</code></li>
<li class=""><code>drawEdgeLabel</code> → <code>drawEdgeLabel</code></li>
<li class=""><code>getEdgeWidth</code> → <code>getEdgeWidth</code> (already in GraphRenderingUtils? Check)</li>
</ul>
<p><strong>Location</strong>: <code>src/components/Graph/GraphEdgeDrawingUtils.ts</code></p>
<p><strong>Risk</strong>: Low - Pure functions</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="phase-2-extract-dimension-calculation-logic-low-risk">Phase 2: Extract Dimension Calculation Logic (Low Risk)<a href="#phase-2-extract-dimension-calculation-logic-low-risk" class="hash-link" aria-label="Direct link to Phase 2: Extract Dimension Calculation Logic (Low Risk)" title="Direct link to Phase 2: Extract Dimension Calculation Logic (Low Risk)" translate="no">​</a></h3>
<p><strong>Goal</strong>: Move responsive dimension calculations to a custom hook</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="21-create-usegraphdimensionsts">2.1 Create <code>useGraphDimensions.ts</code><a href="#21-create-usegraphdimensionsts" class="hash-link" aria-label="Direct link to 21-create-usegraphdimensionsts" title="Direct link to 21-create-usegraphdimensionsts" translate="no">​</a></h4>
<p><strong>Extract:</strong></p>
<ul>
<li class="">Dimension calculation logic (lines ~2349-2361)</li>
<li class=""><code>baseGraphAreaHeight</code>, <code>graphCanvasHeight</code>, <code>graphAreaHeight</code> calculations</li>
<li class=""><code>graphWidth</code>, <code>panelWidth</code> calculations</li>
<li class="">Container width measurement logic</li>
</ul>
<p><strong>Location</strong>: <code>src/components/Graph/useGraphDimensions.ts</code></p>
<p><strong>Returns:</strong></p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  graphAreaHeight</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  graphCanvasHeight</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  graphWidth</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  panelWidth</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  actualContainerWidth</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  isMobile</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">boolean</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p><strong>Risk</strong>: Low - Isolated logic, easy to test</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="phase-3-extract-event-handlers-medium-risk">Phase 3: Extract Event Handlers (Medium Risk)<a href="#phase-3-extract-event-handlers-medium-risk" class="hash-link" aria-label="Direct link to Phase 3: Extract Event Handlers (Medium Risk)" title="Direct link to Phase 3: Extract Event Handlers (Medium Risk)" translate="no">​</a></h3>
<p><strong>Goal</strong>: Move event handler logic to custom hooks</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="31-enhance-usegraphinteractionsts">3.1 Enhance <code>useGraphInteractions.ts</code><a href="#31-enhance-usegraphinteractionsts" class="hash-link" aria-label="Direct link to 31-enhance-usegraphinteractionsts" title="Direct link to 31-enhance-usegraphinteractionsts" translate="no">​</a></h4>
<p><strong>Extract:</strong></p>
<ul>
<li class=""><code>handleNodeClick</code> → <code>useNodeClickHandler</code></li>
<li class=""><code>handleNodeRightClick</code> → <code>useNodeRightClickHandler</code></li>
<li class=""><code>handleLinkClick</code> → <code>useLinkClickHandler</code></li>
<li class=""><code>handleLinkRightClick</code> → <code>useLinkRightClickHandler</code></li>
<li class=""><code>handleNodeDrag</code> → <code>useNodeDragHandler</code></li>
<li class=""><code>handleNodeDragEnd</code> → <code>useNodeDragEndHandler</code></li>
<li class=""><code>handleZoom</code> → <code>useZoomHandler</code></li>
<li class=""><code>handleWheel</code> → <code>useWheelHandler</code></li>
</ul>
<p><strong>Location</strong>: <code>src/components/Graph/useGraphInteractions.ts</code> (enhance existing)</p>
<p><strong>Risk</strong>: Medium - Need to ensure all dependencies are passed correctly</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="32-create-usegraphmenuhandlersts">3.2 Create <code>useGraphMenuHandlers.ts</code><a href="#32-create-usegraphmenuhandlersts" class="hash-link" aria-label="Direct link to 32-create-usegraphmenuhandlersts" title="Direct link to 32-create-usegraphmenuhandlersts" translate="no">​</a></h4>
<p><strong>Extract:</strong></p>
<ul>
<li class=""><code>copyAnchorLink</code> → <code>useCopyAnchorLink</code></li>
<li class=""><code>togglePane</code> → <code>useTogglePane</code></li>
<li class="">Context menu click outside handler</li>
<li class="">Right-click menu logic</li>
</ul>
<p><strong>Location</strong>: <code>src/components/Graph/useGraphMenuHandlers.ts</code></p>
<p><strong>Risk</strong>: Low - Isolated menu logic</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="phase-4-extract-canvas-setup-logic-medium-risk">Phase 4: Extract Canvas Setup Logic (Medium Risk)<a href="#phase-4-extract-canvas-setup-logic-medium-risk" class="hash-link" aria-label="Direct link to Phase 4: Extract Canvas Setup Logic (Medium Risk)" title="Direct link to Phase 4: Extract Canvas Setup Logic (Medium Risk)" translate="no">​</a></h3>
<p><strong>Goal</strong>: Move canvas initialization and event listeners to a hook</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="41-create-usegraphcanvassetupts">4.1 Create <code>useGraphCanvasSetup.ts</code><a href="#41-create-usegraphcanvassetupts" class="hash-link" aria-label="Direct link to 41-create-usegraphcanvassetupts" title="Direct link to 41-create-usegraphcanvassetupts" translate="no">​</a></h4>
<p><strong>Extract:</strong></p>
<ul>
<li class="">Canvas ref setup</li>
<li class="">Event listener registration (wheel, contextmenu)</li>
<li class="">Canvas cleanup</li>
<li class=""><code>nodeCanvasObject</code> and <code>linkCanvasObject</code> creation</li>
</ul>
<p><strong>Location</strong>: <code>src/components/Graph/useGraphCanvasSetup.ts</code></p>
<p><strong>Returns:</strong></p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  graphRef</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> RefObject</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token builtin">any</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">nodeCanvasObject</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">node</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ctx</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> globalScale</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">linkCanvasObject</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">link</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> ctx</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> globalScale</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">linkCanvasObjectMode</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">link</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p><strong>Risk</strong>: Medium - Complex setup logic, need to ensure all dependencies</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="phase-5-extract-menu-components-low-risk">Phase 5: Extract Menu Components (Low Risk)<a href="#phase-5-extract-menu-components-low-risk" class="hash-link" aria-label="Direct link to Phase 5: Extract Menu Components (Low Risk)" title="Direct link to Phase 5: Extract Menu Components (Low Risk)" translate="no">​</a></h3>
<p><strong>Goal</strong>: Extract inline menu JSX to separate components</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="51-create-graphrightclickmenutsx">5.1 Create <code>GraphRightClickMenu.tsx</code><a href="#51-create-graphrightclickmenutsx" class="hash-link" aria-label="Direct link to 51-create-graphrightclickmenutsx" title="Direct link to 51-create-graphrightclickmenutsx" translate="no">​</a></h4>
<p><strong>Extract:</strong></p>
<ul>
<li class="">Right-click menu JSX (lines ~2425-2486)</li>
<li class="">Menu item rendering logic</li>
</ul>
<p><strong>Location</strong>: <code>src/components/Graph/GraphRightClickMenu.tsx</code></p>
<p><strong>Props:</strong></p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  menu</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> nodeId</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> x</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> y</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  isDarkMode</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">boolean</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  expandedNodes</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Set</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token builtin">string</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">onToggleExpansion</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">nodeId</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">onCopyLink</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">nodeId</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">onClose</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p><strong>Risk</strong>: Low - Pure presentational component</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="52-create-graphcontextmenutsx">5.2 Create <code>GraphContextMenu.tsx</code><a href="#52-create-graphcontextmenutsx" class="hash-link" aria-label="Direct link to 52-create-graphcontextmenutsx" title="Direct link to 52-create-graphcontextmenutsx" translate="no">​</a></h4>
<p><strong>Extract:</strong></p>
<ul>
<li class="">Context menu JSX (lines ~2487-2510)</li>
</ul>
<p><strong>Location</strong>: <code>src/components/Graph/GraphContextMenu.tsx</code></p>
<p><strong>Props:</strong></p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  menu</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> x</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> y</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> nodeId</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> edgeId</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  isDarkMode</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">boolean</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">onCopyLink</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">nodeId</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> edgeId</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">onClose</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p><strong>Risk</strong>: Low - Pure presentational component</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="phase-6-extract-url-fragment-handling-low-risk">Phase 6: Extract URL Fragment Handling (Low Risk)<a href="#phase-6-extract-url-fragment-handling-low-risk" class="hash-link" aria-label="Direct link to Phase 6: Extract URL Fragment Handling (Low Risk)" title="Direct link to Phase 6: Extract URL Fragment Handling (Low Risk)" translate="no">​</a></h3>
<p><strong>Goal</strong>: Move URL fragment parsing and highlighting to a hook</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="61-create-usegraphurlfragmentts">6.1 Create <code>useGraphUrlFragment.ts</code><a href="#61-create-usegraphurlfragmentts" class="hash-link" aria-label="Direct link to 61-create-usegraphurlfragmentts" title="Direct link to 61-create-usegraphurlfragmentts" translate="no">​</a></h4>
<p><strong>Extract:</strong></p>
<ul>
<li class="">URL fragment parsing logic</li>
<li class=""><code>highlightNode</code> and <code>highlightEdge</code> calls from URL</li>
<li class="">Scroll to graph logic</li>
</ul>
<p><strong>Location</strong>: <code>src/components/Graph/useGraphUrlFragment.ts</code></p>
<p><strong>Risk</strong>: Low - Isolated URL handling</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="phase-7-extract-constants-low-risk">Phase 7: Extract Constants (Low Risk)<a href="#phase-7-extract-constants-low-risk" class="hash-link" aria-label="Direct link to Phase 7: Extract Constants (Low Risk)" title="Direct link to Phase 7: Extract Constants (Low Risk)" translate="no">​</a></h3>
<p><strong>Goal</strong>: Move constants to a separate file</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="71-create-graphconstantsts">7.1 Create <code>graphConstants.ts</code><a href="#71-create-graphconstantsts" class="hash-link" aria-label="Direct link to 71-create-graphconstantsts" title="Direct link to 71-create-graphconstantsts" translate="no">​</a></h4>
<p><strong>Extract:</strong></p>
<ul>
<li class=""><code>NEO4J_COLORS</code> → <code>NEO4J_COLORS</code></li>
<li class=""><code>DEBUG_SHOW_NODE_SECTIONS</code> → <code>DEBUG_SHOW_NODE_SECTIONS</code></li>
</ul>
<p><strong>Location</strong>: <code>src/components/Graph/graphConstants.ts</code></p>
<p><strong>Risk</strong>: Low - Simple constants</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="phase-8-refactor-main-component-high-risk---do-last">Phase 8: Refactor Main Component (High Risk - Do Last)<a href="#phase-8-refactor-main-component-high-risk---do-last" class="hash-link" aria-label="Direct link to Phase 8: Refactor Main Component (High Risk - Do Last)" title="Direct link to Phase 8: Refactor Main Component (High Risk - Do Last)" translate="no">​</a></h3>
<p><strong>Goal</strong>: Simplify GraphRendererImpl to orchestrate hooks and components</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="81-final-graphrendererimpl-structure">8.1 Final GraphRendererImpl Structure<a href="#81-final-graphrendererimpl-structure" class="hash-link" aria-label="Direct link to 8.1 Final GraphRendererImpl Structure" title="Direct link to 8.1 Final GraphRendererImpl Structure" translate="no">​</a></h4>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">GraphRendererImpl</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">...</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Hooks</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> dimensions </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useGraphDimensions</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">width</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> height</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> paneVisible</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> isMobile</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> graphState </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useGraphState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">initialExpandedNodes</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> interactions </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useGraphInteractions</span><span class="token punctuation" style="color:#393A34">(</span><span class="token comment" style="color:#999988;font-style:italic">/* deps */</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> canvasSetup </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useGraphCanvasSetup</span><span class="token punctuation" style="color:#393A34">(</span><span class="token comment" style="color:#999988;font-style:italic">/* deps */</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> menuHandlers </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useGraphMenuHandlers</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">graphId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> urlFragment </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useGraphUrlFragment</span><span class="token punctuation" style="color:#393A34">(</span><span class="token comment" style="color:#999988;font-style:italic">/* deps */</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Memoized callbacks</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> nodeCanvasObject </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> canvasSetup</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">nodeCanvasObject</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> linkCanvasObject </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> canvasSetup</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">linkCanvasObject</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Render</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">GraphMenuBar </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">div className</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">styles</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">graphArea</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">GraphCanvas</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">ForceGraph2D </span><span class="token punctuation" style="color:#393A34">{</span><span class="token operator" style="color:#393A34">...</span><span class="token plain">props</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">GraphCanvas</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">paneVisible </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">GraphInfoPanel </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">GraphRightClickMenu </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">GraphContextMenu </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token plain">div</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p><strong>Risk</strong>: High - This is the integration point, need careful testing</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="implementation-order-risk-based">Implementation Order (Risk-Based)<a href="#implementation-order-risk-based" class="hash-link" aria-label="Direct link to Implementation Order (Risk-Based)" title="Direct link to Implementation Order (Risk-Based)" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="phase-0-reorganize-structure-week-0---prerequisite">Phase 0: Reorganize Structure (Week 0 - Prerequisite)<a href="#phase-0-reorganize-structure-week-0---prerequisite" class="hash-link" aria-label="Direct link to Phase 0: Reorganize Structure (Week 0 - Prerequisite)" title="Direct link to Phase 0: Reorganize Structure (Week 0 - Prerequisite)" translate="no">​</a></h3>
<p><strong>Goal</strong>: Set up subdirectory structure before refactoring</p>
<ol>
<li class="">✅ Create subdirectories for existing components</li>
<li class="">✅ Move components to subdirectories with index.tsx</li>
<li class="">✅ Move stories to component subdirectories</li>
<li class="">✅ Create hooks/ subdirectory and move hooks</li>
<li class="">✅ Create utils/ subdirectory (if needed)</li>
<li class="">✅ Update all imports across codebase</li>
<li class="">✅ Verify all tests still pass</li>
<li class="">✅ Verify Storybook stories still work</li>
</ol>
<p><strong>Timing</strong>: Do this <strong>before</strong> starting Phase 1</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="week-1-low-risk-extractions">Week 1: Low-Risk Extractions<a href="#week-1-low-risk-extractions" class="hash-link" aria-label="Direct link to Week 1: Low-Risk Extractions" title="Direct link to Week 1: Low-Risk Extractions" translate="no">​</a></h3>
<ol>
<li class="">✅ Phase 7: Extract Constants → <code>utils/graphConstants.ts</code></li>
<li class="">✅ Phase 1: Extract Canvas Drawing Utilities → <code>utils/GraphCanvasDrawingUtils.ts</code> &amp; <code>utils/GraphEdgeDrawingUtils.ts</code></li>
<li class="">✅ Phase 2: Extract Dimension Calculation Logic → <code>hooks/useGraphDimensions.ts</code></li>
<li class="">✅ Phase 5: Extract Menu Components → <code>GraphRightClickMenu/</code> &amp; <code>GraphContextMenu/</code></li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="week-2-medium-risk-extractions">Week 2: Medium-Risk Extractions<a href="#week-2-medium-risk-extractions" class="hash-link" aria-label="Direct link to Week 2: Medium-Risk Extractions" title="Direct link to Week 2: Medium-Risk Extractions" translate="no">​</a></h3>
<ol start="5">
<li class="">✅ Phase 3: Extract Event Handlers → <code>hooks/useGraphInteractions.ts</code> (enhance)</li>
<li class="">✅ Phase 4: Extract Canvas Setup Logic → <code>hooks/useGraphCanvasSetup.ts</code></li>
<li class="">✅ Phase 6: Extract URL Fragment Handling → <code>hooks/useGraphUrlFragment.ts</code></li>
<li class="">✅ Phase 7: Extract Menu Handlers → <code>hooks/useGraphMenuHandlers.ts</code></li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="week-3-high-risk-integration">Week 3: High-Risk Integration<a href="#week-3-high-risk-integration" class="hash-link" aria-label="Direct link to Week 3: High-Risk Integration" title="Direct link to Week 3: High-Risk Integration" translate="no">​</a></h3>
<ol start="9">
<li class="">✅ Phase 8: Refactor Main Component</li>
<li class="">✅ Comprehensive Testing</li>
<li class="">✅ Update Documentation</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="testing-strategy">Testing Strategy<a href="#testing-strategy" class="hash-link" aria-label="Direct link to Testing Strategy" title="Direct link to Testing Strategy" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="test-directory-structure">Test Directory Structure<a href="#test-directory-structure" class="hash-link" aria-label="Direct link to Test Directory Structure" title="Direct link to Test Directory Structure" translate="no">​</a></h3>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">test/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── e2e/                    # End-to-end tests (Playwright)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── graph-renderer.spec.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── graph-selection-state.spec.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   ├── graph-title-rendering.spec.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── helpers/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│       └── canvas-utils.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── unit/                   # Unit tests (Jest)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── GraphRenderer.title.test.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── utils/                  # Test utilities</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│   └── canvasMock.ts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── setup.ts               # Jest setup</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="unit-tests-jest---testunit">Unit Tests (Jest) - <code>test/unit/</code><a href="#unit-tests-jest---testunit" class="hash-link" aria-label="Direct link to unit-tests-jest---testunit" title="Direct link to unit-tests-jest---testunit" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="phase-1-utility-function-tests">Phase 1: Utility Function Tests<a href="#phase-1-utility-function-tests" class="hash-link" aria-label="Direct link to Phase 1: Utility Function Tests" title="Direct link to Phase 1: Utility Function Tests" translate="no">​</a></h4>
<p><strong>Location</strong>: <code>test/unit/</code></p>
<p><strong>New Test Files to Create:</strong></p>
<ol>
<li class="">
<p><strong><code>GraphCanvasDrawingUtils.test.ts</code></strong></p>
<ul>
<li class="">Test <code>drawNodeCircle</code> with various parameters</li>
<li class="">Test <code>drawDebugSectionSeparators</code> (when debug enabled)</li>
<li class="">Test <code>drawStatusIndicator</code> for leaf vs parent nodes</li>
<li class="">Test <code>drawTitle</code> with various text lengths and zoom levels</li>
<li class="">Use <code>createMockCanvasContext()</code> from <code>test/utils/canvasMock.ts</code></li>
</ul>
</li>
<li class="">
<p><strong><code>GraphEdgeDrawingUtils.test.ts</code></strong></p>
<ul>
<li class="">Test <code>drawComparisonEdge</code> rendering</li>
<li class="">Test <code>drawEdgeLabel</code> with various labels and scales</li>
<li class="">Test <code>getEdgeWidth</code> calculations</li>
</ul>
</li>
<li class="">
<p><strong><code>graphConstants.test.ts</code></strong></p>
<ul>
<li class="">Test <code>NEO4J_COLORS</code> array structure</li>
<li class="">Test <code>DEBUG_SHOW_NODE_SECTIONS</code> flag</li>
</ul>
</li>
<li class="">
<p><strong><code>useGraphDimensions.test.ts</code></strong></p>
<ul>
<li class="">Test dimension calculations for mobile vs desktop</li>
<li class="">Test pane visibility impact on dimensions</li>
<li class="">Test container width measurement</li>
<li class="">Use React Testing Library to test hook</li>
</ul>
</li>
</ol>
<p><strong>Update Existing:</strong></p>
<ul>
<li class=""><strong><code>GraphRenderer.title.test.ts</code></strong>: Update imports if <code>drawTitle</code> moves to utils</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="phase-2-hook-tests">Phase 2: Hook Tests<a href="#phase-2-hook-tests" class="hash-link" aria-label="Direct link to Phase 2: Hook Tests" title="Direct link to Phase 2: Hook Tests" translate="no">​</a></h4>
<p><strong>Location</strong>: <code>test/unit/</code></p>
<p><strong>New Test Files:</strong></p>
<ol>
<li class="">
<p><strong><code>useGraphMenuHandlers.test.ts</code></strong></p>
<ul>
<li class="">Test <code>useCopyAnchorLink</code> with clipboard API</li>
<li class="">Test <code>useTogglePane</code> state changes</li>
<li class="">Test context menu click outside handler</li>
</ul>
</li>
<li class="">
<p><strong><code>useGraphUrlFragment.test.ts</code></strong></p>
<ul>
<li class="">Test URL fragment parsing</li>
<li class="">Test <code>highlightNode</code> from URL</li>
<li class="">Test <code>highlightEdge</code> from URL</li>
<li class="">Test scroll to graph behavior</li>
</ul>
</li>
<li class="">
<p><strong><code>useGraphCanvasSetup.test.ts</code></strong></p>
<ul>
<li class="">Test canvas ref setup</li>
<li class="">Test event listener registration</li>
<li class="">Test <code>nodeCanvasObject</code> creation</li>
<li class="">Test <code>linkCanvasObject</code> creation</li>
</ul>
</li>
</ol>
<p><strong>Enhance Existing:</strong></p>
<ul>
<li class=""><strong><code>useGraphInteractions.ts</code></strong> (if exists): Add tests for extracted handlers</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="test-utilities-to-createupdate">Test Utilities to Create/Update<a href="#test-utilities-to-createupdate" class="hash-link" aria-label="Direct link to Test Utilities to Create/Update" title="Direct link to Test Utilities to Create/Update" translate="no">​</a></h4>
<p><strong>Location</strong>: <code>test/utils/</code></p>
<ol>
<li class="">
<p><strong><code>graphHookTestUtils.ts</code></strong> (New)</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Utilities for testing graph hooks</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token generic-function function" style="color:#d73a49">renderGraphHook</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name constant" style="color:#36acaa">T</span><span class="token generic-function generic class-name operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function-variable function" style="color:#d73a49">hook</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> wrapper</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> ReactWrapper</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">createMockGraphRef</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">createMockGraphData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong><code>canvasMock.ts</code></strong> (Update)</p>
<ul>
<li class="">Add more mock methods if needed for new drawing functions</li>
<li class="">Ensure compatibility with extracted drawing utilities</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="end-to-end-tests-playwright---teste2e">End-to-End Tests (Playwright) - <code>test/e2e/</code><a href="#end-to-end-tests-playwright---teste2e" class="hash-link" aria-label="Direct link to end-to-end-tests-playwright---teste2e" title="Direct link to end-to-end-tests-playwright---teste2e" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="update-strategy-for-e2e-tests">Update Strategy for E2E Tests<a href="#update-strategy-for-e2e-tests" class="hash-link" aria-label="Direct link to Update Strategy for E2E Tests" title="Direct link to Update Strategy for E2E Tests" translate="no">​</a></h4>
<p><strong>Key Principle</strong>: E2E tests should remain largely unchanged since they test the public API of <code>GraphRenderer</code>, not internal implementation details.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="files-to-update">Files to Update:<a href="#files-to-update" class="hash-link" aria-label="Direct link to Files to Update:" title="Direct link to Files to Update:" translate="no">​</a></h4>
<ol>
<li class="">
<p><strong><code>graph-renderer.spec.ts</code></strong></p>
<ul>
<li class=""><strong>No changes needed</strong> - Tests public API (canvas rendering, interactions)</li>
<li class="">May need to update selectors if component structure changes slightly</li>
<li class="">Verify canvas still renders correctly after refactoring</li>
</ul>
</li>
<li class="">
<p><strong><code>graph-selection-state.spec.ts</code></strong></p>
<ul>
<li class=""><strong>No changes needed</strong> - Tests selection behavior (public API)</li>
<li class="">Verify node/edge selection still works after refactoring</li>
<li class="">Test URL hash behavior still works</li>
</ul>
</li>
<li class="">
<p><strong><code>graph-title-rendering.spec.ts</code></strong></p>
<ul>
<li class=""><strong>No changes needed</strong> - Tests title rendering (visual output)</li>
<li class="">Verify ellipsis regression test still passes</li>
<li class="">May need screenshot updates if rendering changes slightly</li>
</ul>
</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="new-e2e-tests-to-add">New E2E Tests to Add:<a href="#new-e2e-tests-to-add" class="hash-link" aria-label="Direct link to New E2E Tests to Add:" title="Direct link to New E2E Tests to Add:" translate="no">​</a></h4>
<ol>
<li class="">
<p><strong><code>graph-responsive-behavior.spec.ts</code></strong> (New)</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Test responsive behavior</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> Test mobile </span><span class="token function" style="color:#d73a49">layout</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pane below graph</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> Test desktop </span><span class="token function" style="color:#d73a49">layout</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pane beside graph</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> Test pane visibility toggle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> Test graph area resizing</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> Test canvas overflow prevention</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong><code>graph-menu-interactions.spec.ts</code></strong> (New)</p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Test menu interactions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> Test right</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">click menu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> Test context menu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> Test copy anchor link</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> Test menu positioning</span><br></span></code></pre></div></div>
</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="e2e-test-helpers-to-update">E2E Test Helpers to Update:<a href="#e2e-test-helpers-to-update" class="hash-link" aria-label="Direct link to E2E Test Helpers to Update:" title="Direct link to E2E Test Helpers to Update:" translate="no">​</a></h4>
<ol>
<li class=""><strong><code>helpers/canvas-utils.ts</code></strong>
<ul>
<li class=""><strong>No changes needed</strong> - Generic canvas utilities</li>
<li class="">May add helpers for testing responsive behavior if needed</li>
</ul>
</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="integration-tests-new-category">Integration Tests (New Category)<a href="#integration-tests-new-category" class="hash-link" aria-label="Direct link to Integration Tests (New Category)" title="Direct link to Integration Tests (New Category)" translate="no">​</a></h3>
<p><strong>Location</strong>: <code>test/integration/</code> (Create if doesn&#x27;t exist)</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="purpose">Purpose<a href="#purpose" class="hash-link" aria-label="Direct link to Purpose" title="Direct link to Purpose" translate="no">​</a></h4>
<p>Test interactions between hooks and components in isolation from full E2E flow.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="new-test-files">New Test Files:<a href="#new-test-files" class="hash-link" aria-label="Direct link to New Test Files:" title="Direct link to New Test Files:" translate="no">​</a></h4>
<ol>
<li class="">
<p><strong><code>GraphRenderer.integration.test.tsx</code></strong></p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Test GraphRenderer with all hooks integrated</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> Test component renders </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> all hooks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> Test hook </span><span class="token function" style="color:#d73a49">interactions</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">g</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dimension changes trigger re</span><span class="token operator" style="color:#393A34">-</span><span class="token plain">render</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> Test state synchronization between hooks</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> Use React Testing Library</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong><code>GraphHooks.integration.test.tsx</code></strong></p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Test hook interactions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> Test useGraphDimensions </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> useGraphState interaction</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> Test useGraphInteractions </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> useGraphCanvasSetup interaction</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> Test useGraphUrlFragment </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> useGraphState interaction</span><br></span></code></pre></div></div>
</li>
</ol>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="test-update-checklist-per-phase">Test Update Checklist Per Phase<a href="#test-update-checklist-per-phase" class="hash-link" aria-label="Direct link to Test Update Checklist Per Phase" title="Direct link to Test Update Checklist Per Phase" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="phase-1-extract-constants--drawing-utilities">Phase 1: Extract Constants &amp; Drawing Utilities<a href="#phase-1-extract-constants--drawing-utilities" class="hash-link" aria-label="Direct link to Phase 1: Extract Constants &amp; Drawing Utilities" title="Direct link to Phase 1: Extract Constants &amp; Drawing Utilities" translate="no">​</a></h4>
<ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Create <code>GraphCanvasDrawingUtils.test.ts</code></li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Create <code>GraphEdgeDrawingUtils.test.ts</code></li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Create <code>graphConstants.test.ts</code></li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Update <code>GraphRenderer.title.test.ts</code> imports if needed</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Run unit tests: <code>yarn test</code></li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Verify all tests pass</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="phase-2-extract-dimension-calculations">Phase 2: Extract Dimension Calculations<a href="#phase-2-extract-dimension-calculations" class="hash-link" aria-label="Direct link to Phase 2: Extract Dimension Calculations" title="Direct link to Phase 2: Extract Dimension Calculations" translate="no">​</a></h4>
<ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Create <code>useGraphDimensions.test.ts</code></li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Test mobile vs desktop calculations</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Test pane visibility impact</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Run unit tests: <code>yarn test</code></li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Run E2E tests: <code>yarn test:e2e</code> (verify no regressions)</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="phase-3-extract-event-handlers">Phase 3: Extract Event Handlers<a href="#phase-3-extract-event-handlers" class="hash-link" aria-label="Direct link to Phase 3: Extract Event Handlers" title="Direct link to Phase 3: Extract Event Handlers" translate="no">​</a></h4>
<ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Enhance <code>useGraphInteractions.test.ts</code> (if exists)</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Test all event handlers in isolation</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Run unit tests: <code>yarn test</code></li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Run E2E tests: <code>yarn test:e2e</code> (verify interactions still work)</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="phase-4-extract-canvas-setup">Phase 4: Extract Canvas Setup<a href="#phase-4-extract-canvas-setup" class="hash-link" aria-label="Direct link to Phase 4: Extract Canvas Setup" title="Direct link to Phase 4: Extract Canvas Setup" translate="no">​</a></h4>
<ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Create <code>useGraphCanvasSetup.test.ts</code></li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Test canvas ref setup</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Test event listener registration</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Run unit tests: <code>yarn test</code></li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Run E2E tests: <code>yarn test:e2e</code> (verify canvas still renders)</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="phase-5-extract-menu-components">Phase 5: Extract Menu Components<a href="#phase-5-extract-menu-components" class="hash-link" aria-label="Direct link to Phase 5: Extract Menu Components" title="Direct link to Phase 5: Extract Menu Components" translate="no">​</a></h4>
<ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Create <code>GraphRightClickMenu.test.tsx</code></li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Create <code>GraphContextMenu.test.tsx</code></li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Test menu rendering and interactions</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Run unit tests: <code>yarn test</code></li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Run E2E tests: <code>yarn test:e2e</code> (verify menus still work)</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="phase-6-extract-url-fragment-handling">Phase 6: Extract URL Fragment Handling<a href="#phase-6-extract-url-fragment-handling" class="hash-link" aria-label="Direct link to Phase 6: Extract URL Fragment Handling" title="Direct link to Phase 6: Extract URL Fragment Handling" translate="no">​</a></h4>
<ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Create <code>useGraphUrlFragment.test.ts</code></li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Test URL parsing and highlighting</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Run unit tests: <code>yarn test</code></li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Run E2E tests: <code>yarn test:e2e</code> (verify URL hash still works)</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="phase-7-extract-menu-handlers">Phase 7: Extract Menu Handlers<a href="#phase-7-extract-menu-handlers" class="hash-link" aria-label="Direct link to Phase 7: Extract Menu Handlers" title="Direct link to Phase 7: Extract Menu Handlers" translate="no">​</a></h4>
<ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Create <code>useGraphMenuHandlers.test.ts</code></li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Test clipboard API interactions</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Test pane toggle</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Run unit tests: <code>yarn test</code></li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Run E2E tests: <code>yarn test:e2e</code> (verify menu actions still work)</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="phase-8-refactor-main-component">Phase 8: Refactor Main Component<a href="#phase-8-refactor-main-component" class="hash-link" aria-label="Direct link to Phase 8: Refactor Main Component" title="Direct link to Phase 8: Refactor Main Component" translate="no">​</a></h4>
<ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Create <code>GraphRenderer.integration.test.tsx</code></li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Test full component with all hooks</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Run all unit tests: <code>yarn test</code></li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Run all E2E tests: <code>yarn test:e2e</code></li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Visual regression test in Storybook</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Performance test (ensure no degradation)</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="test-maintenance-strategy">Test Maintenance Strategy<a href="#test-maintenance-strategy" class="hash-link" aria-label="Direct link to Test Maintenance Strategy" title="Direct link to Test Maintenance Strategy" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="after-each-phase">After Each Phase:<a href="#after-each-phase" class="hash-link" aria-label="Direct link to After Each Phase:" title="Direct link to After Each Phase:" translate="no">​</a></h4>
<ol>
<li class="">
<p><strong>Run Test Suite</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Unit tests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yarn test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># E2E tests</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yarn test:e2e</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># With coverage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yarn test:coverage</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Update Test Documentation</strong></p>
<ul>
<li class="">Update <code>test/README.md</code> if test structure changes</li>
<li class="">Update <code>test/e2e/README.md</code> if E2E tests change</li>
<li class="">Update <code>test/unit/README.md</code> if unit tests change</li>
</ul>
</li>
<li class="">
<p><strong>Fix Broken Tests</strong></p>
<ul>
<li class="">Update imports if code moves</li>
<li class="">Update mocks if APIs change</li>
<li class="">Update selectors if component structure changes</li>
</ul>
</li>
<li class="">
<p><strong>Add New Tests</strong></p>
<ul>
<li class="">Add tests for newly extracted code</li>
<li class="">Ensure coverage doesn&#x27;t decrease</li>
<li class="">Add integration tests for hook interactions</li>
</ul>
</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="test-coverage-goals">Test Coverage Goals:<a href="#test-coverage-goals" class="hash-link" aria-label="Direct link to Test Coverage Goals:" title="Direct link to Test Coverage Goals:" translate="no">​</a></h4>
<ul>
<li class=""><strong>Unit Tests</strong>: &gt; 80% coverage for utility functions</li>
<li class=""><strong>Hook Tests</strong>: &gt; 70% coverage for custom hooks</li>
<li class=""><strong>Component Tests</strong>: &gt; 60% coverage for components</li>
<li class=""><strong>E2E Tests</strong>: Cover all critical user flows</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="regression-testing">Regression Testing<a href="#regression-testing" class="hash-link" aria-label="Direct link to Regression Testing" title="Direct link to Regression Testing" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="visual-regression-tests">Visual Regression Tests<a href="#visual-regression-tests" class="hash-link" aria-label="Direct link to Visual Regression Tests" title="Direct link to Visual Regression Tests" translate="no">​</a></h4>
<ul>
<li class="">Use Storybook for visual regression testing</li>
<li class="">Compare screenshots before/after refactoring</li>
<li class="">Test all graph states (expanded, collapsed, selected, etc.)</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="performance-regression-tests">Performance Regression Tests<a href="#performance-regression-tests" class="hash-link" aria-label="Direct link to Performance Regression Tests" title="Direct link to Performance Regression Tests" translate="no">​</a></h4>
<ul>
<li class="">Measure render time before/after refactoring</li>
<li class="">Measure memory usage</li>
<li class="">Test with large graphs (100+ nodes)</li>
<li class="">Ensure no performance degradation</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="functional-regression-tests">Functional Regression Tests<a href="#functional-regression-tests" class="hash-link" aria-label="Direct link to Functional Regression Tests" title="Direct link to Functional Regression Tests" translate="no">​</a></h4>
<ul>
<li class="">Run full E2E test suite after each phase</li>
<li class="">Test all user interactions</li>
<li class="">Test all responsive breakpoints</li>
<li class="">Test all pane visibility states</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="test-utilities-to-create">Test Utilities to Create<a href="#test-utilities-to-create" class="hash-link" aria-label="Direct link to Test Utilities to Create" title="Direct link to Test Utilities to Create" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="testutilsgraphhooktestutilsts-new"><code>test/utils/graphHookTestUtils.ts</code> (New)<a href="#testutilsgraphhooktestutilsts-new" class="hash-link" aria-label="Direct link to testutilsgraphhooktestutilsts-new" title="Direct link to testutilsgraphhooktestutilsts-new" translate="no">​</a></h4>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> renderHook </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@testing-library/react&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> ReactNode </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;react&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token doc-comment comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token doc-comment comment" style="color:#999988;font-style:italic"> * Renders a graph hook with necessary providers</span><br></span><span class="token-line" style="color:#393A34"><span class="token doc-comment comment" style="color:#999988;font-style:italic"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token generic-function function" style="color:#d73a49">renderGraphHook</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name constant" style="color:#36acaa">T</span><span class="token generic-function generic class-name operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">hook</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">T</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  options</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    wrapper</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> children </span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> children</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> ReactNode </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token constant" style="color:#36acaa">JSX</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Element</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Implementation</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token doc-comment comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token doc-comment comment" style="color:#999988;font-style:italic"> * Creates a mock graph ref for testing</span><br></span><span class="token-line" style="color:#393A34"><span class="token doc-comment comment" style="color:#999988;font-style:italic"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">createMockGraphRef</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Implementation</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token doc-comment comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token doc-comment comment" style="color:#999988;font-style:italic"> * Creates mock graph data for testing</span><br></span><span class="token-line" style="color:#393A34"><span class="token doc-comment comment" style="color:#999988;font-style:italic"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">createMockGraphData</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Implementation</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="testutilsgraphcomponenttestutilstsx-new"><code>test/utils/graphComponentTestUtils.tsx</code> (New)<a href="#testutilsgraphcomponenttestutilstsx-new" class="hash-link" aria-label="Direct link to testutilsgraphcomponenttestutilstsx-new" title="Direct link to testutilsgraphcomponenttestutilstsx-new" translate="no">​</a></h4>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token doc-comment comment" style="color:#999988;font-style:italic">/**</span><br></span><span class="token-line" style="color:#393A34"><span class="token doc-comment comment" style="color:#999988;font-style:italic"> * Utilities for testing graph components</span><br></span><span class="token-line" style="color:#393A34"><span class="token doc-comment comment" style="color:#999988;font-style:italic"> */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">renderGraphComponent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">props</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> GraphRendererProps</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Implementation with all necessary providers</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">waitForGraphToStabilize</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Helper to wait for force graph to stabilize</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="e2e-test-updates">E2E Test Updates<a href="#e2e-test-updates" class="hash-link" aria-label="Direct link to E2E Test Updates" title="Direct link to E2E Test Updates" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="minimal-changes-required">Minimal Changes Required<a href="#minimal-changes-required" class="hash-link" aria-label="Direct link to Minimal Changes Required" title="Direct link to Minimal Changes Required" translate="no">​</a></h4>
<p>E2E tests should require minimal changes because they test the public API. However:</p>
<ol>
<li class="">
<p><strong>Selector Updates</strong> (if component structure changes)</p>
<ul>
<li class="">Update canvas selectors if wrapper structure changes</li>
<li class="">Update menu selectors if menu components are extracted</li>
</ul>
</li>
<li class="">
<p><strong>Wait Strategy Updates</strong> (if initialization changes)</p>
<ul>
<li class="">Update wait times if hook initialization changes</li>
<li class="">Update wait conditions if component mounting changes</li>
</ul>
</li>
<li class="">
<p><strong>Screenshot Updates</strong> (if visual changes)</p>
<ul>
<li class="">Update baseline screenshots if rendering changes</li>
<li class="">Add new screenshots for new features</li>
</ul>
</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="e2e-test-maintenance">E2E Test Maintenance<a href="#e2e-test-maintenance" class="hash-link" aria-label="Direct link to E2E Test Maintenance" title="Direct link to E2E Test Maintenance" translate="no">​</a></h4>
<ul>
<li class="">Keep E2E tests focused on user-facing behavior</li>
<li class="">Don&#x27;t test internal implementation details</li>
<li class="">Use page objects if tests become complex</li>
<li class="">Add visual regression tests for critical UI states</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="blog-post-and-documentation-updates">Blog Post and Documentation Updates<a href="#blog-post-and-documentation-updates" class="hash-link" aria-label="Direct link to Blog Post and Documentation Updates" title="Direct link to Blog Post and Documentation Updates" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="files-that-import-graph-components">Files That Import Graph Components<a href="#files-that-import-graph-components" class="hash-link" aria-label="Direct link to Files That Import Graph Components" title="Direct link to Files That Import Graph Components" translate="no">​</a></h4>
<p><strong>Documentation Files:</strong></p>
<ol>
<li class="">
<p><strong><code>docs/6-techniques/3-blogging-techniques/1-embed-structural-components/graph.mdx</code></strong></p>
<ul>
<li class="">Imports: <code>GraphRenderer</code>, <code>NodeRendererDemo</code></li>
<li class="">Usage: Component documentation and examples</li>
<li class="">Impact: <strong>High</strong> - Main component documentation</li>
</ul>
</li>
<li class="">
<p><strong><code>docs/3-mental-models/6-understanding-the-genai-domain/2025-11-10-ai-framework-landscape.md</code></strong></p>
<ul>
<li class="">Imports: <code>AIFrameworkGraph</code></li>
<li class="">Usage: Displays AI framework comparison graph</li>
<li class="">Impact: <strong>High</strong> - Live graph visualization</li>
</ul>
</li>
</ol>
<p><strong>Blog Posts:</strong></p>
<ol>
<li class="">
<p><strong><code>blog/2025-03-07-DFS-vs-BFS.md</code></strong></p>
<ul>
<li class="">May reference graph concepts (needs verification)</li>
<li class="">Impact: <strong>Low</strong> - Likely just mentions, not imports</li>
</ul>
</li>
<li class="">
<p><strong><code>blog/2025-09-27-my-contributions.mdx</code></strong></p>
<ul>
<li class="">May reference graph components (needs verification)</li>
<li class="">Impact: <strong>Low</strong> - Likely just mentions, not imports</li>
</ul>
</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="import-path-updates-required">Import Path Updates Required<a href="#import-path-updates-required" class="hash-link" aria-label="Direct link to Import Path Updates Required" title="Direct link to Import Path Updates Required" translate="no">​</a></h4>
<p>When components move to subdirectories, import paths in MDX files need updates:</p>
<p><strong>Before:</strong></p>
<div class="language-mdx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-mdx codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import GraphRenderer from &#x27;@site/src/components/Graph/GraphRenderer&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import NodeRendererDemo from &#x27;@site/src/components/Graph/NodeRendererDemo&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import AIFrameworkGraph from &#x27;@site/src/components/Graph/AIFrameworkGraph&#x27;;</span><br></span></code></pre></div></div>
<p><strong>After (if components move to subdirectories):</strong></p>
<div class="language-mdx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-mdx codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Option 1: If index.tsx is created, no change needed</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import GraphRenderer from &#x27;@site/src/components/Graph/GraphRenderer&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import NodeRendererDemo from &#x27;@site/src/components/Graph/NodeRendererDemo&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import AIFrameworkGraph from &#x27;@site/src/components/Graph/AIFrameworkGraph&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Option 2: If explicit paths are preferred</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import GraphRenderer from &#x27;@site/src/components/Graph/GraphRenderer/GraphRenderer&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import NodeRendererDemo from &#x27;@site/src/components/Graph/NodeRendererDemo/NodeRendererDemo&#x27;;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import AIFrameworkGraph from &#x27;@site/src/components/Graph/AIFrameworkGraph/AIFrameworkGraph&#x27;;</span><br></span></code></pre></div></div>
<p><strong>Recommendation</strong>: Use <code>index.tsx</code> files so imports don&#x27;t need to change.</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="update-strategy-for-blog-posts-and-docs">Update Strategy for Blog Posts and Docs<a href="#update-strategy-for-blog-posts-and-docs" class="hash-link" aria-label="Direct link to Update Strategy for Blog Posts and Docs" title="Direct link to Update Strategy for Blog Posts and Docs" translate="no">​</a></h4>
<p><strong>Phase 0: Before Reorganization</strong></p>
<ol>
<li class="">
<p><strong>Audit all imports</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Find all files importing Graph components</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">grep -r &quot;from &#x27;@site/src/components/Graph&quot; blog/ docs/</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Document current import paths</strong></p>
<ul>
<li class="">List all files that import Graph components</li>
<li class="">Note which components are imported</li>
<li class="">Create checklist for updates</li>
</ul>
</li>
</ol>
<p><strong>Phase 0: During Reorganization</strong></p>
<ol>
<li class="">
<p><strong>Update import paths</strong> (if needed)</p>
<ul>
<li class="">If using <code>index.tsx</code>, imports may not need changes</li>
<li class="">If not using <code>index.tsx</code>, update all import paths</li>
<li class="">Test each file after updating</li>
</ul>
</li>
<li class="">
<p><strong>Verify components still work</strong></p>
<ul>
<li class="">Build Docusaurus site: <code>make build</code></li>
<li class="">Check each page that uses Graph components</li>
<li class="">Verify graphs render correctly</li>
<li class="">Test interactive features (clicking, zooming, etc.)</li>
</ul>
</li>
</ol>
<p><strong>After Each Refactoring Phase</strong></p>
<ol>
<li class="">
<p><strong>Test affected pages</strong></p>
<ul>
<li class="">Rebuild Docusaurus: <code>make build</code></li>
<li class="">Check pages that use Graph components</li>
<li class="">Verify no regressions</li>
</ul>
</li>
<li class="">
<p><strong>Update documentation if needed</strong></p>
<ul>
<li class="">Update component documentation if APIs change</li>
<li class="">Update examples if usage patterns change</li>
<li class="">Update README files if structure changes</li>
</ul>
</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="files-to-update-checklist">Files to Update Checklist<a href="#files-to-update-checklist" class="hash-link" aria-label="Direct link to Files to Update Checklist" title="Direct link to Files to Update Checklist" translate="no">​</a></h4>
<p><strong>Documentation:</strong></p>
<ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item">
<p><input type="checkbox" disabled=""> <code>docs/6-techniques/3-blogging-techniques/1-embed-structural-components/graph.mdx</code></p>
<ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Update <code>GraphRenderer</code> import if path changes</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Update <code>NodeRendererDemo</code> import if path changes</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Verify examples still work</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Update documentation if component API changes</li>
</ul>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled=""> <code>docs/3-mental-models/6-understanding-the-genai-domain/2025-11-10-ai-framework-landscape.md</code></p>
<ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Update <code>AIFrameworkGraph</code> import if path changes</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Verify graph renders correctly</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Test interactive features</li>
</ul>
</li>
</ul>
<p><strong>Blog Posts:</strong></p>
<ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item">
<p><input type="checkbox" disabled=""> <code>blog/2025-03-07-DFS-vs-BFS.md</code></p>
<ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Check if it actually imports components (may just mention)</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Update if needed</li>
</ul>
</li>
<li class="task-list-item">
<p><input type="checkbox" disabled=""> <code>blog/2025-09-27-my-contributions.mdx</code></p>
<ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Check if it actually imports components (may just mention)</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Update if needed</li>
</ul>
</li>
</ul>
<p><strong>Other Documentation:</strong></p>
<ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Check all files in <code>docs/</code> that mention &quot;graph&quot; or &quot;Graph&quot;<!-- -->
<ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Update import paths if needed</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Update examples if component API changes</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Update code snippets if usage patterns change</li>
</ul>
</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="testing-blog-posts-and-docs">Testing Blog Posts and Docs<a href="#testing-blog-posts-and-docs" class="hash-link" aria-label="Direct link to Testing Blog Posts and Docs" title="Direct link to Testing Blog Posts and Docs" translate="no">​</a></h4>
<p><strong>After Each Phase:</strong></p>
<ol>
<li class="">
<p><strong>Build Docusaurus</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd bytesofpurpose-blog</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">yarn build</span><br></span></code></pre></div></div>
</li>
<li class="">
<p><strong>Check for Build Errors</strong></p>
<ul>
<li class="">Look for import errors</li>
<li class="">Look for component not found errors</li>
<li class="">Fix any broken imports</li>
</ul>
</li>
<li class="">
<p><strong>Visual Verification</strong></p>
<ul>
<li class="">Start dev server: <code>yarn start</code></li>
<li class="">Navigate to each page that uses Graph components</li>
<li class="">Verify graphs render correctly</li>
<li class="">Test interactive features</li>
</ul>
</li>
<li class="">
<p><strong>Anchor Link Testing</strong></p>
<ul>
<li class="">Test URL hash navigation (e.g., <code>#graph-node-123</code>)</li>
<li class="">Verify nodes/edges highlight correctly</li>
<li class="">Verify scrolling to graph works</li>
</ul>
</li>
</ol>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="backward-compatibility-strategy">Backward Compatibility Strategy<a href="#backward-compatibility-strategy" class="hash-link" aria-label="Direct link to Backward Compatibility Strategy" title="Direct link to Backward Compatibility Strategy" translate="no">​</a></h4>
<p><strong>Goal</strong>: Ensure existing blog posts and docs continue to work without changes.</p>
<p><strong>Strategy</strong>:</p>
<ol>
<li class=""><strong>Use index.tsx files</strong> - Allows imports to remain unchanged</li>
<li class=""><strong>Maintain public API</strong> - Don&#x27;t change component props or behavior</li>
<li class=""><strong>Re-export from root</strong> - Consider re-exporting from <code>Graph/index.ts</code> for convenience</li>
</ol>
<p><strong>Example re-export file:</strong></p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// src/components/Graph/index.ts</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Re-export all public components for convenience</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> GraphRenderer </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;./GraphRenderer&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> AIFrameworkGraph </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;./AIFrameworkGraph&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> NodeRendererDemo </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;./NodeRendererDemo&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> GraphRendererProps </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;./GraphRenderer&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>This allows imports like:</p>
<div class="language-mdx codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-mdx codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import { GraphRenderer, AIFrameworkGraph } from &#x27;@site/src/components/Graph&#x27;;</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="documentation-update-guidelines">Documentation Update Guidelines<a href="#documentation-update-guidelines" class="hash-link" aria-label="Direct link to Documentation Update Guidelines" title="Direct link to Documentation Update Guidelines" translate="no">​</a></h4>
<p><strong>When to Update Documentation:</strong></p>
<ul>
<li class="">✅ Component moves to subdirectory (update import paths)</li>
<li class="">✅ Component API changes (update examples)</li>
<li class="">✅ New features added (document new features)</li>
<li class="">✅ Breaking changes (document migration path)</li>
<li class="">❌ Internal refactoring only (no doc updates needed if public API unchanged)</li>
</ul>
<p><strong>What to Update:</strong></p>
<ol>
<li class=""><strong>Import statements</strong> - If paths change</li>
<li class=""><strong>Code examples</strong> - If API changes</li>
<li class=""><strong>Usage patterns</strong> - If best practices change</li>
<li class=""><strong>Component documentation</strong> - If features change</li>
<li class=""><strong>README files</strong> - If structure changes</li>
</ol>
<p><strong>What NOT to Update:</strong></p>
<ul>
<li class="">Internal implementation details (unless relevant to users)</li>
<li class="">File structure (unless it affects imports)</li>
<li class="">Utility functions (unless they&#x27;re part of public API)</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="storybook-story-updates">Storybook Story Updates<a href="#storybook-story-updates" class="hash-link" aria-label="Direct link to Storybook Story Updates" title="Direct link to Storybook Story Updates" translate="no">​</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="story-path-updates">Story Path Updates<a href="#story-path-updates" class="hash-link" aria-label="Direct link to Story Path Updates" title="Direct link to Story Path Updates" translate="no">​</a></h4>
<p>When components move to subdirectories, Storybook story paths may need updates:</p>
<p><strong>Before:</strong></p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// GraphMenuBar.stories.tsx (at root)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> Meta </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@storybook/addon-docs/blocks&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">Meta title</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Graph/GraphMenuBar&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><br></span></code></pre></div></div>
<p><strong>After:</strong></p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// GraphMenuBar/GraphMenuBar.stories.tsx</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> Meta </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@storybook/addon-docs/blocks&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">Meta title</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Graph/GraphMenuBar&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Path stays the same - Storybook uses title, not file path</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="story-co-location-benefits">Story Co-location Benefits<a href="#story-co-location-benefits" class="hash-link" aria-label="Direct link to Story Co-location Benefits" title="Direct link to Story Co-location Benefits" translate="no">​</a></h4>
<ul>
<li class="">Stories live next to components</li>
<li class="">Easy to find component documentation</li>
<li class="">Stories can import from <code>./ComponentName</code> (same directory)</li>
<li class="">Better organization in Storybook sidebar</li>
</ul>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="story-import-updates">Story Import Updates<a href="#story-import-updates" class="hash-link" aria-label="Direct link to Story Import Updates" title="Direct link to Story Import Updates" translate="no">​</a></h4>
<p>When components move to subdirectories:</p>
<p><strong>Before:</strong></p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// GraphMenuBar.stories.tsx</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> GraphMenuBar </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;./GraphMenuBar&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p><strong>After:</strong></p>
<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// GraphMenuBar/GraphMenuBar.stories.tsx</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> GraphMenuBar </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;./GraphMenuBar&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Same directory</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// OR</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> GraphMenuBar </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;.&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// From index.tsx</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="migration-checklist">Migration Checklist<a href="#migration-checklist" class="hash-link" aria-label="Direct link to Migration Checklist" title="Direct link to Migration Checklist" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="phase-0-reorganization-before-refactoring">Phase 0: Reorganization (Before Refactoring)<a href="#phase-0-reorganization-before-refactoring" class="hash-link" aria-label="Direct link to Phase 0: Reorganization (Before Refactoring)" title="Direct link to Phase 0: Reorganization (Before Refactoring)" translate="no">​</a></h3>
<ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Create subdirectories for existing components</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Move component files to subdirectories</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Create index.tsx files for each component</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Move stories to component subdirectories</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Create hooks/ subdirectory</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Move hooks to hooks/ subdirectory</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Create hooks/index.ts</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Create utils/ subdirectory (if needed)</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Update all imports in GraphRenderer</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Update all imports in stories</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Update all imports in tests</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <strong>Audit blog posts and docs for Graph component imports</strong></li>
<li class="task-list-item"><input type="checkbox" disabled=""> <strong>Update import paths in blog posts and docs (if needed)</strong></li>
<li class="task-list-item"><input type="checkbox" disabled=""> <strong>Build Docusaurus: <code>make build</code></strong></li>
<li class="task-list-item"><input type="checkbox" disabled=""> <strong>Verify all pages with Graph components render correctly</strong></li>
<li class="task-list-item"><input type="checkbox" disabled=""> <strong>Test interactive features in blog posts/docs</strong></li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Run tests: <code>yarn test</code></li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Run E2E tests: <code>yarn test:e2e</code></li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Verify Storybook stories work</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Update Storybook story paths if needed</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Test in Docusaurus</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Code review</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Merge</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="for-each-refactoring-phase">For Each Refactoring Phase:<a href="#for-each-refactoring-phase" class="hash-link" aria-label="Direct link to For Each Refactoring Phase:" title="Direct link to For Each Refactoring Phase:" translate="no">​</a></h3>
<ul class="contains-task-list containsTaskList_mC6p">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Create new file(s) in appropriate subdirectory</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Move code to new file(s)</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Create index.tsx if new component</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Create stories in component subdirectory</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Update imports in GraphRenderer</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Update imports in stories</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Update imports in tests</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <strong>Build Docusaurus: <code>make build</code></strong></li>
<li class="task-list-item"><input type="checkbox" disabled=""> <strong>Verify blog posts/docs with Graph components still work</strong></li>
<li class="task-list-item"><input type="checkbox" disabled=""> <strong>Test interactive features in blog posts/docs</strong></li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Run tests</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Check Storybook stories</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Test in Docusaurus</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Update documentation (if API changes)</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Code review</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->Merge</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="success-criteria">Success Criteria<a href="#success-criteria" class="hash-link" aria-label="Direct link to Success Criteria" title="Direct link to Success Criteria" translate="no">​</a></h2>
<ol>
<li class="">✅ GraphRenderer.tsx reduced to &lt; 500 lines</li>
<li class="">✅ All existing functionality preserved</li>
<li class="">✅ No performance degradation</li>
<li class="">✅ All tests passing</li>
<li class="">✅ Storybook stories working</li>
<li class="">✅ Docusaurus integration working</li>
<li class="">✅ Code review approved</li>
<li class="">✅ Documentation updated</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="notes">Notes<a href="#notes" class="hash-link" aria-label="Direct link to Notes" title="Direct link to Notes" translate="no">​</a></h2>
<ul>
<li class=""><strong>Incremental Approach</strong>: Each phase is independent and can be merged separately</li>
<li class=""><strong>Backward Compatibility</strong>: Maintain existing public API</li>
<li class=""><strong>Type Safety</strong>: Ensure all extracted code is properly typed</li>
<li class=""><strong>Performance</strong>: Monitor for any performance regressions</li>
<li class=""><strong>Documentation</strong>: Update JSDoc comments as code moves</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="potential-challenges">Potential Challenges<a href="#potential-challenges" class="hash-link" aria-label="Direct link to Potential Challenges" title="Direct link to Potential Challenges" translate="no">​</a></h2>
<ol>
<li class=""><strong>Circular Dependencies</strong>: Watch for circular imports between utilities</li>
<li class=""><strong>Hook Dependencies</strong>: Ensure all hook dependencies are correctly passed</li>
<li class=""><strong>Ref Management</strong>: Graph ref needs careful handling across hooks</li>
<li class=""><strong>State Synchronization</strong>: Ensure state updates don&#x27;t cause infinite loops</li>
<li class=""><strong>Event Handler Context</strong>: Ensure event handlers have correct context</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="future-improvements-post-refactoring">Future Improvements (Post-Refactoring)<a href="#future-improvements-post-refactoring" class="hash-link" aria-label="Direct link to Future Improvements (Post-Refactoring)" title="Direct link to Future Improvements (Post-Refactoring)" translate="no">​</a></h2>
<ol>
<li class="">Consider extracting ForceGraph2D wrapper to separate component</li>
<li class="">Consider using React Context for graph state (if needed)</li>
<li class="">Consider memoization optimizations</li>
<li class="">Consider TypeScript strict mode improvements</li>
<li class="">Consider adding more comprehensive error boundaries</li>
</ol>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="execution-results--attempts">Execution Results / Attempts<a href="#execution-results--attempts" class="hash-link" aria-label="Direct link to Execution Results / Attempts" title="Direct link to Execution Results / Attempts" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="-work-in-progress-2025-11-08-to-2025-11-17">✅ Work In Progress (2025-11-08 to 2025-11-17)<a href="#-work-in-progress-2025-11-08-to-2025-11-17" class="hash-link" aria-label="Direct link to ✅ Work In Progress (2025-11-08 to 2025-11-17)" title="Direct link to ✅ Work In Progress (2025-11-08 to 2025-11-17)" translate="no">​</a></h3>
<p><strong>Work Period:</strong> November 8, 2025 to November 17, 2025</p>
<p><strong>Commits:</strong> 10 commits related to graph component refactoring</p>
<p><strong>Key Accomplishments:</strong></p>
<ul>
<li class="">Initial graph component implementation</li>
<li class="">Added menu bar to graph component</li>
<li class="">Made graph component reactive/responsive</li>
<li class="">Added anchor links to specific nodes in graphs</li>
<li class="">Added integration and E2E tests for graph component</li>
<li class="">Checkpointed graph renderer refactoring work</li>
<li class="">Finalized graph component as part of blog structure overhaul</li>
<li class="">Revamped graph component with modularization</li>
<li class="">Added Storybook tab to document components</li>
<li class="">Improved graph rendering on mobile devices</li>
</ul>
<p><strong>Notable Commits:</strong></p>
<ul>
<li class=""><code>a64d629e</code> (2025-11-08): Updating authors and adding graph component plus stats structures and algos</li>
<li class=""><code>7333d884</code> (2025-11-08): Making graph component reactive</li>
<li class=""><code>d2e8bf6d</code> (2025-11-08): Adding menu bar to graph component</li>
<li class=""><code>92e82a04</code> (2025-11-08): Added ability to have anchor links to specific nodes in specific graphs</li>
<li class=""><code>f57ee652</code> (2025-11-10): Adding integ and e2e tests for graph component</li>
<li class=""><code>b5c58a8a</code> (2025-11-10): Checkpointing graph renderer</li>
<li class=""><code>cca8ae25</code> (2025-11-12): Big blog structure overhaul + finalization of graph component</li>
<li class=""><code>e657ebde</code> (2025-11-12): Revamp to readmes plus fix for graph</li>
<li class=""><code>7634d68b</code> (2025-11-16): Revamping graph component, modularizing it, etc. Also added storybook tab to document components</li>
<li class=""><code>6ec4aaac</code> (2025-11-17): Revamp component setup, story book stories, graph render on mobile, etc</li>
</ul>
<p><strong>Status:</strong> Work is in progress. The graph component has been significantly refactored and modularized, with Storybook integration added for documentation. Mobile responsiveness has been improved. Further refactoring work continues based on the comprehensive plan outlined above.</p></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/omars-lab/omars-lab.github.io/edit/master/bytesofpurpose-blog/changelog/changelog/development/2025-XX-XX-component-refactoring-graph-renderer.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/changelog/README"><div class="pagination-nav__sublabel">Newer post</div><div class="pagination-nav__label">Changelog Directory Structure</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/changelog/2025/11/17/development/component-refactoring-graph-component"><div class="pagination-nav__sublabel">Older post</div><div class="pagination-nav__label">Graph Component Refactoring Summary</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#execution-plan" class="table-of-contents__link toc-highlight">Execution Plan</a><ul><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li></ul></li><li><a href="#component-organization-strategy" class="table-of-contents__link toc-highlight">Component Organization Strategy</a><ul><li><a href="#subdirectory-structure-with-index-files" class="table-of-contents__link toc-highlight">Subdirectory Structure with Index Files</a></li></ul></li><li><a href="#current-state-analysis" class="table-of-contents__link toc-highlight">Current State Analysis</a><ul><li><a href="#file-size-3382-lines" class="table-of-contents__link toc-highlight">File Size: 3382 lines</a></li><li><a href="#main-sections" class="table-of-contents__link toc-highlight">Main Sections:</a></li><li><a href="#existing-utilities-already-extracted" class="table-of-contents__link toc-highlight">Existing Utilities (Already Extracted):</a></li><li><a href="#existing-components-already-extracted" class="table-of-contents__link toc-highlight">Existing Components (Already Extracted):</a></li></ul></li><li><a href="#refactoring-strategy" class="table-of-contents__link toc-highlight">Refactoring Strategy</a><ul><li><a href="#phase-1-extract-canvas-drawing-utilities-low-risk" class="table-of-contents__link toc-highlight">Phase 1: Extract Canvas Drawing Utilities (Low Risk)</a></li><li><a href="#phase-2-extract-dimension-calculation-logic-low-risk" class="table-of-contents__link toc-highlight">Phase 2: Extract Dimension Calculation Logic (Low Risk)</a></li><li><a href="#phase-3-extract-event-handlers-medium-risk" class="table-of-contents__link toc-highlight">Phase 3: Extract Event Handlers (Medium Risk)</a></li><li><a href="#phase-4-extract-canvas-setup-logic-medium-risk" class="table-of-contents__link toc-highlight">Phase 4: Extract Canvas Setup Logic (Medium Risk)</a></li><li><a href="#phase-5-extract-menu-components-low-risk" class="table-of-contents__link toc-highlight">Phase 5: Extract Menu Components (Low Risk)</a></li><li><a href="#phase-6-extract-url-fragment-handling-low-risk" class="table-of-contents__link toc-highlight">Phase 6: Extract URL Fragment Handling (Low Risk)</a></li><li><a href="#phase-7-extract-constants-low-risk" class="table-of-contents__link toc-highlight">Phase 7: Extract Constants (Low Risk)</a></li><li><a href="#phase-8-refactor-main-component-high-risk---do-last" class="table-of-contents__link toc-highlight">Phase 8: Refactor Main Component (High Risk - Do Last)</a></li></ul></li><li><a href="#implementation-order-risk-based" class="table-of-contents__link toc-highlight">Implementation Order (Risk-Based)</a><ul><li><a href="#phase-0-reorganize-structure-week-0---prerequisite" class="table-of-contents__link toc-highlight">Phase 0: Reorganize Structure (Week 0 - Prerequisite)</a></li><li><a href="#week-1-low-risk-extractions" class="table-of-contents__link toc-highlight">Week 1: Low-Risk Extractions</a></li><li><a href="#week-2-medium-risk-extractions" class="table-of-contents__link toc-highlight">Week 2: Medium-Risk Extractions</a></li><li><a href="#week-3-high-risk-integration" class="table-of-contents__link toc-highlight">Week 3: High-Risk Integration</a></li></ul></li><li><a href="#testing-strategy" class="table-of-contents__link toc-highlight">Testing Strategy</a><ul><li><a href="#test-directory-structure" class="table-of-contents__link toc-highlight">Test Directory Structure</a></li><li><a href="#unit-tests-jest---testunit" class="table-of-contents__link toc-highlight">Unit Tests (Jest) - <code>test/unit/</code></a></li><li><a href="#end-to-end-tests-playwright---teste2e" class="table-of-contents__link toc-highlight">End-to-End Tests (Playwright) - <code>test/e2e/</code></a></li><li><a href="#integration-tests-new-category" class="table-of-contents__link toc-highlight">Integration Tests (New Category)</a></li><li><a href="#test-update-checklist-per-phase" class="table-of-contents__link toc-highlight">Test Update Checklist Per Phase</a></li><li><a href="#test-maintenance-strategy" class="table-of-contents__link toc-highlight">Test Maintenance Strategy</a></li><li><a href="#regression-testing" class="table-of-contents__link toc-highlight">Regression Testing</a></li><li><a href="#test-utilities-to-create" class="table-of-contents__link toc-highlight">Test Utilities to Create</a></li><li><a href="#e2e-test-updates" class="table-of-contents__link toc-highlight">E2E Test Updates</a></li><li><a href="#blog-post-and-documentation-updates" class="table-of-contents__link toc-highlight">Blog Post and Documentation Updates</a></li><li><a href="#storybook-story-updates" class="table-of-contents__link toc-highlight">Storybook Story Updates</a></li></ul></li><li><a href="#migration-checklist" class="table-of-contents__link toc-highlight">Migration Checklist</a><ul><li><a href="#phase-0-reorganization-before-refactoring" class="table-of-contents__link toc-highlight">Phase 0: Reorganization (Before Refactoring)</a></li><li><a href="#for-each-refactoring-phase" class="table-of-contents__link toc-highlight">For Each Refactoring Phase:</a></li></ul></li><li><a href="#success-criteria" class="table-of-contents__link toc-highlight">Success Criteria</a></li><li><a href="#notes" class="table-of-contents__link toc-highlight">Notes</a></li><li><a href="#potential-challenges" class="table-of-contents__link toc-highlight">Potential Challenges</a></li><li><a href="#future-improvements-post-refactoring" class="table-of-contents__link toc-highlight">Future Improvements (Post-Refactoring)</a></li><li><a href="#execution-results--attempts" class="table-of-contents__link toc-highlight">Execution Results / Attempts</a><ul><li><a href="#-work-in-progress-2025-11-08-to-2025-11-17" class="table-of-contents__link toc-highlight">✅ Work In Progress (2025-11-08 to 2025-11-17)</a></li></ul></li></ul></div></div></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Contact</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/omars-lab/omars-lab.github.io" target="_blank" rel="noopener noreferrer" class="footer__link-item" position="right">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/in/oeid/" target="_blank" rel="noopener noreferrer" class="footer__link-item" position="right">LinkedIn<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="mailto:contact@rythome.com" target="_blank" rel="noopener noreferrer" class="footer__link-item" position="right">Email<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.paypal.com/donate?business=UQ2SHCNPFYBJY&amp;amount=1&amp;no_recurring=0&amp;item_name=Support+a+Developer&amp;currency_code=USD" target="_blank" rel="noopener noreferrer" class="footer__link-item" position="right">Support<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Other Works</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.bytesofpurpose.com" target="_blank" rel="noopener noreferrer" class="footer__link-item" position="right">Portfolio<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.bytesofpurpose.com/resume.pdf" target="_blank" rel="noopener noreferrer" class="footer__link-item" position="right">Resume<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 BytesOfPurpose, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>