"use strict";(globalThis.webpackChunkbytesofpurpose_blog=globalThis.webpackChunkbytesofpurpose_blog||[]).push([[815],{"./src/components/Graph/GraphCanvas.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DarkMode:()=>DarkMode,Default:()=>Default,HighlightedEdge:()=>HighlightedEdge,HighlightedNode:()=>HighlightedNode,WithExpandedNodes:()=>WithExpandedNodes,WithSelectedNode:()=>WithSelectedNode,__namedExportsOrder:()=>__namedExportsOrder,default:()=>GraphCanvas_stories});var react=__webpack_require__("./node_modules/react/index.js"),GraphNodeUtils=__webpack_require__("./src/components/Graph/GraphNodeUtils.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const GraphCanvas=({ForceGraph2D,graphData,width,height,backgroundColor,linkColor,arrowColor,nodeBorderColor,highlightedNodeId,highlightedEdgeId,selectedNode,expandedNodes,isDarkMode,graphRef,nodeRenderer,linkCanvasObjectMode,linkCanvasObject,onNodeClick,onNodeRightClick,onLinkClick,onLinkRightClick,onNodeDrag,onNodeDragEnd,onZoom})=>{const memoizedGraphData=(0,react.useMemo)(()=>graphData,[graphData]),nodeLabel=(0,react.useCallback)(node=>(0,GraphNodeUtils.v0)(node),[]),nodeVal=(0,react.useCallback)(node=>(0,GraphNodeUtils.bf)(node.hasChildren),[]),linkColorFn=(0,react.useCallback)(link=>"differentiating"===link.type?"rgba(0,0,0,0)":linkColor,[linkColor]),linkWidthFn=(0,react.useCallback)(link=>{if("differentiating"===link.type)return.1;const baseWidth=Math.max(2,2*Math.sqrt(link.value||1));return highlightedEdgeId===link.id?1.5*baseWidth:baseWidth},[highlightedEdgeId]),linkDirectionalArrowLengthFn=(0,react.useCallback)(link=>"differentiating"===link.type?0:6,[]),linkDirectionalArrowRelPosFn=(0,react.useCallback)(()=>1,[]),linkDirectionalArrowColorFn=(0,react.useCallback)(link=>"differentiating"===link.type?"rgba(0,0,0,0)":arrowColor,[arrowColor]);return(0,jsx_runtime.jsx)(ForceGraph2D,{ref:graphRef,graphData:memoizedGraphData,width,height,backgroundColor,nodeLabel,nodeVal,linkColor:linkColorFn,linkWidth:linkWidthFn,linkDirectionalArrowLength:linkDirectionalArrowLengthFn,linkDirectionalArrowRelPos:linkDirectionalArrowRelPosFn,linkDirectionalArrowColor:linkDirectionalArrowColorFn,onNodeClick,onNodeRightClick,onLinkClick,onLinkRightClick,onNodeDrag,onNodeDragEnd,onZoom,nodeCanvasObjectMode:()=>"replace",nodeCanvasObject:nodeRenderer,linkCanvasObjectMode,linkCanvasObject,cooldownTicks:100,onEngineStop:()=>{}})};try{GraphCanvas.displayName="GraphCanvas",GraphCanvas.__docgenInfo={description:"Canvas component wrapper for ForceGraph2D.",displayName:"GraphCanvas",props:{ForceGraph2D:{defaultValue:null,description:"",name:"ForceGraph2D",required:!0,type:{name:"any"}},graphData:{defaultValue:null,description:"",name:"graphData",required:!0,type:{name:"any"}},width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},backgroundColor:{defaultValue:null,description:"",name:"backgroundColor",required:!0,type:{name:"string"}},linkColor:{defaultValue:null,description:"",name:"linkColor",required:!0,type:{name:"string"}},arrowColor:{defaultValue:null,description:"",name:"arrowColor",required:!0,type:{name:"string"}},nodeBorderColor:{defaultValue:null,description:"",name:"nodeBorderColor",required:!0,type:{name:"string"}},highlightedNodeId:{defaultValue:null,description:"",name:"highlightedNodeId",required:!0,type:{name:"string"}},highlightedEdgeId:{defaultValue:null,description:"",name:"highlightedEdgeId",required:!0,type:{name:"string"}},selectedNode:{defaultValue:null,description:"",name:"selectedNode",required:!0,type:{name:"any"}},expandedNodes:{defaultValue:null,description:"",name:"expandedNodes",required:!0,type:{name:"Set<string>"}},isDarkMode:{defaultValue:null,description:"",name:"isDarkMode",required:!0,type:{name:"boolean"}},graphRef:{defaultValue:null,description:"",name:"graphRef",required:!0,type:{name:"RefObject<any>"}},nodeRenderer:{defaultValue:null,description:"",name:"nodeRenderer",required:!0,type:{name:"(node: any, ctx: CanvasRenderingContext2D, globalScale: number) => void"}},linkCanvasObjectMode:{defaultValue:null,description:"",name:"linkCanvasObjectMode",required:!0,type:{name:'(link: any) => "replace" | "after" | "before"'}},linkCanvasObject:{defaultValue:null,description:"",name:"linkCanvasObject",required:!0,type:{name:"(link: any, ctx: CanvasRenderingContext2D, globalScale: number) => void"}},onNodeClick:{defaultValue:null,description:"",name:"onNodeClick",required:!0,type:{name:"(node: any) => void"}},onNodeRightClick:{defaultValue:null,description:"",name:"onNodeRightClick",required:!0,type:{name:"(node: any, event: MouseEvent) => void"}},onLinkClick:{defaultValue:null,description:"",name:"onLinkClick",required:!0,type:{name:"(link: any, event: MouseEvent) => void"}},onLinkRightClick:{defaultValue:null,description:"",name:"onLinkRightClick",required:!0,type:{name:"(link: any, event: MouseEvent) => void"}},onNodeDrag:{defaultValue:null,description:"",name:"onNodeDrag",required:!0,type:{name:"(node: any) => void"}},onNodeDragEnd:{defaultValue:null,description:"",name:"onNodeDragEnd",required:!0,type:{name:"(node: any) => void"}},onZoom:{defaultValue:null,description:"",name:"onZoom",required:!0,type:{name:"(transform: { k: number; x: number; y: number; }) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Graph/GraphCanvas.tsx#GraphCanvas"]={docgenInfo:GraphCanvas.__docgenInfo,name:"GraphCanvas",path:"src/components/Graph/GraphCanvas.tsx#GraphCanvas"})}catch(__react_docgen_typescript_loader_error){}const MockForceGraph2D=react.forwardRef((props,ref)=>(0,jsx_runtime.jsx)("div",{ref,style:{width:props.width||800,height:props.height||600,backgroundColor:props.backgroundColor||"#ffffff",border:"2px dashed #ccc",display:"flex",alignItems:"center",justifyContent:"center",color:"#666",fontSize:"14px"},children:(0,jsx_runtime.jsxs)("div",{style:{textAlign:"center"},children:[(0,jsx_runtime.jsx)("div",{children:"ForceGraph2D Mock"}),(0,jsx_runtime.jsxs)("div",{style:{fontSize:"12px",marginTop:"8px"},children:["Nodes: ",props.graphData?.nodes?.length||0,(0,jsx_runtime.jsx)("br",{}),"Links: ",props.graphData?.links?.length||0]})]})}));MockForceGraph2D.displayName="MockForceGraph2D";const GraphCanvas_stories={title:"Graph/GraphCanvas",component:GraphCanvas,parameters:{layout:"fullscreen",docs:{description:{component:"\nGraphCanvas is a wrapper component for ForceGraph2D that handles canvas rendering.\n\n**Note**: This component requires browser-only dependencies (ForceGraph2D, canvas APIs).\nIn Storybook, we use a mock implementation. In real usage, this component renders\nan interactive force-directed graph.\n\n## Props\n\n- `ForceGraph2D` - The ForceGraph2D component (browser-only)\n- `graphData` - Graph data with nodes and links\n- `width` / `height` - Canvas dimensions\n- `backgroundColor` - Background color\n- `nodeRenderer` - Custom node rendering function\n- `linkCanvasObject` - Custom link rendering function\n- Event handlers: `onNodeClick`, `onLinkClick`, etc.\n        "}}},tags:["autodocs"]},defaultGraphData={nodes:[{id:"1",label:"Node 1",hasChildren:!1},{id:"2",label:"Node 2",hasChildren:!1},{id:"3",label:"Node 3",hasChildren:!0}],links:[{id:"1-2",source:"1",target:"2",value:1},{id:"2-3",source:"2",target:"3",value:1}]},Default={args:{ForceGraph2D:MockForceGraph2D,graphData:defaultGraphData,width:800,height:600,backgroundColor:"#ffffff",linkColor:"#999",arrowColor:"#666",nodeBorderColor:"#333",highlightedNodeId:null,highlightedEdgeId:null,selectedNode:null,expandedNodes:new Set,isDarkMode:!1,graphRef:{current:null},nodeRenderer:(node,ctx,globalScale)=>{},linkCanvasObjectMode:()=>"replace",linkCanvasObject:(link,ctx,globalScale)=>{},onNodeClick:()=>{},onNodeRightClick:()=>{},onLinkClick:()=>{},onLinkRightClick:()=>{},onNodeDrag:()=>{},onNodeDragEnd:()=>{},onZoom:()=>{}}},DarkMode={args:{...Default.args,backgroundColor:"#1a1a1a",linkColor:"#666",arrowColor:"#888",nodeBorderColor:"#aaa",isDarkMode:!0}},HighlightedNode={args:{...Default.args,highlightedNodeId:"2"}},HighlightedEdge={args:{...Default.args,highlightedEdgeId:"1-2"}},WithExpandedNodes={args:{...Default.args,expandedNodes:new Set(["3"])}},WithSelectedNode={args:{...Default.args,selectedNode:defaultGraphData.nodes[0]}},__namedExportsOrder=["Default","DarkMode","HighlightedNode","HighlightedEdge","WithExpandedNodes","WithSelectedNode"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: {\n    ForceGraph2D: MockForceGraph2D,\n    graphData: defaultGraphData,\n    width: 800,\n    height: 600,\n    backgroundColor: '#ffffff',\n    linkColor: '#999',\n    arrowColor: '#666',\n    nodeBorderColor: '#333',\n    highlightedNodeId: null,\n    highlightedEdgeId: null,\n    selectedNode: null,\n    expandedNodes: new Set(),\n    isDarkMode: false,\n    graphRef: {\n      current: null\n    },\n    nodeRenderer: mockNodeRenderer,\n    linkCanvasObjectMode: () => 'replace',\n    linkCanvasObject: mockLinkCanvasObject,\n    onNodeClick: () => {},\n    onNodeRightClick: () => {},\n    onLinkClick: () => {},\n    onLinkRightClick: () => {},\n    onNodeDrag: () => {},\n    onNodeDragEnd: () => {},\n    onZoom: () => {}\n  } as GraphCanvasProps\n}",...Default.parameters?.docs?.source},description:{story:"Default GraphCanvas with basic graph data.",...Default.parameters?.docs?.description}}},DarkMode.parameters={...DarkMode.parameters,docs:{...DarkMode.parameters?.docs,source:{originalSource:"{\n  args: {\n    ...Default.args,\n    backgroundColor: '#1a1a1a',\n    linkColor: '#666',\n    arrowColor: '#888',\n    nodeBorderColor: '#aaa',\n    isDarkMode: true\n  } as GraphCanvasProps\n}",...DarkMode.parameters?.docs?.source},description:{story:"GraphCanvas in dark mode.",...DarkMode.parameters?.docs?.description}}},HighlightedNode.parameters={...HighlightedNode.parameters,docs:{...HighlightedNode.parameters?.docs,source:{originalSource:"{\n  args: {\n    ...Default.args,\n    highlightedNodeId: '2'\n  } as GraphCanvasProps\n}",...HighlightedNode.parameters?.docs?.source},description:{story:"GraphCanvas with highlighted node.",...HighlightedNode.parameters?.docs?.description}}},HighlightedEdge.parameters={...HighlightedEdge.parameters,docs:{...HighlightedEdge.parameters?.docs,source:{originalSource:"{\n  args: {\n    ...Default.args,\n    highlightedEdgeId: '1-2'\n  } as GraphCanvasProps\n}",...HighlightedEdge.parameters?.docs?.source},description:{story:"GraphCanvas with highlighted edge.",...HighlightedEdge.parameters?.docs?.description}}},WithExpandedNodes.parameters={...WithExpandedNodes.parameters,docs:{...WithExpandedNodes.parameters?.docs,source:{originalSource:"{\n  args: {\n    ...Default.args,\n    expandedNodes: new Set(['3'])\n  } as GraphCanvasProps\n}",...WithExpandedNodes.parameters?.docs?.source},description:{story:"GraphCanvas with expanded nodes.",...WithExpandedNodes.parameters?.docs?.description}}},WithSelectedNode.parameters={...WithSelectedNode.parameters,docs:{...WithSelectedNode.parameters?.docs,source:{originalSource:"{\n  args: {\n    ...Default.args,\n    selectedNode: defaultGraphData.nodes[0]\n  } as GraphCanvasProps\n}",...WithSelectedNode.parameters?.docs?.source},description:{story:"GraphCanvas with selected node.",...WithSelectedNode.parameters?.docs?.description}}};try{Default.displayName="Default",Default.__docgenInfo={description:"Default GraphCanvas with basic graph data.",displayName:"Default",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Graph/GraphCanvas.stories.tsx#Default"]={docgenInfo:Default.__docgenInfo,name:"Default",path:"src/components/Graph/GraphCanvas.stories.tsx#Default"})}catch(__react_docgen_typescript_loader_error){}try{DarkMode.displayName="DarkMode",DarkMode.__docgenInfo={description:"GraphCanvas in dark mode.",displayName:"DarkMode",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Graph/GraphCanvas.stories.tsx#DarkMode"]={docgenInfo:DarkMode.__docgenInfo,name:"DarkMode",path:"src/components/Graph/GraphCanvas.stories.tsx#DarkMode"})}catch(__react_docgen_typescript_loader_error){}try{HighlightedNode.displayName="HighlightedNode",HighlightedNode.__docgenInfo={description:"GraphCanvas with highlighted node.",displayName:"HighlightedNode",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Graph/GraphCanvas.stories.tsx#HighlightedNode"]={docgenInfo:HighlightedNode.__docgenInfo,name:"HighlightedNode",path:"src/components/Graph/GraphCanvas.stories.tsx#HighlightedNode"})}catch(__react_docgen_typescript_loader_error){}try{HighlightedEdge.displayName="HighlightedEdge",HighlightedEdge.__docgenInfo={description:"GraphCanvas with highlighted edge.",displayName:"HighlightedEdge",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Graph/GraphCanvas.stories.tsx#HighlightedEdge"]={docgenInfo:HighlightedEdge.__docgenInfo,name:"HighlightedEdge",path:"src/components/Graph/GraphCanvas.stories.tsx#HighlightedEdge"})}catch(__react_docgen_typescript_loader_error){}try{WithExpandedNodes.displayName="WithExpandedNodes",WithExpandedNodes.__docgenInfo={description:"GraphCanvas with expanded nodes.",displayName:"WithExpandedNodes",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Graph/GraphCanvas.stories.tsx#WithExpandedNodes"]={docgenInfo:WithExpandedNodes.__docgenInfo,name:"WithExpandedNodes",path:"src/components/Graph/GraphCanvas.stories.tsx#WithExpandedNodes"})}catch(__react_docgen_typescript_loader_error){}try{WithSelectedNode.displayName="WithSelectedNode",WithSelectedNode.__docgenInfo={description:"GraphCanvas with selected node.",displayName:"WithSelectedNode",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Graph/GraphCanvas.stories.tsx#WithSelectedNode"]={docgenInfo:WithSelectedNode.__docgenInfo,name:"WithSelectedNode",path:"src/components/Graph/GraphCanvas.stories.tsx#WithSelectedNode"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Graph/GraphNodeUtils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{function getNodeRadius(hasChildren){return hasChildren?12:8}function getNodeLabel(node){return node.title||node.name||node.id||""}__webpack_require__.d(__webpack_exports__,{bf:()=>getNodeRadius,v0:()=>getNodeLabel})}}]);