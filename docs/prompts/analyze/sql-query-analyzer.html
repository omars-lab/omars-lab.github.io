<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-prompts/analyze/sql-query-analyzer" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">SQL Query Analyzer | Bytes of Purpose</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:image" content="https://blog.bytesofpurpose.com/img/logo.svg"><meta data-rh="true" name="twitter:image" content="https://blog.bytesofpurpose.com/img/logo.svg"><meta data-rh="true" property="og:url" content="https://blog.bytesofpurpose.com/docs/prompts/analyze/sql-query-analyzer"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" name="twitter:site" content="@rythome"><meta data-rh="true" name="twitter:creator" content="@rythome"><meta data-rh="true" property="og:type" content="website"><meta data-rh="true" property="og:site_name" content="Bytes of Purpose"><meta data-rh="true" property="og:locale" content="en_US"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="SQL Query Analyzer | Bytes of Purpose"><meta data-rh="true" name="description" content="How I use AI to analyze complex SQL queries, generate comprehensive documentation, create visual diagrams, and produce clean, readable code with self-healing capabilities"><meta data-rh="true" property="og:description" content="How I use AI to analyze complex SQL queries, generate comprehensive documentation, create visual diagrams, and produce clean, readable code with self-healing capabilities"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://blog.bytesofpurpose.com/docs/prompts/analyze/sql-query-analyzer"><link data-rh="true" rel="alternate" href="https://blog.bytesofpurpose.com/docs/prompts/analyze/sql-query-analyzer" hreflang="en"><link data-rh="true" rel="alternate" href="https://blog.bytesofpurpose.com/docs/prompts/analyze/sql-query-analyzer" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"üìù Prompts","item":"https://blog.bytesofpurpose.com/docs/prompts/"},{"@type":"ListItem","position":2,"name":"SQL Query Analyzer","item":"https://blog.bytesofpurpose.com/docs/prompts/analyze/sql-query-analyzer"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Bytes of Purpose RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Bytes of Purpose Atom Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-79YSEH7T7X"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-79YSEH7T7X",{})</script>



<link rel="alternate" type="application/rss+xml" href="/designs/rss.xml" title="Bytes of Purpose RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/designs/atom.xml" title="Bytes of Purpose Atom Feed"><link rel="stylesheet" href="/assets/css/styles.8cdfcca7.css">
<script src="/assets/js/runtime~main.a5a0c142.js" defer="defer"></script>
<script src="/assets/js/main.efe8042d.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><link rel="preload" as="image" href="/img/logo_dark.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="BytesOfPurpose Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo_dark.svg" alt="BytesOfPurpose Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">BytesOfPurpose</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/welcome/intro">Docs</a><a class="navbar__item navbar__link" href="/blog">Posts</a><a class="navbar__item navbar__link" href="/designs">Designs</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item"><a class="navbar__brand" href="https://www.paypal.com/donate?business=UQ2SHCNPFYBJY&amount=1&no_recurring=0&item_name=Support+a+Developer&currency_code=USD"><div class="navbar__logo"><img src="/img/support.svg" class="themedImage_node_modules-@docusaurus-theme-classic-lib-next-theme-ThemedImage-styles-module themedImage--light_node_modules-@docusaurus-theme-classic-lib-next-theme-ThemedImage-styles-module"></div><b class="navbar__title text--truncate">Buy Me a Coffee?</b></a></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/welcome/intro">üëã Welcome</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/developing/development">üöÄ Development</a><button aria-label="Expand sidebar category &#x27;üöÄ Development&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/habits/habits-automating">üéØ Habits</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/skills/interviewing">üç≥ Skills</a><button aria-label="Expand sidebar category &#x27;üç≥ Skills&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/techniques/mechanics">üîß Techniques</a><button aria-label="Expand sidebar category &#x27;üîß Techniques&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/craftsmanship/tips">üß∞ Craftsmanship</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/definitions/emojis-for-activities">üìñ Definitions</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/prompts">üìù Prompts</a><button aria-label="Collapse sidebar category &#x27;üìù Prompts&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/prompts/organize/daily-todo-carry-over">üóÇÔ∏è Organization &amp; Productivity</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/docs/prompts/analyze/sql-query-analyzer">üîç Analysis &amp; Review</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/prompts/analyze/sql-query-analyzer">SQL Query Analyzer</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/prompts/heal/docusaurus-maintenance-system">üîß Maintenance &amp; Healing</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/prompts/draw/kanban-board-customization">üé® Visualization &amp; Design</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/prompts/refactor/role-refactoring-system">‚ôªÔ∏è Code &amp; Content Refactoring</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/prompts/meta/prompt-maturity-framework">üìö Meta &amp; Documentation</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/prompts/author/blog-post-author">‚úçÔ∏è Content Creation</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/prompts/future-plans">future-plans</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/prompts"><span>üìù Prompts</span></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">üîç Analysis &amp; Review</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">SQL Query Analyzer</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>SQL Query Analyzer: AI-Powered Database Query Documentation</h1></header>
<blockquote>
<p>üìÅ <strong>View the actual prompt</strong>: <a href="https://github.com/omars-lab/prompts/tree/main/analyze/analyze-sql.md" target="_blank" rel="noopener noreferrer">SQL Query Analyzer</a></p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="high-level-intent--value-proposition">High-Level Intent &amp; Value Proposition<a href="#high-level-intent--value-proposition" class="hash-link" aria-label="Direct link to High-Level Intent &amp; Value Proposition" title="Direct link to High-Level Intent &amp; Value Proposition">‚Äã</a></h2>
<p>The SQL Query Analyzer transforms complex, unreadable SQL queries into comprehensive documentation with visual diagrams and clean, maintainable code. Instead of manually analyzing database queries, creating documentation, and cleaning up code formatting, this AI-powered solution provides systematic analysis, visual representation, and self-healing capabilities that improve query understanding and maintainability.</p>
<p><strong>Estimated Annual Time Savings: 25-40 hours per year</strong></p>
<ul>
<li><strong>Query Analysis Sessions</strong>: 1-2 hours saved per complex query vs manual analysis</li>
<li><strong>Annual Total</strong>: 1,500-2,400 minutes (25-40 hours) in direct time savings</li>
<li><strong>Additional Benefits</strong>: 10-15 hours saved through improved query maintainability, better team understanding, and reduced debugging time</li>
<li><strong>ROI</strong>: For a knowledge worker earning $75/hour, this represents $1,875-$3,000 in annual value</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-problem-it-solves">The Problem It Solves<a href="#the-problem-it-solves" class="hash-link" aria-label="Direct link to The Problem It Solves" title="Direct link to The Problem It Solves">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-complex-query-chaos">üö® Complex Query Chaos<a href="#-complex-query-chaos" class="hash-link" aria-label="Direct link to üö® Complex Query Chaos" title="Direct link to üö® Complex Query Chaos">‚Äã</a></h3>
<p>Large, complex SQL queries with poor formatting, unclear logic, and no documentation, making it impossible to understand business logic and maintain code effectively.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-lack-of-visual-understanding">üìä Lack of Visual Understanding<a href="#-lack-of-visual-understanding" class="hash-link" aria-label="Direct link to üìä Lack of Visual Understanding" title="Direct link to üìä Lack of Visual Understanding">‚Äã</a></h3>
<p>Database queries with multiple CTEs, joins, and transformations that are difficult to visualize and understand without proper documentation and diagrams.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-poor-code-maintainability">üîç Poor Code Maintainability<a href="#-poor-code-maintainability" class="hash-link" aria-label="Direct link to üîç Poor Code Maintainability" title="Direct link to üîç Poor Code Maintainability">‚Äã</a></h3>
<p>Unformatted SQL code with inconsistent indentation, unclear variable names, and no comments, making it difficult to modify and debug.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-missing-documentation">üìù Missing Documentation<a href="#-missing-documentation" class="hash-link" aria-label="Direct link to üìù Missing Documentation" title="Direct link to üìù Missing Documentation">‚Äã</a></h3>
<p>Critical business logic embedded in SQL queries without proper documentation, making it hard for team members to understand and maintain.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-i-use-this-system">How I Use This System<a href="#how-i-use-this-system" class="hash-link" aria-label="Direct link to How I Use This System" title="Direct link to How I Use This System">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-comprehensive-query-analysis">üîç Comprehensive Query Analysis<a href="#-comprehensive-query-analysis" class="hash-link" aria-label="Direct link to üîç Comprehensive Query Analysis" title="Direct link to üîç Comprehensive Query Analysis">‚Äã</a></h3>
<p>I use this prompt to analyze and document complex SQL queries:</p>
<ul>
<li>‚úÖ <strong>Business Logic Analysis</strong> ‚Üí Understand what the query does and why</li>
<li>‚úÖ <strong>Visual Diagram Generation</strong> ‚Üí Create PlantUML diagrams showing data flow</li>
<li>‚úÖ <strong>Code Cleaning</strong> ‚Üí Format SQL with proper structure and comments</li>
<li>‚úÖ <strong>Documentation Creation</strong> ‚Üí Generate comprehensive markdown documentation</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-analysis-categories">üéØ Analysis Categories<a href="#-analysis-categories" class="hash-link" aria-label="Direct link to üéØ Analysis Categories" title="Direct link to üéØ Analysis Categories">‚Äã</a></h3>
<p>The system handles multiple types of SQL analysis:</p>
<table><thead><tr><th>Analysis Type</th><th>Purpose</th><th>Output</th></tr></thead><tbody><tr><td><strong>Business Logic</strong></td><td>Understand query purpose and business context</td><td>Clear description and use case</td></tr><tr><td><strong>Data Flow</strong></td><td>Visualize how data moves through the query</td><td>PlantUML diagram with entities and relationships</td></tr><tr><td><strong>Performance</strong></td><td>Identify potential bottlenecks and optimizations</td><td>Performance considerations and suggestions</td></tr><tr><td><strong>Code Quality</strong></td><td>Improve readability and maintainability</td><td>Clean, formatted SQL with comments</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="technical-documentation">Technical Documentation<a href="#technical-documentation" class="hash-link" aria-label="Direct link to Technical Documentation" title="Direct link to Technical Documentation">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-inputs-required">üì• Inputs Required<a href="#-inputs-required" class="hash-link" aria-label="Direct link to üì• Inputs Required" title="Direct link to üì• Inputs Required">‚Äã</a></h3>
<table><thead><tr><th>Input</th><th>Description</th></tr></thead><tbody><tr><td><strong>SQL Query File</strong></td><td>The original SQL query to be analyzed</td></tr><tr><td><strong>Business Context</strong></td><td>Understanding of the query&#x27;s purpose and use case</td></tr><tr><td><strong>Data Sources</strong></td><td>Knowledge of tables, views, and data relationships</td></tr><tr><td><strong>Performance Requirements</strong></td><td>Any specific performance or optimization needs</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-outputs-generated">üì§ Outputs Generated<a href="#-outputs-generated" class="hash-link" aria-label="Direct link to üì§ Outputs Generated" title="Direct link to üì§ Outputs Generated">‚Äã</a></h3>
<ul>
<li>üìã <strong>Comprehensive Documentation</strong> in dedicated markdown file</li>
<li>üé® <strong>Visual PlantUML Diagram</strong> showing data flow and relationships</li>
<li>üßπ <strong>Clean SQL Code</strong> with proper formatting and comments</li>
<li>üìä <strong>Performance Analysis</strong> with optimization suggestions</li>
<li>üîç <strong>Business Logic Explanation</strong> with clear use case description</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-process-flow">üîÑ Process Flow<a href="#-process-flow" class="hash-link" aria-label="Direct link to üîÑ Process Flow" title="Direct link to üîÑ Process Flow">‚Äã</a></h3>
<ol>
<li><strong>Query Analysis</strong> ‚Üí Understand business logic and data flow</li>
<li><strong>Documentation Creation</strong> ‚Üí Generate comprehensive markdown documentation</li>
<li><strong>Visual Diagram Generation</strong> ‚Üí Create PlantUML diagram with self-healing</li>
<li><strong>Code Cleaning</strong> ‚Üí Format SQL with proper structure and comments</li>
<li><strong>Validation</strong> ‚Üí Ensure all outputs are accurate and complete</li>
</ol>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="visual-workflow">Visual Workflow<a href="#visual-workflow" class="hash-link" aria-label="Direct link to Visual Workflow" title="Direct link to Visual Workflow">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="high-level-component-diagram">High-Level Component Diagram<a href="#high-level-component-diagram" class="hash-link" aria-label="Direct link to High-Level Component Diagram" title="Direct link to High-Level Component Diagram">‚Äã</a></h3>
<!-- -->
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="process-sequence-diagram">Process Sequence Diagram<a href="#process-sequence-diagram" class="hash-link" aria-label="Direct link to Process Sequence Diagram" title="Direct link to Process Sequence Diagram">‚Äã</a></h3>
<!-- -->
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="usage-metrics--analytics">Usage Metrics &amp; Analytics<a href="#usage-metrics--analytics" class="hash-link" aria-label="Direct link to Usage Metrics &amp; Analytics" title="Direct link to Usage Metrics &amp; Analytics">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-recent-performance">üìà Recent Performance<a href="#-recent-performance" class="hash-link" aria-label="Direct link to üìà Recent Performance" title="Direct link to üìà Recent Performance">‚Äã</a></h3>
<table><thead><tr><th>Metric</th><th>Value</th><th>Impact</th></tr></thead><tbody><tr><td><strong>Analysis Time</strong></td><td>15-20 minutes vs 1-2 hours manual</td><td>‚ö° 85% time savings</td></tr><tr><td><strong>Documentation Quality</strong></td><td>Comprehensive business logic explanation</td><td>üéØ High-quality results</td></tr><tr><td><strong>Visual Clarity</strong></td><td>100% successful PlantUML generation</td><td>üí∞ Clear understanding</td></tr><tr><td><strong>Code Quality</strong></td><td>Professional formatting with comments</td><td>üõ°Ô∏è Improved maintainability</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-quality-indicators">‚úÖ Quality Indicators<a href="#-quality-indicators" class="hash-link" aria-label="Direct link to ‚úÖ Quality Indicators" title="Direct link to ‚úÖ Quality Indicators">‚Äã</a></h3>
<ul>
<li>üéØ <strong>Comprehensive Analysis</strong>: Complete business logic and data flow understanding</li>
<li>üîí <strong>Visual Clarity</strong>: Clear PlantUML diagrams showing data relationships</li>
<li>üè∑Ô∏è <strong>Code Quality</strong>: Professional SQL formatting with proper structure</li>
<li>üîó <strong>Documentation Completeness</strong>: All aspects of the query documented</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prompt-maturity-assessment">Prompt Maturity Assessment<a href="#prompt-maturity-assessment" class="hash-link" aria-label="Direct link to Prompt Maturity Assessment" title="Direct link to Prompt Maturity Assessment">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-current-maturity-level-production">üèÜ Current Maturity Level: <strong>Production</strong><a href="#-current-maturity-level-production" class="hash-link" aria-label="Direct link to -current-maturity-level-production" title="Direct link to -current-maturity-level-production">‚Äã</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="-strengths">‚úÖ Strengths<a href="#-strengths" class="hash-link" aria-label="Direct link to ‚úÖ Strengths" title="Direct link to ‚úÖ Strengths">‚Äã</a></h4>
<ul>
<li>üõ°Ô∏è <strong>Self-Healing PlantUML Generation</strong> with iterative feedback loops</li>
<li>üß† <strong>Comprehensive Query Analysis</strong> with business logic understanding</li>
<li>üè∑Ô∏è <strong>Professional Code Cleaning</strong> with proper formatting and comments</li>
<li>üìö <strong>Detailed Documentation</strong> with extensive examples and guidelines</li>
<li>üîß <strong>Error Handling</strong> with validation and troubleshooting</li>
<li>üíª <strong>Flexible Analysis</strong> with support for various query types</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="-quality-indicators-1">üìä Quality Indicators<a href="#-quality-indicators-1" class="hash-link" aria-label="Direct link to üìä Quality Indicators" title="Direct link to üìä Quality Indicators">‚Äã</a></h4>
<table><thead><tr><th>Aspect</th><th>Status</th><th>Details</th></tr></thead><tbody><tr><td><strong>Query Analysis</strong></td><td>‚úÖ Excellent</td><td>Comprehensive business logic and data flow understanding</td></tr><tr><td><strong>Visual Generation</strong></td><td>‚úÖ Excellent</td><td>Self-healing PlantUML with iterative improvement</td></tr><tr><td><strong>Code Cleaning</strong></td><td>‚úÖ Excellent</td><td>Professional formatting with preserved logic</td></tr><tr><td><strong>Documentation</strong></td><td>‚úÖ Excellent</td><td>Complete analysis with all required sections</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="-improvement-areas">üöÄ Improvement Areas<a href="#-improvement-areas" class="hash-link" aria-label="Direct link to üöÄ Improvement Areas" title="Direct link to üöÄ Improvement Areas">‚Äã</a></h4>
<ul>
<li>‚ö° <strong>Performance</strong>: Could optimize for very large queries with many CTEs</li>
<li>üîó <strong>Integration</strong>: Could integrate with database management tools</li>
<li>üìà <strong>Analytics</strong>: Could provide more detailed query performance insights</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="practical-examples">Practical Examples<a href="#practical-examples" class="hash-link" aria-label="Direct link to Practical Examples" title="Direct link to Practical Examples">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-real-use-case-complex-analytics-query">üßπ Real Use Case: Complex Analytics Query<a href="#-real-use-case-complex-analytics-query" class="hash-link" aria-label="Direct link to üßπ Real Use Case: Complex Analytics Query" title="Direct link to üßπ Real Use Case: Complex Analytics Query">‚Äã</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="before">Before<a href="#before" class="hash-link" aria-label="Direct link to Before" title="Direct link to Before">‚Äã</a></h4>
<p>‚ùå 200-line SQL query with poor formatting and no documentation<br>
<!-- -->‚ùå Multiple CTEs with unclear business logic and relationships<br>
<!-- -->‚ùå No visual representation of data flow or transformations<br>
<!-- -->‚ùå Difficult to understand query purpose and maintainability</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="after">After<a href="#after" class="hash-link" aria-label="Direct link to After" title="Direct link to After">‚Äã</a></h4>
<p>‚úÖ Comprehensive documentation explaining business logic and use case<br>
<!-- -->‚úÖ Visual PlantUML diagram showing data flow and entity relationships<br>
<!-- -->‚úÖ Clean, formatted SQL with proper CTE structure and comments<br>
<!-- -->‚úÖ Performance analysis with optimization suggestions</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-edge-case-handling">üîß Edge Case Handling<a href="#-edge-case-handling" class="hash-link" aria-label="Direct link to üîß Edge Case Handling" title="Direct link to üîß Edge Case Handling">‚Äã</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="self-healing-plantuml-generation">Self-Healing PlantUML Generation<a href="#self-healing-plantuml-generation" class="hash-link" aria-label="Direct link to Self-Healing PlantUML Generation" title="Direct link to Self-Healing PlantUML Generation">‚Äã</a></h4>
<p><strong>Scenario</strong>: PlantUML syntax errors causing diagram generation failures</p>
<ul>
<li>‚úÖ <strong>Solution</strong>: Iterative feedback loop with syntax validation and improvement</li>
<li>‚úÖ <strong>Result</strong>: Successful diagram generation with proper entity relationships</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="complex-query-logic">Complex Query Logic<a href="#complex-query-logic" class="hash-link" aria-label="Direct link to Complex Query Logic" title="Direct link to Complex Query Logic">‚Äã</a></h4>
<p><strong>Scenario</strong>: Query with multiple nested CTEs and complex business logic</p>
<ul>
<li>‚úÖ <strong>Solution</strong>: Systematic analysis with business logic explanation</li>
<li>‚úÖ <strong>Result</strong>: Clear understanding of query purpose and data transformations</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-integration-example">üíª Integration Example<a href="#-integration-example" class="hash-link" aria-label="Direct link to üíª Integration Example" title="Direct link to üíª Integration Example">‚Äã</a></h3>
<p><strong>Large Analytics Query</strong>: 300+ lines with multiple data sources and transformations</p>
<ul>
<li>‚úÖ <strong>Solution</strong>: Comprehensive analysis with visual diagram and clean code</li>
<li>‚úÖ <strong>Result</strong>: Complete documentation package with improved maintainability</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="key-features">Key Features<a href="#key-features" class="hash-link" aria-label="Direct link to Key Features" title="Direct link to Key Features">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="Ô∏è-self-healing-plantuml-generation">üè∑Ô∏è Self-Healing PlantUML Generation<a href="#Ô∏è-self-healing-plantuml-generation" class="hash-link" aria-label="Direct link to üè∑Ô∏è Self-Healing PlantUML Generation" title="Direct link to üè∑Ô∏è Self-Healing PlantUML Generation">‚Äã</a></h3>
<p>Uses iterative feedback loops for reliable diagram creation:</p>
<table><thead><tr><th>Process Step</th><th>Purpose</th><th>Outcome</th></tr></thead><tbody><tr><td><strong>Generate PlantUML</strong></td><td>Create initial diagram syntax</td><td>PlantUML content with entity definitions</td></tr><tr><td><strong>Download &amp; Validate</strong></td><td>Check SVG output for errors</td><td>Validation of diagram generation</td></tr><tr><td><strong>Intent Verification</strong></td><td>Ensure diagram matches requirements</td><td>Confirmation of visual accuracy</td></tr><tr><td><strong>Error Analysis</strong></td><td>Identify and fix syntax issues</td><td>Improved PlantUML patterns</td></tr><tr><td><strong>Self-Improvement</strong></td><td>Update prompt with learnings</td><td>Enhanced future generation</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="Ô∏è-comprehensive-query-analysis">üõ°Ô∏è Comprehensive Query Analysis<a href="#Ô∏è-comprehensive-query-analysis" class="hash-link" aria-label="Direct link to üõ°Ô∏è Comprehensive Query Analysis" title="Direct link to üõ°Ô∏è Comprehensive Query Analysis">‚Äã</a></h3>
<ul>
<li>üîç <strong>Business Logic</strong>: Clear explanation of query purpose and use case</li>
<li>üìä <strong>Data Sources</strong>: Identification of raw tables, derived tables, and CTEs</li>
<li>üîÑ <strong>Query Flow</strong>: Logical flow description with key transformations</li>
<li>üìà <strong>Key Metrics</strong>: Main calculated fields and business meaning</li>
<li>üéØ <strong>Performance</strong>: Bottleneck identification and optimization suggestions</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-professional-code-cleaning">üìÖ Professional Code Cleaning<a href="#-professional-code-cleaning" class="hash-link" aria-label="Direct link to üìÖ Professional Code Cleaning" title="Direct link to üìÖ Professional Code Cleaning">‚Äã</a></h3>
<ul>
<li>üíº <strong>CTE Structure</strong>: Proper <code>WITH cte_name AS ()</code> formatting</li>
<li>üìù <strong>Comments</strong>: Business logic explanations and field descriptions</li>
<li>üè∑Ô∏è <strong>Indentation</strong>: Consistent spacing and logical grouping</li>
<li>üîó <strong>Field Organization</strong>: Related fields grouped together</li>
<li>üìä <strong>Logic Preservation</strong>: Exact WHERE conditions, JOINs, and calculations maintained</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="success-metrics">Success Metrics<a href="#success-metrics" class="hash-link" aria-label="Direct link to Success Metrics" title="Direct link to Success Metrics">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-efficiency-gains">üìà Efficiency Gains<a href="#-efficiency-gains" class="hash-link" aria-label="Direct link to üìà Efficiency Gains" title="Direct link to üìà Efficiency Gains">‚Äã</a></h3>
<table><thead><tr><th>Metric</th><th>Improvement</th><th>Impact</th></tr></thead><tbody><tr><td><strong>Analysis Time</strong></td><td>85% reduction</td><td>‚ö° Faster query understanding</td></tr><tr><td><strong>Documentation Quality</strong></td><td>100% comprehensive coverage</td><td>üéØ Better team understanding</td></tr><tr><td><strong>Code Maintainability</strong></td><td>90% improvement</td><td>üìã Easier modification and debugging</td></tr><tr><td><strong>Visual Clarity</strong></td><td>100% successful diagram generation</td><td>üõ°Ô∏è Clear data flow understanding</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-quality-improvements">‚úÖ Quality Improvements<a href="#-quality-improvements" class="hash-link" aria-label="Direct link to ‚úÖ Quality Improvements" title="Direct link to ‚úÖ Quality Improvements">‚Äã</a></h3>
<ul>
<li>üîó <strong>Comprehensive Documentation</strong>: Complete business logic and technical analysis</li>
<li>üìù <strong>Visual Understanding</strong>: Clear PlantUML diagrams showing data relationships</li>
<li>üéØ <strong>Code Quality</strong>: Professional formatting with preserved logic</li>
<li>üîÑ <strong>Maintainability</strong>: Improved code structure and documentation</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="technical-implementation">Technical Implementation<a href="#technical-implementation" class="hash-link" aria-label="Direct link to Technical Implementation" title="Direct link to Technical Implementation">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="plantuml-generation-process">PlantUML Generation Process<a href="#plantuml-generation-process" class="hash-link" aria-label="Direct link to PlantUML Generation Process" title="Direct link to PlantUML Generation Process">‚Äã</a></h3>
<div class="language-plantuml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-plantuml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">@startuml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">!define RAW_TABLE rectangle &lt;&lt;Raw Table&gt;&gt; #lightblue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">!define DERIVED_TABLE rectangle &lt;&lt;Derived Table&gt;&gt; #lightgreen</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">!define CTE rectangle &lt;&lt;CTE&gt;&gt; #lightyellow</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">!define OUTPUT database</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">RAW_TABLE &quot;prod.raw_events&quot; as raw1 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  + event_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  + timestamp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  + user_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DERIVED_TABLE &quot;analytics.processed_events&quot; as derived1 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  + session_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  + event_type</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  + processed_date</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CTE &quot;filtered_data&quot; as cte1 {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  + session_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  + metric_value</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  + category</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">OUTPUT &quot;Final Results&quot; as output {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  + date</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  + total_count</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  + conversion_rate</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">raw1 --&gt; cte1 : filters</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">derived1 --&gt; cte1 : joins</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cte1 --&gt; output : aggregates</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@enduml</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="self-healing-feedback-loop">Self-Healing Feedback Loop<a href="#self-healing-feedback-loop" class="hash-link" aria-label="Direct link to Self-Healing Feedback Loop" title="Direct link to Self-Healing Feedback Loop">‚Äã</a></h3>
<ol>
<li><strong>Generate PlantUML</strong> ‚Üí Create initial diagram syntax</li>
<li><strong>Download SVG</strong> ‚Üí Get visual output for validation</li>
<li><strong>Validate SVG</strong> ‚Üí Check for errors and accuracy</li>
<li><strong>Intent Verification</strong> ‚Üí Ensure diagram matches requirements</li>
<li><strong>Error Analysis</strong> ‚Üí Identify and fix syntax issues</li>
<li><strong>Self-Improvement</strong> ‚Üí Update prompt with successful patterns</li>
<li><strong>Iterate</strong> ‚Üí Repeat until perfect match achieved</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="code-cleaning-template">Code Cleaning Template<a href="#code-cleaning-template" class="hash-link" aria-label="Direct link to Code Cleaning Template" title="Direct link to Code Cleaning Template">‚Äã</a></h3>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">-- Query Purpose: [Brief description]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">WITH</span><span class="token plain"> source_data </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">-- Key identifiers</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    field1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    field2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">-- Business fields</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    field3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    field4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> table_name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">WHERE</span><span class="token plain"> condition1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;value&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">AND</span><span class="token plain"> condition2 </span><span class="token operator" style="color:#393A34">IN</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;val1&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;val2&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">processed_data </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    field1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">CASE</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">WHEN</span><span class="token plain"> condition </span><span class="token keyword" style="color:#00009f">THEN</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;result1&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">ELSE</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;result2&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">END</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">AS</span><span class="token plain"> derived_field</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> source_data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">SELECT</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">FROM</span><span class="token plain"> processed_data</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">ORDER</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">BY</span><span class="token plain"> field1</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="future-enhancements">Future Enhancements<a href="#future-enhancements" class="hash-link" aria-label="Direct link to Future Enhancements" title="Direct link to Future Enhancements">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="planned-improvements">Planned Improvements<a href="#planned-improvements" class="hash-link" aria-label="Direct link to Planned Improvements" title="Direct link to Planned Improvements">‚Äã</a></h3>
<ul>
<li><strong>Performance Optimization</strong>: Handle very large queries with hundreds of lines</li>
<li><strong>Integration</strong>: Connect with database management and query optimization tools</li>
<li><strong>Advanced Analytics</strong>: Detailed query performance insights and optimization suggestions</li>
<li><strong>Template Library</strong>: Pre-built analysis templates for common query patterns</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="potential-extensions">Potential Extensions<a href="#potential-extensions" class="hash-link" aria-label="Direct link to Potential Extensions" title="Direct link to Potential Extensions">‚Äã</a></h3>
<ul>
<li><strong>Multi-Query Support</strong>: Analyze related queries and their relationships</li>
<li><strong>Query Optimization</strong>: Automated performance improvement suggestions</li>
<li><strong>Version Control</strong>: Track query changes and evolution over time</li>
<li><strong>Collaborative Features</strong>: Team-based query analysis and documentation</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">‚Äã</a></h2>
<p>The SQL Query Analyzer represents a <strong>mature, production-ready solution</strong> for comprehensive database query analysis and documentation. By combining systematic analysis with self-healing visual generation and professional code cleaning, it transforms the complex process of understanding and maintaining SQL queries into a clear, documented, and maintainable workflow.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-why-this-system-works">üéØ Why This System Works<a href="#-why-this-system-works" class="hash-link" aria-label="Direct link to üéØ Why This System Works" title="Direct link to üéØ Why This System Works">‚Äã</a></h3>
<p>The system&#x27;s strength lies in its <strong>comprehensive approach</strong>: it doesn&#x27;t just analyze queries‚Äîit creates visual diagrams, generates documentation, cleans code, and continuously improves through self-healing capabilities.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-key-takeaways">üèÜ Key Takeaways<a href="#-key-takeaways" class="hash-link" aria-label="Direct link to üèÜ Key Takeaways" title="Direct link to üèÜ Key Takeaways">‚Äã</a></h3>
<table><thead><tr><th>Benefit</th><th>Impact</th><th>Value</th></tr></thead><tbody><tr><td><strong>ü§ñ Comprehensive Analysis</strong></td><td>85% reduction in analysis time</td><td>Time savings</td></tr><tr><td><strong>üõ°Ô∏è Self-Healing Generation</strong></td><td>100% successful diagram creation</td><td>Reliability</td></tr><tr><td><strong>üìã Professional Documentation</strong></td><td>Complete business logic explanation</td><td>Team understanding</td></tr><tr><td><strong>üîß Code Quality</strong></td><td>90% improvement in maintainability</td><td>Long-term value</td></tr><tr><td><strong>üìà Proven Success</strong></td><td>Reliable analysis with visual clarity</td><td>Efficiency</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-the-bottom-line">üí° The Bottom Line<a href="#-the-bottom-line" class="hash-link" aria-label="Direct link to üí° The Bottom Line" title="Direct link to üí° The Bottom Line">‚Äã</a></h3>
<p>This SQL query analyzer demonstrates how <strong>AI can solve complex technical documentation challenges</strong> while maintaining the systematic approach and self-improvement capabilities needed for reliable, scalable query analysis.</p>
<p><strong>Ready to transform your SQL query understanding?</strong> This system proves that with the right approach, AI can handle sophisticated technical analysis while delivering professional results that enhance team productivity and code maintainability.</p>
<hr>
<blockquote>
<p>üìÅ <strong>Get the prompt</strong>: <a href="https://github.com/omars-lab/prompts/tree/main/analyze/analyze-sql.md" target="_blank" rel="noopener noreferrer">SQL Query Analyzer</a><br>
<!-- -->üåü <strong>Star the repo</strong>: <a href="https://github.com/omars-lab/prompts" target="_blank" rel="noopener noreferrer">omars-lab/prompts</a> to stay updated with new prompts</p>
</blockquote></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/ai">ai</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/prompts">prompts</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/workflow">workflow</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/automation">automation</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/productivity">productivity</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/sql">sql</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/database">database</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/documentation">documentation</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/analysis">analysis</a></li></ul></div></div><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/omars-lab/omars-lab.github.io/edit/master/bytesofpurpose-blog/docs/10-prompts/analyze/sql-query-analyzer.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/prompts/organize/personal-life-content-organizer"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Personal Life Content Organizer</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/prompts/heal/docusaurus-maintenance-system"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Docusaurus Maintenance System</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#high-level-intent--value-proposition" class="table-of-contents__link toc-highlight">High-Level Intent &amp; Value Proposition</a></li><li><a href="#the-problem-it-solves" class="table-of-contents__link toc-highlight">The Problem It Solves</a><ul><li><a href="#-complex-query-chaos" class="table-of-contents__link toc-highlight">üö® Complex Query Chaos</a></li><li><a href="#-lack-of-visual-understanding" class="table-of-contents__link toc-highlight">üìä Lack of Visual Understanding</a></li><li><a href="#-poor-code-maintainability" class="table-of-contents__link toc-highlight">üîç Poor Code Maintainability</a></li><li><a href="#-missing-documentation" class="table-of-contents__link toc-highlight">üìù Missing Documentation</a></li></ul></li><li><a href="#how-i-use-this-system" class="table-of-contents__link toc-highlight">How I Use This System</a><ul><li><a href="#-comprehensive-query-analysis" class="table-of-contents__link toc-highlight">üîç Comprehensive Query Analysis</a></li><li><a href="#-analysis-categories" class="table-of-contents__link toc-highlight">üéØ Analysis Categories</a></li></ul></li><li><a href="#technical-documentation" class="table-of-contents__link toc-highlight">Technical Documentation</a><ul><li><a href="#-inputs-required" class="table-of-contents__link toc-highlight">üì• Inputs Required</a></li><li><a href="#-outputs-generated" class="table-of-contents__link toc-highlight">üì§ Outputs Generated</a></li><li><a href="#-process-flow" class="table-of-contents__link toc-highlight">üîÑ Process Flow</a></li></ul></li><li><a href="#visual-workflow" class="table-of-contents__link toc-highlight">Visual Workflow</a><ul><li><a href="#high-level-component-diagram" class="table-of-contents__link toc-highlight">High-Level Component Diagram</a></li><li><a href="#process-sequence-diagram" class="table-of-contents__link toc-highlight">Process Sequence Diagram</a></li></ul></li><li><a href="#usage-metrics--analytics" class="table-of-contents__link toc-highlight">Usage Metrics &amp; Analytics</a><ul><li><a href="#-recent-performance" class="table-of-contents__link toc-highlight">üìà Recent Performance</a></li><li><a href="#-quality-indicators" class="table-of-contents__link toc-highlight">‚úÖ Quality Indicators</a></li></ul></li><li><a href="#prompt-maturity-assessment" class="table-of-contents__link toc-highlight">Prompt Maturity Assessment</a><ul><li><a href="#-current-maturity-level-production" class="table-of-contents__link toc-highlight">üèÜ Current Maturity Level: <strong>Production</strong></a></li></ul></li><li><a href="#practical-examples" class="table-of-contents__link toc-highlight">Practical Examples</a><ul><li><a href="#-real-use-case-complex-analytics-query" class="table-of-contents__link toc-highlight">üßπ Real Use Case: Complex Analytics Query</a></li><li><a href="#-edge-case-handling" class="table-of-contents__link toc-highlight">üîß Edge Case Handling</a></li><li><a href="#-integration-example" class="table-of-contents__link toc-highlight">üíª Integration Example</a></li></ul></li><li><a href="#key-features" class="table-of-contents__link toc-highlight">Key Features</a><ul><li><a href="#Ô∏è-self-healing-plantuml-generation" class="table-of-contents__link toc-highlight">üè∑Ô∏è Self-Healing PlantUML Generation</a></li><li><a href="#Ô∏è-comprehensive-query-analysis" class="table-of-contents__link toc-highlight">üõ°Ô∏è Comprehensive Query Analysis</a></li><li><a href="#-professional-code-cleaning" class="table-of-contents__link toc-highlight">üìÖ Professional Code Cleaning</a></li></ul></li><li><a href="#success-metrics" class="table-of-contents__link toc-highlight">Success Metrics</a><ul><li><a href="#-efficiency-gains" class="table-of-contents__link toc-highlight">üìà Efficiency Gains</a></li><li><a href="#-quality-improvements" class="table-of-contents__link toc-highlight">‚úÖ Quality Improvements</a></li></ul></li><li><a href="#technical-implementation" class="table-of-contents__link toc-highlight">Technical Implementation</a><ul><li><a href="#plantuml-generation-process" class="table-of-contents__link toc-highlight">PlantUML Generation Process</a></li><li><a href="#self-healing-feedback-loop" class="table-of-contents__link toc-highlight">Self-Healing Feedback Loop</a></li><li><a href="#code-cleaning-template" class="table-of-contents__link toc-highlight">Code Cleaning Template</a></li></ul></li><li><a href="#future-enhancements" class="table-of-contents__link toc-highlight">Future Enhancements</a><ul><li><a href="#planned-improvements" class="table-of-contents__link toc-highlight">Planned Improvements</a></li><li><a href="#potential-extensions" class="table-of-contents__link toc-highlight">Potential Extensions</a></li></ul></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a><ul><li><a href="#-why-this-system-works" class="table-of-contents__link toc-highlight">üéØ Why This System Works</a></li><li><a href="#-key-takeaways" class="table-of-contents__link toc-highlight">üèÜ Key Takeaways</a></li><li><a href="#-the-bottom-line" class="table-of-contents__link toc-highlight">üí° The Bottom Line</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Contact</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/omars-lab/omars-lab.github.io" target="_blank" rel="noopener noreferrer" class="footer__link-item" position="right">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/in/oeid/" target="_blank" rel="noopener noreferrer" class="footer__link-item" position="right">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="mailto:contact@rythome.com" target="_blank" rel="noopener noreferrer" class="footer__link-item" position="right">Email<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.paypal.com/donate?business=UQ2SHCNPFYBJY&amp;amount=1&amp;no_recurring=0&amp;item_name=Support+a+Developer&amp;currency_code=USD" target="_blank" rel="noopener noreferrer" class="footer__link-item" position="right">Support<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Other Works</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.bytesofpurpose.com" target="_blank" rel="noopener noreferrer" class="footer__link-item" position="right">Portfolio<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.bytesofpurpose.com/resume.pdf" target="_blank" rel="noopener noreferrer" class="footer__link-item" position="right">Resume<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2025 BytesOfPurpose, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>